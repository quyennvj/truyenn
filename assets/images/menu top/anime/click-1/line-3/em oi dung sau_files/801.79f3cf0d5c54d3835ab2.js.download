"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[801],{61924:(e,t,i)=>{i.d(t,{r:()=>Qi});var o=i(74512),n=i(24246),a=i(32735),r=i(22538),l=i(68892),s=i(88236),d=i(66036),c=i(89808),u=i(83023),p=i(32321),h=i(90938),m=i(86987),g=i(52970),v=i(65768),x=i(62904),b=i(54032),y=i(14584),f=i(69847),_=i(39189),j=i(27721),k=i(70221),C=i(69971),w=i(62013),S=i(59719),P=i(45257),T=i(99915),I=i(73323),D=i(92007),O=i(60083),R=i(56749),Z=i(91538),B=i(26573),M=i(958),L=i(13581),z=i.n(L),F=i(30526),E=i(32509),A=i(80829),$=i(76427),U=i(17941),V=i(90883),G=i(33748),W=i(39698),q=i(40200),H=i(29984);const N=(0,q.Z)("div",{target:"e1t8v77z0"})((({theme:{direction:e},align:t})=>[{textAlign:t},(0,H.YJ)({direction:e,textAlign:"left"===t?"start":"end"})]),"label:DivStatisticContainer;"),Y=(0,q.Z)("div",{target:"e1t8v77z1"})({color:"inherit",display:"inline-block"},"label:DivValue;"),Q=(0,q.Z)("div",{target:"e1t8v77z2"})((({color:e})=>({color:e,":global(svg)":{verticalAlign:"text-bottom"}})),"label:DivComparison;"),J={rise:(0,o.jsx)(G.Z,{width:16,height:16},void 0),fall:(0,o.jsx)(W.Z,{width:16,height:16},void 0),"no-change":null},K={rise:"#10A2C5",fall:"#FF4C3A","no-change":"inherit"},X=(0,a.memo)((({value:e,comparison:t,suffix:i,growth:n,align:a="left",children:r,showArrow:l=!1})=>{const s=K[n];return(0,o.jsxs)(N,Object.assign({align:a},{children:[(0,o.jsx)(Y,{children:e},void 0),(0,o.jsxs)(Q,Object.assign({color:s},{children:[null!=t?t:r,l&&J[n],i]}),void 0)]}),void 0)})),ee=(0,q.Z)("div",{target:"e6a09rd0"})((({theme:{colors:e}})=>({fontSize:"13px",lineHeight:"17px",color:e.TextReverse3,background:e.BGPrimary})),"label:DivTooltipOverlay;"),te=(0,q.Z)("span",{target:"e6a09rd1"})((({theme:e})=>({display:"inline-flex",justifyContent:"center",alignItems:"center",padding:"0 4px",height:"16px",color:e.colors.TextQuaternary,cursor:"pointer"})),"label:SpanTooltipWrapper;"),ie=(0,a.memo)((({desc:e})=>{const t=(0,a.useMemo)((()=>(0,o.jsx)(ee,{children:e},void 0)),[e]),i=(0,a.useMemo)((()=>({borderRadius:"8px",boxShadow:"3px 6px 14px rgba(0, 0, 0, 0.17)"})),[]);return(0,o.jsx)(E.u,Object.assign({tooltipTheme:"white",placement:"top",overlay:t,overlayStyle:i},{children:(0,o.jsx)(te,{children:(0,o.jsx)(B.Z,{width:16,height:16},void 0)},void 0)}),void 0)})),oe=(0,q.Z)("div",{target:"e1m23xuv0"})((({height:e})=>({width:"100%",height:null!=e?e:"unset",display:"flex",flexDirection:"column",justifyContent:"space-around"})),"label:DivVerticalChartContainer;"),ne=(0,q.Z)("div",{target:"e1m23xuv1"})({width:"100%",height:"40px",display:"flex",justifyContent:"space-between",alignItems:"center"},"label:DivVerticalChartItemContainer;"),ae=(0,q.Z)("div",{target:"e1m23xuv2"})((({width:e})=>({width:e,height:"40px",background:"#4DDDF0",justifySelf:"flex-end",cursor:"pointer",transition:"background 200ms linear",animation:"width-expand ease 400ms","@keyframes width-expand":{"0%":{width:0},"100%":{width:e}},":hover":{background:"#00bbd4"}})),"label:DivVerticalBar;"),re=(0,q.Z)("span",{target:"e1m23xuv3"})((({theme:e})=>[(0,H.GI)({theme:e,fontFamily:"Proxima",typography:"P3",color:"TextSecondary"}),{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",flexFlow:"1"}]),"label:SpanBarLabel;"),le=(0,q.Z)("span",{target:"e1m23xuv4"})((({theme:e})=>[(0,H.GI)({theme:e,fontFamily:"Proxima",fontWeight:"semiBold",typography:"P2",color:"TextSecondary"}),{width:"40px",flexShrink:0,alignItems:"center",justifyContent:"flex-end",textAlign:"right"},(0,H.YJ)({direction:e.direction,textAlign:"end"})]),"label:SpanBarValue;"),se=(0,a.memo)((e=>{const{chartData:t}=e,i=(0,a.useCallback)((()=>{const e=[...t].filter((e=>Number(e.value)>=.01));return e.length>5?null:60*e.length+32/e.length+"px"}),[t]),n=(0,a.useMemo)(i,[t,i]);return(0,o.jsx)(oe,Object.assign({height:null!=n?n:""},{children:t.map((({value:e=0,key:t})=>(0,o.jsxs)(ne,{children:[(0,o.jsxs)(re,{children:[t,(0,o.jsx)(ae,{width:100*(null!=e?e:0)+"%"},t)]},void 0),(0,o.jsx)(le,{children:`${(100*(0,U.G)(e)).toFixed(0)}%`},void 0)]},t)))}),void 0)}));var de=i(473),ce=i(28985),ue=i(31191),pe=i(6229),he=i(16219),me=i(11359),ge=i(37674),ve=i(2355),xe=i(51166),be=i(67381),ye=i(61080),fe=i(52702),_e=i(60194),je=i(86319),ke=i(90674),Ce=i(21296),we=i(9086),Se=i.n(we),Pe=i(70336);let Te=class{constructor(e){this.fetch=e}getAnalyticsData(e){return this.fetch.post("/aweme/v1/data/insighs/",{query:Se()(e,"body"),headers:{"Content-Type":"application/x-www-form-urlencoded"},baseUrlType:1,credentials:"include",body:e.body})}};Te=(0,ue.__decorate)([(0,Ce.G)(),(0,ue.__metadata)("design:paramtypes",[Pe.r])],Te);const Ie=new Set(["video_output_time","self_rooms_has_more","self_rooms"]),De={status_code:0},Oe=-1*(new Date).getTimezoneOffset()*60;let Re=class extends pe.D{constructor(e){super(),this.service=e,this.defaultState={loading:!1,hideTerritories:!1,isOldVideo:!1,statusCode:0,requestData:{},analyticsData:{}}}setAnalyticsData(e,t){var i,o;const{status_code:n,user_info:a,video_info:r}=t,{create_time:l}=null!=r?r:{},s=a&&-1!==["HK"].indexOf((null!==(i=null==a?void 0:a.region)&&void 0!==i?i:"").toUpperCase()),d=(null!==(o=null==a?void 0:a.open_insight_time)&&void 0!==o?o:0)>Number(null!=l?l:0);e.statusCode=n,e.hideTerritories=null!=s&&s,e.isOldVideo=d,e.analyticsData=t}setLoading(e,t){e.loading=t}getAnalyticsData(e){return e.pipe((0,xe.z)((({requestData:e,aid:t,region:i})=>{const{existData:o,notExistRequest:n=[],cacheResponse:a}=this.cacheQuest(e);return o.vv_history&&(o.isNewUser=o.vv_history.every((e=>0!==e.status))),0===n.length?(0,ge.of)(this.getActions().setAnalyticsData(o)):this.service.getAnalyticsData({tz_offset:Oe,aid:t,carrier_region:i,body:`type_requests=${JSON.stringify(e)}`}).pipe((0,be.V)(ke.ES),(0,ye.K)((()=>(0,ge.of)({status_code:-1}))),(0,fe.z)((e=>{const{vv_history:t}=e;return t&&(e.isNewUser=t.every((e=>0!==e.status))),a(e),(0,ge.of)(this.getActions().setAnalyticsData(e))})),(0,_e.O)(this.getActions().setLoading(!0)),(0,je.l)(this.getActions().setLoading(!1),this.terminate()))})))}cacheQuest(e){let t={status_code:0};const i=[],o={};return e.forEach((e=>{const n=JSON.stringify(e);o[e.insigh_type]=n,De[n]?t=Object.assign(Object.assign({},t),De[n]):i.push(e)})),{existData:t,notExistRequest:i,cacheResponse:e=>{Object.keys(e).forEach((t=>{Ie.has(t)||o[t]&&e[t]&&(De[o[t]]={[t]:e[t]})}))}}}};var Ze;function Be(){return Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Be.apply(this,arguments)}(0,ue.__decorate)([(0,he.lF)(),(0,ue.__metadata)("design:type",Function),(0,ue.__metadata)("design:paramtypes",[Object,Object]),(0,ue.__metadata)("design:returntype",void 0)],Re.prototype,"setAnalyticsData",null),(0,ue.__decorate)([(0,he.lF)(),(0,ue.__metadata)("design:type",Function),(0,ue.__metadata)("design:paramtypes",[Object,Boolean]),(0,ue.__metadata)("design:returntype",void 0)],Re.prototype,"setLoading",null),(0,ue.__decorate)([(0,he.Qm)({}),(0,ue.__metadata)("design:type",Function),(0,ue.__metadata)("design:paramtypes",[ve.y]),(0,ue.__metadata)("design:returntype",void 0)],Re.prototype,"getAnalyticsData",null),Re=(0,ue.__decorate)([(0,me.Y)("AnalyticsModule"),(0,ue.__metadata)("design:paramtypes",[Te])],Re);const Me=function(e){return a.createElement("svg",Be({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},e),Ze||(Ze=a.createElement("path",{fill:"#161823",fillOpacity:.34,fillRule:"evenodd",d:"M21.75 11.471c0 2.306-1.13 4.286-3.064 6.187-2.365 2.324-5.344 3.7-5.344 3.7-.663.342-1.2.013-1.2-.734v-1.262c-5.386 0-9.892-3.212-9.892-7.89C2.25 6.791 6.615 3 12 3s9.75 3.793 9.75 8.471zm-7.877 7.909a20.644 20.644 0 002.623-1.784c.407-.327.788-.664 1.138-1.008 1.785-1.754 2.616-3.373 2.616-5.117 0-3.8-3.65-6.971-8.25-6.971s-8.25 3.172-8.25 6.971c0 3.621 3.591 6.39 8.391 6.39h1.5v1.65l.232-.131zM6.25 11.25a1.25 1.25 0 102.501 0 1.25 1.25 0 00-2.501 0zM12 12.5a1.25 1.25 0 110-2.5 1.25 1.25 0 010 2.5zm3.25-1.25a1.25 1.25 0 102.5.001 1.25 1.25 0 00-2.5-.002z",clipRule:"evenodd"})))};var Le;function ze(){return ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},ze.apply(this,arguments)}const Fe=function(e){return a.createElement("svg",ze({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},e),Le||(Le=a.createElement("path",{fill:"#161823",fillOpacity:.34,fillRule:"evenodd",d:"M12.111 5.218c.87-1.22 2.299-1.864 3.87-1.864 2.993 0 5.483 2.555 5.483 5.592 0 .087-.002.153-.003.2a.442.442 0 00.003.111c-.012.639-.124 1.167-.323 1.864-.113.126-.218.361-.322.622a2.75 2.75 0 00-.323.621c-1.885 3.114-5.858 6.307-7.1 7.305-.2.161-.33.265-.368.302-.27.266-.539.53-1.078.53s-.808-.264-1.077-.53a7.836 7.836 0 00-.365-.29c-1.337-1.04-5.873-4.572-7.45-7.93-.27-.53-.605-1.793-.621-2.494.006-.006.005-.04.003-.107a7.258 7.258 0 01-.003-.204c0-3.039 2.488-5.592 5.482-5.592 1.569 0 2.999.644 4.192 1.864zm7.37 5.831c.099-.236.185-.421.286-.585.129-.483.183-.808.195-1.163-.002-.039-.002-.05-.002-.087 0-.036 0-.077.002-.132l.002-.136c0-2.221-1.83-4.092-3.982-4.092-1.138 0-2.09.45-2.65 1.235a1.5 1.5 0 01-2.292.178c-.925-.945-1.975-1.413-3.12-1.413-2.154 0-3.983 1.87-3.983 4.092 0 .046 0 .086.002.134l.003.138c0 .033 0 .047-.002.075.033.475.283 1.438.476 1.82.083.177.178.358.285.545.647 1.127 1.696 2.377 3.041 3.681 1.399 1.357 4.46 3.835 4.191 3.572l-.008-.009.025.025.026-.025c.055-.054.434-.363.817-.675.264-.215.531-.432.693-.567.96-.8 1.87-1.614 2.722-2.456 1.191-1.176 2.158-2.303 2.827-3.334.04-.06.078-.12.115-.18a3.9 3.9 0 01.332-.64z",clipRule:"evenodd"})))};var Ee,Ae;function $e(){return $e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},$e.apply(this,arguments)}const Ue=function(e){return a.createElement("svg",$e({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},e),Ee||(Ee=a.createElement("g",{opacity:.34},a.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12z",clipRule:"evenodd",opacity:.01}))),Ae||(Ae=a.createElement("path",{fill:"#161823",fillOpacity:.34,fillRule:"evenodd",d:"M14.629 4.678c-.922-.86-1.675-.536-1.675.728V7.92c-9.041 0-10.644 6.101-11.429 10.01-.188 2.123.735 1.974.972 1.548 2.54-4.564 10.457-3.168 10.457-3.168v2.21c0 1.269.78 1.624 1.742.802l7-5.98c.642-.549.66-1.458.044-2.033l-7.111-6.631zm-1.675 4.743h1.5V6.567l6.15 5.734-6.15 5.255v-2.504l-1.239-.219a13.368 13.368 0 00-.869-.115c-1.71-.18-3.544-.163-5.302.19-1.371.275-2.59.738-3.607 1.417.45-1.645 1.007-2.852 1.872-3.922 1.554-1.92 3.96-2.982 7.645-2.982z",clipRule:"evenodd"})))};var Ve;function Ge(){return Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Ge.apply(this,arguments)}const We=function(e){return a.createElement("svg",Ge({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},e),Ve||(Ve=a.createElement("path",{fill:"#161823",fillOpacity:.34,fillRule:"evenodd",d:"M5.505 5.08v13.967l12.3-6.984-12.3-6.983zm-1.636-.458c0-1.012 1.15-1.64 2.058-1.124l13.107 7.442a1.279 1.279 0 010 2.247L5.927 20.63c-.909.516-2.058-.112-2.058-1.124V4.622z",clipRule:"evenodd"})))};var qe=i(16572);const He=(0,q.Z)("p",{target:"e1icgj7e0"})((({theme:e})=>[(0,H.GI)({theme:e,fontFamily:"Proxima",color:"TextQuaternary",typography:"P4"})]),"label:PEmptyText;"),Ne=(0,q.Z)("div",{target:"e1icgj7e1"})((({theme:e})=>({width:"987px",minHeight:"500px",padding:"48px",background:e.colors.BGPrimary,borderRadius:"8px"})),"label:DivAnalyticsVideo;"),Ye=(0,q.Z)("div",{target:"e1icgj7e2"})((({theme:e})=>({position:"absolute",right:"24px",top:"24px",width:"40px",height:"40px",boxSizing:"border-box",background:e.colors.BGView,color:"#B0B0B4",padding:"8px",borderRadius:"50%",cursor:"pointer"})),"label:DivCloseBtn;"),Qe=(0,q.Z)("div",{target:"e1icgj7e3"})((({theme:e})=>({textAlign:"center",ul:{margin:"16px auto 32px",padding:0,display:"flex",justifyContent:"center",listStyle:"none",li:{minWidth:"100px",marginLeft:"17px",marginBottom:0,"&:first-child":{marginLeft:0}},p:{fontSize:"17px",lineHeight:"20px",color:e.colors.TextPrimary}}})),"label:DivAnalyticsVideoHeader;"),Je=(0,q.Z)("div",{target:"e1icgj7e4"})({display:"flex",justifyContent:"space-between","& > div":{width:"49%",alignSelf:"flex-start"}},"label:DivAnalyticsVideoContent;"),Ke=(0,q.Z)("div",{target:"e1icgj7e5"})({display:"inline-flex",position:"relative",fontSize:0,marginBottom:"12px",cursor:"pointer"},"label:DivImageContainer;"),Xe=(0,q.Z)("img",{target:"e1icgj7e6"})({width:"88px"},"label:ImgVideoCover;"),et=(0,q.Z)("div",{target:"e1icgj7e7"})({position:"absolute",top:0,left:0,bottom:0,right:0,backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, .5))"},"label:DivImgMask;"),tt=(0,q.Z)("p",{target:"e1icgj7e8"})((({theme:e})=>[(0,H.GI)({theme:e,color:"ConstTextInverse"}),{zIndex:2,position:"absolute",width:"100%",textAlign:"center",bottom:"4px",background:"transparent",fontSize:"12px"}]),"label:PDuration;"),it=(0,q.Z)("p",{target:"e1icgj7e9"})((({theme:e})=>[(0,H.GI)({theme:e,fontWeight:"semiBold",typography:"P3",color:"TextPrimary"}),{display:"flex",justifyContent:"center",alignItems:"center"}]),"label:PTextWithTooltip;"),ot=(0,q.Z)("div",{target:"e1icgj7e10"})((({theme:e})=>[(0,H.GI)({theme:e,fontWeight:"semiBold"}),{textAlign:"initial",fontSize:"13px",lineHeight:"16px",color:e.colors.TextReverse3,marginBottom:"12px",display:"flex",alignItems:"center",":global(.tooltip)":{marginInlineStart:"4px",display:"inline-block",height:"16px"}}]),"label:DivUpdateTimeContainer;"),nt=(0,q.Z)("div",{target:"e1icgj7e11"})((({theme:{colors:e}})=>({marginBottom:"16px",padding:"24px",border:`1px solid ${e.LineSecondary}`,boxSizing:"border-box",borderRadius:"8px"})),"label:DivChartContainer;"),at=(0,q.Z)("h5",{target:"e1icgj7e12"})((({theme:e})=>[(0,H.GI)({theme:e,fontFamily:"Proxima",fontWeight:"bold"}),{margin:0,marginBottom:"24px",display:"flex",alignItems:"center",fontSize:"13px",lineHeight:"17px"}]),"label:H5TrafficSource;"),rt=(0,q.Z)("div",{target:"e1icgj7e13"})((({theme:e})=>[(0,H.GI)({theme:e,fontFamily:"Proxima"}),{display:"flex",justifyContent:"space-between",alignItems:"center",height:"56px",p:{display:"inline-flex"},"&:first-of-type":{marginTop:0},span:{fontSize:"17px",lineHeight:"20px",color:e.colors.TextPrimary}}]),"label:DivVideoStatistics;"),lt=(0,q.Z)("span",{target:"e1icgj7e14"})((({theme:e})=>({fontSize:"12px !important",lineHeight:"15px !important",color:`${e.colors.TextTertiary}  !important`})),"label:SpanComparison;"),st=(0,q.Z)("span",{target:"e1icgj7e15"})({marginInlineStart:"4px",display:"inline-block",height:"16px",cursor:"pointer"},"label:SpanTooltip;"),dt=(0,q.Z)("div",{target:"e1icgj7e16"})((({theme:e})=>[(0,H.GI)({theme:e,fontFamily:"Proxima"}),{fontSize:"13px",lineHeight:"17px",color:e.colors.TextTertiary}]),"label:DivVideoTooltip;"),ct=(0,q.Z)("div",{target:"e1icgj7e17"})((({hideTerritories:e})=>({width:e?"100%":"unset"})),"label:DivWidthWrapper;"),ut=(0,q.Z)("p",{target:"e1icgj7e18"})((({theme:e})=>[(0,H.GI)({theme:e,fontFamily:"Proxima",fontWeight:"semiBold",color:"TextTertiary"}),{marginTop:"24px",fontSize:"13px",lineHeight:"17px"}]),"label:PUTCTime;");var pt=i(74034);const ht=(e,t=0,i="",o=!1,n=0,a=0)=>{const r={insigh_type:e};return t&&(r.days=t+a),a&&(r.end_days=1+a),i&&(o?r.room_id=i:r.aweme_id=i),"self_rooms"===e&&n&&(r.end_time=n),r},mt=1e3,gt=36e5;function vt(e,t="number",i="",o=!1){return"time"===t?function(e,t="",i=0,o=!1){if((0,pt.kK)(e))return"--";const n=e=>{const t=Math.pow(10,i);return(Math.max(Math.round(e*t),e>0?1:0)/t).toFixed(i)},a=e>=0?o?"+":"":"-";let r=Math.abs(Number(e));const l=Math.floor(r/gt);r-=l*gt;let s=Math.floor(r/6e4);r-=6e4*s;const d=Math.floor(r/mt);return"short"===t?l>0&&d>29&&(s+=1,60===s)?`${a}${n(l+1)}h`:l>0?`${a}${n(l+s/60)}h`:s>0?`${a}${n(s+d/60)}m`:(r-=d*mt,`${a}${n(d+r/mt)}s`):l>0||"full"===t?`${a}${l}h:${s}m:${d}s`:s>0?`${a}${s}m:${d}s`:`${a}${d}s`}(e,i,1,o):Math.abs(e)<.01&&0!==e?e>0?(o?"+":"")+"0.01":"-0.01":"short"===i?(0,pt.wm)(e,o):(0,pt.GF)(e,o)}function xt(e,t,i,o){const{type:n="number",format:a="full",comparisonFormat:r="short"}=null!=o?o:{};let l=vt(e,n,a);if(2===i?l="--":1===i&&(l="N/A"),(0,pt.kK)(e)||(0,pt.kK)(t))return{valueStr:l,comparisonStr:"--",percentStr:"--",growth:"no-change"};const s=e-t,d=s>0?"rise":s<0?"fall":"no-change";var c;return{valueStr:l,comparisonStr:vt(s,n,r,!0),percentStr:0===s?"+0%":0===t?">999%":`${s/t>=0?"+":""}${c=s/t*100,Math.abs(c)<.01&&0!==c?c<0?"-0.01":"0.01":(0,pt.uY)(Number(c.toFixed(2)))}%`,growth:d}}const bt=24,yt=(0,a.memo)((e=>{const t=(0,h.Q)("MT_Analytics"),{isOldVideo:i,updateTime:n}=e,r=(0,a.useMemo)((()=>({borderRadius:"8px",boxShadow:"3px 10px 14px rgba(0, 0, 0, 0.17)"})),[]),l=(0,a.useMemo)((()=>(0,o.jsxs)(dt,{children:[(0,o.jsx)("div",Object.assign({className:"title"},{children:t("estimate_data_title")}),void 0),(0,o.jsx)("div",Object.assign({className:"contents"},{children:t("estimate_data_tips")}),void 0)]},void 0)),[t]),s=(0,a.useCallback)(((e,t)=>{const[i]=e.getElementsByClassName("tiktok-tooltip-arrow");i&&(i.style.transform=`translateX(${0-t.offset[0]}px) rotate(180deg)`)}),[]);return i?(0,o.jsx)(o.Fragment,{children:t("tips_of_update_none")},void 0):null===n||"number"!=typeof n?(0,o.jsx)(o.Fragment,{children:t("tips_of_update_wait")},void 0):(0,o.jsxs)(o.Fragment,{children:[t("tips_of_update_normal",{create_time:(0,pt.p6)(n,t,"MMM DD, YYYY")}),(0,o.jsx)(E.u,Object.assign({tooltipTheme:"white",placement:"top",overlayStyle:r,onPopupAlign:s,overlay:l},{children:(0,o.jsx)(st,{children:(0,o.jsx)(B.Z,{width:16,height:16},void 0)},void 0)}),void 0)]},void 0)})),ft=(0,a.memo)((e=>{const{show:t,id:i,onClose:r=z()}=e,l=(0,h.Q)("MT_Analytics"),{$language:s,$region:d="",$appType:c}=(0,U.m7)((0,m.L)((()=>["$language","$region","$appType"]),[])),u="m"===c?1233:1180,[{loading:g,isOldVideo:v,hideTerritories:x,analyticsData:b},y]=(0,n.b7)(Re,{selector:e=>({loading:e.loading,statusCode:e.statusCode,analyticsData:e.analyticsData,isOldVideo:e.isOldVideo,hideTerritories:e.hideTerritories}),dependencies:[]}),f=(0,p.fz)(V._),{isNewUser:_,video_page_percent:j={},video_region_percent:k={},video_total_duration:C={},video_total_duration_before:w={},video_per_duration:S={},video_per_duration_before:P={},finish_rate:T={},finish_rate_before:I={},video_uv:D={},video_uv_before:O={},video_output_time:R,video_info:Z={}}=b,B=(0,a.useRef)(!1),{isRTL:L}=(0,qe.Y)(),{video:E={},statistics:G,author:W={},aweme_id:q,create_time:H}=Z,{cover:N={},duration:Y}=E,{unique_id:Q=""}=W,{url_list:J=[]}=N,{share_count:K=0,comment_count:ee=0,digg_count:te=0,play_count:oe=0}=(0,U.m7)(G),ne=(0,a.useCallback)((e=>{const t=(e=>[ht("video_info",null,e),ht("video_page_percent",null,e),ht("video_region_percent",null,e),ht("video_total_duration",null,e),ht("video_total_duration_before",null,e),ht("video_per_duration",null,e),ht("video_per_duration_before",null,e),ht("user_info"),ht("video_uv",null,e),ht("video_uv_before",null,e),ht("finish_rate",null,e),ht("finish_rate_before",null,e),ht("video_output_time"),ht("vv_history",8)])(e);y.getAnalyticsData({requestData:t,aid:u,region:d})}),[d,u,y]),ae=xt((0,U.G)(null==D?void 0:D.value),(0,U.G)(null==O?void 0:O.value),0,{type:"number",format:"short"}),re=(0,a.useCallback)((e=>{let t=l("Not enough data yet.");return v||!_&&2!==e.status||(t=l("Insights will be updated tomorrow")),(0,o.jsx)(He,{children:t},void 0)}),[l,_,v]),le=(0,a.useCallback)((()=>{const e=xt((0,U.G)(C.value),(0,U.G)(w.value),0,{type:"time",format:"full"}),t=xt((0,U.G)(S.value),(0,U.G)(P.value),0,{type:"time",format:"short"}),i=xt((0,U.G)(T.value),(0,U.G)(I.value),0,{format:"full"});return(0,o.jsxs)(nt,{children:[(0,o.jsxs)(rt,{children:[(0,o.jsx)("p",{children:l("total_time_watched")},void 0),(0,o.jsx)("span",{children:"--"===e.valueStr?"--":(0,o.jsx)(X,Object.assign({align:"right",growth:e.growth,value:e.valueStr},{children:(0,o.jsxs)(lt,{children:["(",e.comparisonStr," ",l("compare_1d_ago"),")"]},void 0)}),void 0)},void 0)]},void 0),(0,o.jsxs)(rt,{children:[(0,o.jsx)("p",{children:l("average_time_watched")},void 0),(0,o.jsx)("span",{children:"--"===t.valueStr?"--":(0,o.jsx)(X,Object.assign({align:"right",growth:t.growth,value:t.valueStr},{children:(0,o.jsxs)(lt,{children:["(",t.comparisonStr," ",l("compare_1d_ago"),")"]},void 0)}),void 0)},void 0)]},void 0),(0,o.jsxs)(rt,{children:[(0,o.jsx)("p",{children:l("watch_full_video")},void 0),(0,o.jsx)("span",{children:"--"===i.valueStr?"--":(0,o.jsx)(X,Object.assign({align:"right",growth:i.growth,value:`${(100*(0,U.G)(T.value)).toFixed(1)}%`},{children:(0,o.jsxs)(lt,{children:["(",i.percentStr," ",l("compare_1d_ago"),")"]},void 0)}),void 0)},void 0)]},void 0)]},void 0)}),[T.value,I.value,l,S.value,P.value,C.value,w.value]),ue=(0,a.useCallback)((()=>{null==r||r()}),[r]),pe=(0,a.useCallback)((()=>{f.handleClickAnalyticsVideoCover(),window.open(`https://www.tiktok.com/@${Q}/video/${q}`)}),[q,f,Q]);(0,a.useEffect)((()=>{t&&!B.current&&ne(null!=i?i:"")}),[t,i,ne]);const he=function(e){const{domain:t,teaDomain:i}=(0,$.o)(),o=(0,n.mp)(ce.L,{selector:({lang:e})=>e,dependencies:[]}),r=(0,p.fz)(ce.L),[l,s]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{e&&r.loadData$({lang:o,namespaces:["MT_Analytics"],domain:t,teaDomain:i}).pipe((0,F.b)((()=>{s(!1)}))).subscribe()}),[t,r,o,e,i]),l}(t);return(0,o.jsx)(de.u,Object.assign({visible:t},{children:g||he?(0,o.jsx)(A.g,{center:!0,size:"small"},void 0):(0,o.jsxs)(Ne,{children:[(0,o.jsx)(Ye,Object.assign({onClick:ue},{children:(0,o.jsx)(M.Z,{width:24,height:24},void 0)}),void 0),(0,o.jsxs)(Qe,{children:[(0,o.jsxs)(Ke,Object.assign({onClick:pe},{children:[(0,o.jsx)(et,{},void 0),(0,o.jsx)(Xe,{src:J[0]},void 0),(0,o.jsx)(tt,{children:(0,pt.LU)((0,U.G)(Y),"s")},void 0)]}),void 0),(0,o.jsxs)(it,{children:[l("Data since post time {0}",{0:(0,pt.JN)((0,U.G)(H),l)}),(0,o.jsx)(ie,{isRTL:L,desc:(me=(0,U.G)(H),l("Post time displays in your local time (UTC{shift_X}h)").replace("{shift_X}",(0,pt.Bv)(me)))},void 0)]},void 0),(0,o.jsxs)("ul",{children:[(0,o.jsxs)("li",{children:[(0,o.jsx)(We,{width:bt,height:bt},void 0),(0,o.jsx)("p",{children:(0,pt.wm)((0,U.G)(oe))},void 0)]},void 0),(0,o.jsxs)("li",{children:[(0,o.jsx)(Fe,{width:bt,height:bt},void 0),(0,o.jsx)("p",{children:(0,pt.wm)((0,U.G)(te))},void 0)]},void 0),(0,o.jsxs)("li",{children:[(0,o.jsx)(Me,{width:bt,height:bt},void 0),(0,o.jsx)("p",{children:(0,pt.wm)((0,U.G)(ee))},void 0)]},void 0),(0,o.jsxs)("li",{children:[(0,o.jsx)(Ue,{width:bt,height:bt},void 0),(0,o.jsx)("p",{children:(0,pt.wm)((0,U.G)(K))},void 0)]},void 0)]},void 0),(0,o.jsx)(ot,{children:(0,o.jsx)(yt,{isOldVideo:v,updateTime:(0,U.G)(R),isRTL:L},void 0)},void 0)]},void 0),(0,o.jsxs)(Je,{children:[(0,o.jsxs)(ct,Object.assign({hideTerritories:x},{children:[le(),(0,o.jsxs)(nt,{children:[(0,o.jsxs)(at,{children:[l("traffic_sources"),(0,o.jsx)(ie,{isRTL:L,desc:l("Where your video traffic comes from.")},void 0)]},void 0),(0,pt.V5)(j)?(0,o.jsx)(se,{lang:s,chartData:null==j?void 0:j.value},void 0):re(j)]},void 0)]}),void 0),!x&&(0,o.jsxs)(nt,{children:[(0,o.jsxs)(at,{children:[l("audience_territories"),(0,o.jsx)(ie,{isRTL:L,desc:l("Location distribution of users who watched your videos")},void 0)]},void 0),(0,pt.V5)(k)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(rt,{children:[(0,o.jsx)("p",{children:l("total_audience")},void 0),(0,o.jsx)("span",{children:(0,o.jsx)(X,Object.assign({align:"right",growth:ae.growth,value:ae.valueStr},{children:(0,o.jsxs)(lt,{children:["(",ae.comparisonStr," ",l("compare_1d_ago"),")"]},void 0)}),void 0)},void 0)]},void 0),(0,o.jsx)(se,{lang:s,chartData:k.value},void 0)]},void 0):re(k)]},void 0)]},void 0),(0,o.jsx)(ut,{children:l("Data displays in UTC time zone")},void 0)]},void 0)}),void 0);var me}));var _t=i(55643),jt=i(35002),kt=i(44435),Ct=i(50259),wt=i(75570),St=i(63221),Pt=i(90616),Tt=i(51218),It=i(97870),Dt=i(60067),Ot=i(42669),Rt=i(8815),Zt=i(11809),Bt=i(82405),Mt=i(10207),Lt=i(41143),zt=i(24448),Ft=i(81774),Et=i(41967),At=i(25491),$t=i(17425),Ut=i(4881),Vt=i(32957),Gt=i(64281),Wt=i(94673),qt=i(55094);i(49285);const Ht=(0,q.Z)("div",{target:"e1i8l1790"})({position:"relative",padding:"16px 0"},"label:DivContainer;"),Nt=(0,q.Z)("div",{target:"e1i8l1791"})({display:"flex",flexDirection:"row",alignItems:"center"},"label:DivFlexCenterRow;"),Yt=(0,q.Z)(Nt,{target:"e1i8l1792"})({justifyContent:"space-between"},"label:StyledWrapper;"),Qt=(0,q.Z)("div",{target:"e1i8l1793"})((({theme:e})=>[(0,H.GI)({theme:e,typography:"P3",color:"TextSecondary"}),{display:"flex",flexDirection:"row",marginTop:"16px",boxSizing:"border-box",border:`1px solid ${e.colors.LineSecondary2}`,borderRadius:"2px"}]),"label:DivCopyLinkContainer;"),Jt=(0,q.Z)("p",{target:"e1i8l1794"})(H.wj,(({theme:e})=>({flex:"1 1 auto",paddingTop:"7px",paddingBottom:"5px",backgroundColor:e.colors.BGInput})),(({theme:{direction:e}})=>(0,H.YJ)({direction:e,paddingStart:"12px",paddingEnd:"0"})),"label:PCopyLinkText;");Jt.defaultProps=Object.assign(Object.assign({},Jt.defaultProps),{"data-e2e":"browse-video-link"});const Kt=(0,q.Z)("button",{target:"e1i8l1796"})((({theme:e})=>[H.Ph,{color:e.colors.TextPrimary,fontWeight:e.fontWeights.bold,flex:"0 0 auto",cursor:"pointer",padding:"7px 18px",":hover":{backgroundColor:e.colors.BGView},":active":{backgroundColor:e.colors.BGInput}}]),"label:ButtonCopyLink;");Kt.defaultProps=Object.assign(Object.assign({},Kt.defaultProps),{"data-e2e":"browse-copy"});const Xt=(0,q.Z)("button",{target:"e1i8l1797"})([H.Ph,{position:"relative",display:"flex",width:"24px",height:"24px",justifyContent:"center",alignItems:"center",borderRadius:"50%",cursor:"pointer",":hover":{backgroundColor:"rgba(22, 24, 35, 0.1)"},":active":{backgroundColor:"rgba(22, 24, 35, 0.1)"}}],"label:ButtonShare;"),ei=(0,o.jsx)(Rt.Z,{width:20,height:20},void 0),ti=(0,a.memo)((function(e){var t;const i=(0,Mt.u)(),r="rtl"===i.direction,l=(0,p.fz)(Lt.p),s=(0,h.Q)(),{itemId:d,teaParams:c}=e,u=(0,Wt.V)(d),[g,v]=(0,n.b7)(b.A,{selector:e=>e[d],dependencies:[d]}),x=(0,n.mp)(zt.z,{selector:e=>{var t;return e.users[null!==(t=null==g?void 0:g.author)&&void 0!==t?t:""]},dependencies:[null==g?void 0:g.author]}),[y,_]=(0,a.useState)(!1),{stats:j,digged:k,id:C=""}=null!=g?g:{},{uniqueId:w="",secUid:S}=null!=x?x:{},P=(0,kt.fH)({uniqueId:w,secUid:S,videoId:C}),{$wid:T=""}=null!==(t=(0,m.L)((()=>["$wid"]),[]))&&void 0!==t?t:{},I=`https://www.tiktok.com${P}?is_from_webapp=1&sender_device=pc&web_id=${T}`,D=(0,a.useMemo)((()=>(0,Ft.IG)({platform:"copy",url:I})),[I]),O=(0,a.useCallback)((()=>{l.handleShare(Object.assign({platform:"copy",author_id:null==x?void 0:x.id,group_id:d,play_mode:"browser_mode",share_click_from:"short"},c)),D(),_t.h.open({content:s("Copied"),duration:1.2,widthType:"half"})}),[D,d,l,s,null==x?void 0:x.id,c]),R=(0,a.useCallback)((()=>{v.postLikeVideo(Object.assign({id:d},c))}),[v,d,c]),Z=(0,f.X)({action:R,modalConfig:{query:{enter_method:"click_like"}}}),B=(0,a.useMemo)((()=>(0,o.jsx)(Zt.Z,{fill:k?i.colors.Primary:i.colors.Primary2,width:20,height:20},void 0)),[k,i.colors.Primary,i.colors.Primary2]),M=(0,a.useMemo)((()=>Object.assign({author_id:null==x?void 0:x.id,group_id:d,play_mode:"browser_mode"},c)),[c,d,null==x?void 0:x.id]),{active:L,handleMouseEnter:z,handleMouseLeave:F}=(0,Et.R)(200),{expanded:E}=(0,qt.c)(),A=(0,a.useCallback)((()=>{l.handleSharePanelShow({group_id:d,author_id:null==x?void 0:x.id,share_option_type:E}),z()}),[z,l,d,null==x?void 0:x.id,E]),$=(0,qt.J)();(0,a.useEffect)((()=>{$()}),[$]);const V=(0,a.useCallback)((()=>{_(!0)}),[_]),G=(0,a.useCallback)((()=>{_(!1)}),[_]);return(0,o.jsxs)(Ht,{children:[(0,o.jsxs)(Yt,{children:[(0,o.jsxs)(Nt,{children:[(0,o.jsx)(Ut.t,{styleType:2,text:(0,U.BT)(null==j?void 0:j.diggCount),Icon:B,onClick:Z,e2eTag:"browse-like"},void 0),(0,o.jsx)(Ut.t,{styleType:2,text:(0,U.BT)(null==j?void 0:j.commentCount),Icon:ei,disabled:!0,e2eTag:"browse-comment"},void 0)]},void 0),(0,o.jsxs)(Nt,Object.assign({"data-e2e":"browse-share-group"},{children:[(0,o.jsx)(Gt.mB,{videoId:C,enabled:null==g?void 0:g.shareEnabled,mode:0,url:I,embedCode:u,onEmbedModalVisibleChange:e.onEmbedModalVisibleChange,teaParams:M,onSendMessagePanelOpen:V},void 0),(0,o.jsxs)(Xt,Object.assign({onMouseEnter:A,onMouseLeave:F},{children:[(0,o.jsx)(Bt.Z,{width:"16",height:"16"},void 0),(0,o.jsx)(At.G,Object.assign({placement:r?"bottomLeft":"bottomRight",active:L,margin:-12,arrowMargin:12},{children:(0,o.jsx)(Vt.qf,{children:(0,o.jsx)(Gt.mB,{videoId:C,mode:1,url:I,enabled:null==g?void 0:g.shareEnabled,embedCode:u,onEmbedModalVisibleChange:e.onEmbedModalVisibleChange,teaParams:M,onSendMessagePanelOpen:V,from:3},void 0)},void 0)}),void 0)]}),void 0)]}),void 0)]},void 0),(0,o.jsxs)(Qt,{children:[(0,o.jsx)(Jt,{children:I},void 0),(0,o.jsx)(Kt,Object.assign({onClick:O},{children:s("copy_link")}),void 0)]},void 0),y&&(0,o.jsx)($t.J,{visible:y,videoId:C,onClose:G},void 0)]},void 0)}));var ii=i(59493),oi=i(84774),ni=i(37039),ai=i(99583),ri=i(99350),li=i(99971),si=i(34525),di=i(88916),ci=i(39917),ui=i(66502),pi=i(34011),hi=i(48689),mi=i(48504);const gi=(0,q.Z)("div",{target:"ec62sd0"})({display:"flex",flexDirection:"row",alignItems:"center",padding:"22px 32px 15px",position:"relative",flex:"0 0 82px"},"label:DivInfoContainer;"),vi=(0,q.Z)("span",{target:"ec62sd1"})((({theme:e})=>(0,H.GI)({theme:e,typography:"P1",fontWeight:"bold",fontFamily:"Sofia"})),"label:SpanUniqueId;");vi.defaultProps=Object.assign(Object.assign({},vi.defaultProps),{"data-e2e":"browse-username"});const xi=(0,q.Z)("span",{target:"ec62sd2"})((({theme:e})=>(0,H.GI)({theme:e,typography:"P3",fontFamily:"Proxima"})),{display:"flex",alignItems:"center"},"label:SpanOtherInfos;");xi.defaultProps=Object.assign(Object.assign({},xi.defaultProps),{"data-e2e":"browser-nickname"});const bi=(0,q.Z)(pi.D,{target:"ec62sd3"})(H.wj,H.gi,{flex:"1 1 auto",":hover":{[`${vi}`]:{textDecoration:"underline"}}},(({theme:{direction:e}})=>(0,H.YJ)({direction:e,marginEnd:"12px"})),"label:StyledLink;"),yi=({theme:{direction:e}})=>[{flex:"0 0 40px",":hover":{[`~ ${bi} ${vi}`]:{textDecoration:"underline"}}},(0,H.YJ)({direction:e,marginEnd:"12px"})],fi=(0,q.Z)(mi.W,{target:"ec62sd6"})({justifySelf:"flex-end","& > svg":{marginRight:"6px"}},"label:StyledFollowButton;");fi.defaultProps=Object.assign(Object.assign({},fi.defaultProps),{"data-e2e":"browse-follow"});var _i=i(84385);const ji=(0,a.memo)((function(e){const{uniqueId:t,videoId:i,teaParams:r}=e,l=(0,n.mp)(zt.z,{selector:e=>e.users[t],dependencies:[t]}),{t:s,timeTranslator:d}=(0,$.e)(),c=(0,n.mp)(b.A,{selector:e=>null==e?void 0:e[i],dependencies:[i]}),{secret:u,forFriend:p,createTime:h}=null!=c?c:{},{showing:m,handleCardEnter:g,handleCardLeave:v,handleItemEnter:x,handleItemLeave:y}=(0,ai.V)(),f=(0,ri.zW)(l),{isShowLive:_}=f;(0,ri.TB)({isShowLive:_,reportTrigger:_,user:l,enterMethod:_?"video_head_browser":"creator",autoReport:!0,reportValidator:()=>void 0!==(null==l?void 0:l.relation),once:!0});const j=(0,ri.CN)(Object.assign({user:l,enterMethod:_?"video_head_browser":"creator"},r)),k=(0,a.useMemo)((()=>Object.assign(Object.assign({},j),{author_id:j.to_user_id,group_id:i})),[j,i]),C=(0,a.useMemo)((()=>{if(l)return Object.assign(Object.assign({},j),{author_id:l.id,to_user_id:l.id,group_id:i,enterMethod:"creator"})}),[l,i,j]);if(!l)return(0,O.G)(["authorInfo"]);const{nickname:w,secUid:S,verified:P}=l,T=function(e){return e?(0,q.Z)(hi.G,{target:"ec62sd4"})(yi):(0,q.Z)(pi.D,{target:"ec62sd5"})(yi)}(_);return(0,o.jsxs)(gi,{children:[(0,o.jsx)(T,Object.assign({uniqueId:t,secUid:S,onMouseEnter:x,onMouseLeave:y,isInBrowserMode:!0,teaParams:k,"data-e2e":"browse-user-avatar",onClick:e.onClick,onLinkClick:e.onLinkClick},{children:(0,o.jsx)(li.k,Object.assign({needAnimation:!0,liveTheme:2,size:40},f),void 0)}),void 0),(0,o.jsxs)(bi,Object.assign({uniqueId:t,secUid:S,onMouseEnter:x,onMouseLeave:y,isInBrowserMode:!0,teaParams:C,onClick:e.onClick,onLinkClick:e.onLinkClick},{children:[(0,o.jsxs)(vi,{children:[t,P&&(0,o.jsx)(ci.Q,{width:14,height:14,"data-e2e":"browse-bluev"},void 0)]},void 0),(0,o.jsx)("br",{},void 0),(0,o.jsxs)(xi,{children:[w,(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",Object.assign({style:{margin:"0 4px"}},{children:" · "}),void 0),(0,o.jsx)("span",{children:d(1e3*Number(h))},void 0)]},void 0),u&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",Object.assign({style:{margin:"0 4px"}},{children:" · "}),void 0),(0,o.jsx)(ii.Z,{width:16,height:16,style:{fill:"#121212",opacity:.5,margin:"0 4px"}},void 0),(0,o.jsx)("span",{children:s("video_label_private")},void 0)]},void 0),p&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{children:" · "},void 0),(0,o.jsx)(oi.Z,{style:{margin:"0 4px"},width:20,height:20},void 0),(0,o.jsx)("span",Object.assign({className:"friend"},{children:s("Friends only")}),void 0)]},void 0)]},void 0)]}),void 0),(0,o.jsx)(ki,{author:l,video:c,videoReportParams:r},void 0),m&&(0,o.jsx)(si.C,{top:30,fixedLeft:32,onMouseEnter:g,onMouseLeave:v,uniqueId:t},void 0)]},void 0)})),ki=function({author:e,video:t,videoReportParams:i}){var a;const r=(0,n.mp)(di.G,{selector:t=>{var i,o;return(null===(o=null===(i=t.appContext)||void 0===i?void 0:i.$user)||void 0===o?void 0:o.uniqueId)===e.uniqueId},dependencies:[e.uniqueId]}),l=(0,f.Q)({query:{enter_method:"click_follow"}}),{text:s,handleFollow:d,isFollowing:c,relation:u}=(0,y.w)({uniqueId:e.uniqueId,onNeedLogin:l,teaParams:Object.assign({group_id:null==t?void 0:t.id},i)});return(null==t?void 0:t.scheduleTime)?(0,o.jsx)(ui.Q,{video:t},void 0):r?(0,o.jsx)(_i.C,{videoId:null!==(a=null==t?void 0:t.id)&&void 0!==a?a:""},void 0):(0,o.jsxs)(fi,Object.assign({size:"small",buttonTheme:c?"default":"line",onClick:d},{children:[2===u?(0,o.jsx)(ni.Z,{},void 0):null,s]}),void 0)};var Ci=i(87310),wi=i(12779),Si=i(84957);const Pi=(0,q.Z)("div",{target:"e13y27ie0"})({flex:"0 0 544px",width:"544px",display:"flex",flexDirection:"column",padding:"32px 0 0"},"label:DivContentContainer;"),Ti=(0,q.Z)("div",{target:"e13y27ie1"})({padding:"0 32px",overflow:"visible",display:"flex",flexDirection:"column",flexShrink:0},"label:DivMainContent;"),Ii=(0,q.Z)(wt.W,{target:"e13y27ie2"})((({theme:{colors:e}})=>({marginTop:"9px",marginBottom:"17px",background:"transparent",color:e.TextSecondary})),"label:StyledScheduleTime;"),Di=(0,q.Z)("div",{target:"e13y27ie3"})((({theme:{colors:e}})=>({width:"100%",padding:"0 32px",boxSizing:"border-box",backgroundColor:e.BGCreation3,borderTop:"none",borderBottom:"1px solid rgba(18, 18, 18, 0.12)",overflowX:"hidden",flexGrow:1})),"label:DivCommentContainerPolyfill;"),Oi=(0,q.Z)("div",{target:"e13y27ie4"})((({theme:{colors:e}})=>({flex:"0 0 auto",backgroundColor:e.BGPrimary,margin:"0 30px",padding:"21px 0"})),"label:DivBottomCommentContainer;"),Ri=(0,q.Z)("div",{target:"e13y27ie5"})((({theme:e})=>[(0,H.GI)({theme:e,typography:"P2",color:"TextSecondary"}),{flex:"1 1 0px",display:"flex",alignItems:"center",justifyContent:"center"}]),"label:DivErrorMessage;"),Zi=(0,a.memo)((function(e){var t;const{item:i,teaParams:n,videoReportParams:r}=e,l=(0,h.Q)(),{$user:s}=null!==(t=(0,m.L)((()=>["$user"]),[]))&&void 0!==t?t:{},d=Boolean(s),{id:c,author:u="",scheduleTime:p}=i,g=(0,y.p)(null==i?void 0:i.author),{nickname:x=""}=null!=g?g:{},b=(0,a.useMemo)((()=>3===(null==i?void 0:i.itemCommentStatus)||3===(null==g?void 0:g.commentSetting)),[null==g?void 0:g.commentSetting,null==i?void 0:i.itemCommentStatus]),_=(0,a.useMemo)((()=>(0,U.sA)(g,null==s?void 0:s.uid)),[g,null==s?void 0:s.uid]),{isInNewVideoDetail:j}=(0,v.xy)(),k=(0,Si.Ui)({id:c,needDispose:!j}),C=(0,f.Q)();return p?(0,o.jsxs)(Pi,{children:[(0,o.jsx)(ji,{onLinkClick:e.onLinkClick,uniqueId:u,videoId:c,teaParams:n},void 0),(0,o.jsxs)(Ti,{children:[(0,o.jsx)(It.Q,{onLinkClick:e.onLinkClick,item:i,e2eTag:"browse-video-desc",reportParams:n},void 0),(0,o.jsx)(Ii,{scheduledTime:Number(p),height:22,fontSize:16,iconSize:20,iconMargin:4},void 0)]},void 0),(0,o.jsx)(Di,{},void 0),(0,o.jsx)(Oi,{children:(0,o.jsx)(Ri,{children:l("scheduled_video_comment_unavailable")},void 0)},void 0)]},void 0):(0,o.jsxs)(Pi,{children:[(0,o.jsx)(ji,{onLinkClick:e.onLinkClick,uniqueId:u,videoId:c,teaParams:n},void 0),(0,o.jsxs)(Ti,{children:[(0,o.jsx)(It.Q,{onLinkClick:e.onLinkClick,item:i,e2eTag:"browse-video-desc",reportParams:n},void 0),(0,o.jsx)(Dt._,{onLinkClick:e.onLinkClick,styleType:1,item:i,e2eTag:"browse-music",teaParams:n},void 0),(0,o.jsx)(ti,{itemId:c,onEmbedModalVisibleChange:e.onEmbedVisibleChange,teaParams:n},void 0)]},void 0),b?(0,o.jsx)(Ri,Object.assign({"data-e2e":"comment-turned-off"},{children:l("comment_off")}),void 0):(0,o.jsx)(Ci.$,{itemId:c,disableReply:_,ref:k,teaParams:n},void 0),d&&!b&&(0,o.jsx)(Oi,{children:_?(0,o.jsx)("div",{children:l("comment_disable_notfollow").replace("%@",x)},void 0):(0,o.jsx)(wi._,{itemId:c,teaParams:r},void 0)},void 0),!d&&(0,o.jsx)(Oi,Object.assign({onClick:C},{children:(0,o.jsx)(Ot.Vk,{children:"Please log in to comment"},void 0)}),void 0)]},void 0)}));var Bi=i(26274),Mi=i(14656),Li=i(18515),zi=i(49449),Fi=i(15907),Ei=i(19054),Ai=i(99975);const $i=(0,a.memo)((function(e){var t,i,r;const l=(0,a.useRef)(null),s=(0,a.useRef)(null),d=(0,a.useRef)(null),c=(0,a.useRef)(null),[u,p]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!1),[v,x]=(0,a.useState)(!0),{direction:b}=(0,Mt.u)(),y=(0,a.useRef)("0"),{$abTestVersion:f,$user:_}=null!==(t=(0,m.L)((()=>["$abTestVersion","$user"]),[]))&&void 0!==t?t:{},[{duration:j,videoPercent:k,currentTime:C}]=(0,n.b7)(St.M,{selector:t=>t[e.vid]?t[e.vid]:{duration:0,videoPercent:0,currentTime:0},dependencies:[e.vid]}),w=(0,Mi.x)(f,"seekbar_persistent_and_tooltip_test"),P="v1"!==w,T=(0,Mi.x)(f,"seekbar_theme_test"),{vid:I,seek:D,videoRef:O,progressReportCallback:R,extraBottomSpace:Z=!1,isXgPlayer:B,isBrowserMode:M}=e;(0,a.useEffect)((()=>{y.current=I}),[I]);const{percent:L,bindDrag:z,seek:F}=(0,Li.S)({direction:b,progressRef:s,circleRef:d,barRef:c,initialPercent:0,draggingStateCb:p,draggingPercentCb:D,progressReportCallback:R});(0,a.useEffect)((()=>{var e,t;null===(e=O.current)||void 0===e||e.onSeeked((()=>{setTimeout((()=>{g(!1)}),0)})),null===(t=O.current)||void 0===t||t.onSeeking((()=>{g(!0)}))}),[O.current,g]),(0,a.useEffect)((()=>{var e;"v3"===w&&(null===(e=O.current)||void 0===e?void 0:e.currentCanPlay)&&x((0,Fi.Z)(`${null==_?void 0:_.uid}`))}),[null===(i=O.current)||void 0===i?void 0:i.currentCanPlay]);const E=(0,a.useCallback)((()=>{(0,Fi.j)(`${null==_?void 0:_.uid}`)}),[null==_?void 0:_.uid]),A=(0,a.useCallback)((()=>{(0,Fi.Z)(`${null==_?void 0:_.uid}`)||E(),v||x(!0)}),[null==_?void 0:_.uid,E,v]);if(0===C||!(null===(r=null==O?void 0:O.current)||void 0===r?void 0:r.currentCanPlay)&&B&&M)return null;const $=u||h?L:k,U="ltr"===b?{left:`calc(${100*$}%)`}:{right:`calc(${100*$}%)`};return(0,o.jsx)(Ei.H,Object.assign({visible:!v,text:"webapp_seekbar_tooltip",onShow:E},{children:(0,o.jsxs)(Ai.ov,Object.assign({show:u||P,extraBottomSpace:Z,onMouseDown:S.UW,onClick:A},{children:[(0,o.jsxs)(Ai.yx,Object.assign({ref:l},{children:[(0,o.jsx)(Ai.MT,{ref:s,onClick:F,onMouseDown:z},void 0),(0,o.jsx)(Ai.FL,{ref:d,style:U,onMouseDown:z},void 0),(0,o.jsx)(Ai.$_,{backgroundTheme:"v2"===T?"primary":void 0,ref:c,style:{transform:`scaleX(${$}) translateY(-50%)`},onClick:F,onMouseDown:z},void 0)]}),void 0),(0,o.jsx)(Ai.F7,{children:"ltr"===b?`${(0,zi.x)(C)}/${(0,zi.x)(j)}`:`${(0,zi.x)(j)}/${(0,zi.x)(C)}`},void 0)]}),void 0)}),void 0)}));var Ui=i(66164),Vi=i(42018),Gi=i(44144);const Wi=(0,a.memo)((function(){var e;const t=(0,a.useRef)(null),i=(0,a.useRef)(null),n=(0,a.useRef)(null),r=(0,a.useRef)(!0),[l,s]=(0,a.useState)(!1),{mute:d,volume:c,setVolume:u}=(0,g.DZ)(),h=(0,p.fz)(T.B),{$abTestVersion:v}=null!==(e=(0,m.L)((()=>["$abTestVersion"]),[]))&&void 0!==e?e:{},x=(0,Mi.x)(v,"seekbar_theme_test"),b=(0,a.useCallback)(((e,t)=>{h.handleSwitchSound({playMode:2,volume_from:e,volume_to:t})}),[h]),y=(0,a.useRef)(d);(0,a.useEffect)((()=>{y.current=d}),[d]);const{percent:f,bindDrag:_,seek:j,update:k}=(0,Li.S)({direction:"vertical",progressRef:t,circleRef:i,barRef:n,initialPercent:c,draggingStateCb:s,progressReportCallback:b}),C=(0,Ui.fB)((e=>{r.current?r.current=!1:u(e,y.current)}),[u],160);(0,a.useEffect)((()=>C(f)),[f]),(0,a.useEffect)((()=>{d||c!==Vi.G||k(Vi.G)}),[d,c,k]);const w=d?0:f,P=0===w?8:72*w;return(0,o.jsxs)(Gi.nW,Object.assign({dragging:l,onClick:S.UW},{children:[(0,o.jsx)(Gi.CY,{ref:t,onClick:j,onMouseDown:_},void 0),(0,o.jsx)(Gi.tP,{ref:i,style:{transform:`translateY(-${P}px)`},onMouseDown:_},void 0),(0,o.jsx)(Gi.SM,{backgroundTheme:"v2"===x?"primary":void 0,ref:n,style:{transform:`scaleY(${w})`},onClick:j,onMouseDown:_},void 0)]}),void 0)})),qi=(0,a.memo)((function({itemListKey:e,currentIndex:t,needUrlDelegate:i=!0,onCloseBrowserMode:B,onNextVideo:M,onPrevVideo:L,teaParams:z,onJumpSamePage:F}){var E,A,$;const U=(0,h.Q)(),{$user:V}=null!==(E=(0,m.L)((()=>["$user"]),[]))&&void 0!==E?E:{},[G,W]=(0,a.useState)(!1),q=(0,a.useRef)(!1),H=(0,a.useRef)(null),N=(0,a.useRef)(!1),{mute:Y,setMute:Q}=(0,g.s_)(2),{isUseNativePlayer:J,xgplayerVid:K}=(0,v.It)(),X=(0,a.useCallback)(((e,t="click")=>{e.preventDefault(),e.stopPropagation(),Q(!Y,t)}),[Y,Q]),ee=(0,n.mp)(x.h,{selector:i=>{const o=i[null!=e?e:""];return o?{id:o.browserList[t],listLength:o.browserList.length}:null},dependencies:[e,t]}),[te,ie]=(0,n.b7)(b.A,{selector:e=>{var t;return e[null!==(t=null==ee?void 0:ee.id)&&void 0!==t?t:""]},dependencies:[ee]}),oe=null!==(A=null==te?void 0:te.id)&&void 0!==A?A:"";!function({itemListKey:e,item:t,author:i,needUrlDelegate:o,onCloseBrowserMode:n}){const{search:l}=(0,r.TH)(),s=(0,r.k6)(),d=(0,a.useRef)(!1);(0,a.useEffect)((()=>{const e=()=>{n({fromPopState:!0})};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}}),[]),(0,a.useEffect)((()=>{if(!t||!e||!o)return;const{scheduleTime:n,id:a,author:r=""}=t,s=n?(0,kt.yl)({uniqueId:r,secUid:null==i?void 0:i.secUid}):(0,jt.stringifyUrl)({url:(0,kt.fH)({uniqueId:r,videoId:a,secUid:null==i?void 0:i.secUid}),query:Object.assign(Object.assign({},Se()((0,jt.parse)(l),"sender_device","sender_web_id","item_id")),{is_from_webapp:"v1",is_copy_url:"1"})},{skipNull:!0});d.current?window.history.replaceState(window.history.state,"video-detail",s):(window.history.pushState(window.history.state,"video-detail",s),d.current=!0)}),[null==i?void 0:i.secUid,s,t,e,o,l])}({author:(0,y.p)(null==te?void 0:te.author),item:te,currentIndex:t,itemListKey:e,needUrlDelegate:i,onCloseBrowserMode:B});const ne=null!==($=null==ee?void 0:ee.listLength)&&void 0!==$?$:0,ae=t<ne-1,re=(0,a.useCallback)(((e="click")=>{ie.postLikeVideo(Object.assign({id:oe,enter_method:e},z))}),[ie,oe,z]),le=(0,f.X)({action:re,modalConfig:{query:{enter_method:"click_like"}}}),se=(0,n.mp)(_.bg,{selector:e=>e.blockedVideos||[],dependencies:[]}),de=(0,n.qj)(_.bg),ce=(0,a.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),te&&de.removeBlockVideo(te.id)}),[de,te]),[ue,pe]=(0,a.useState)(!1);(0,a.useEffect)((()=>{pe(!0)}),[]);const{showVideoMask:he,maskType:me,videoMaskTitle:ge,videoMaskDesc:ve,icon:xe,videoMaskFirstButtonText:be,videoMaskSecondButtonText:ye}=(0,j.g)({playMode:2,item:null!=te?te:{},isLogin:Boolean(V)}),[{photoSensitiveVideosSetting:fe,hideMaskTempVideoId:_e},je]=(0,n.b7)(k.P),ke=he&&_e!==oe,{handleLinkClick:Ce,handleClose:we,handleNext:Pe,handlePrev:Te,preventDefault:Ie,videoPlayerRef:De,togglePlay:Oe,isInputEmpty:Re,showLeaveModal:Ze,handleConfirmLeave:Be,handleCancelLeave:Me}=(0,Si.q5)({onCloseBrowserMode:B,onNextVideo:M,onPrevVideo:L,pause:G,shouldPause:ke,setPause:e=>{W(e),q.current=e},embedVisibleRef:N,group_id:oe,handleLikeClick:le,author_id:null==te?void 0:te.authorId,itemListKey:e,onJumpSamePage:F}),Le=(0,a.useCallback)((()=>{W(!0),q.current=!0}),[]),ze=(0,a.useRef)(!1),Fe=(0,a.useCallback)((e=>{var t,i;null===(i=null===(t=De.current)||void 0===t?void 0:t.seek)||void 0===i||i.call(t,e)}),[De]),Ee=(0,a.useCallback)((()=>{ze.current=!0,setTimeout((()=>{ze.current=!1}),500)}),[]),Ae=(0,a.useCallback)((()=>{ze.current&&(Oe(),ze.current=!1)}),[Oe]);(0,Si._0)({showLeaveModal:Ze,group_id:oe});const $e=(0,f.X)({action:(0,a.useCallback)((e=>{if(!ze.current)return;const{clientX:t,clientY:i}=e;new C.B(t,i).emit(),ie.postLikeVideo({id:oe,forceLike:!0}),ze.current=!1}),[oe,ie])}),Ue=(0,w.D)((()=>({onClick:Ae,onDoubleClick:$e})),[$e,Ae]),Ve=(0,Pt.Q)({item:te,onShow:S.NS}),Ge=(0,a.useCallback)((e=>{N.current=e}),[]),We=Y?l.Z:s.Z,qe=(0,Si.om)({handleNext:Pe,handlePrev:Te,hasNext:ae,currentIndex:t,itemListKey:e});(0,g.$v)(2);const{showModal:He,hideModal:Ne}=(0,P.J)();(0,a.useEffect)((()=>(He(!0),()=>{Ne()})),[Ne,He]),(0,a.useEffect)((()=>{var e,t;te&&se.includes(te.id)&&(null===(t=null===(e=De.current)||void 0===e?void 0:e.pause)||void 0===t||t.call(e))}),[se,te,De]),(0,a.useEffect)((()=>{var e;(null==te?void 0:te.video)||B({playProgress:null===(e=De.current)||void 0===e?void 0:e.currentTime})}),[te,B,De]);const{showAnalyticsButton:Ye,showAnalyticsModal:Qe,handleOpenAnalyticsModal:Je,handleCloseAnalyticsModal:Ke}=(0,Si.zX)(te),Xe=(0,a.useMemo)((()=>{const{video:{bitrate:e=-1,encodedType:t="",format:i="",videoQuality:o="",encodeUserTag:n="",codecType:a="",definition:r=""}={},authorId:l="",id:s="",scheduleTime:d}=null!=te?te:{},c=Object.assign({author_id:l,group_id:s,is_scheduled:Boolean(d),bitrate:Number(e),encodedType:t,format:i,videoQuality:o,encodeUserTag:n,codecType:a,definition:r},z);return H.current=c,c}),[te,z]),et=(0,p.fz)(T.B),tt=(0,a.useCallback)(((e,t)=>{var i,o;et.handleSeekBarClick(Object.assign({fromPercent:e,toPercent:t,video_length:null!==(o=null===(i=De.current)||void 0===i?void 0:i.duration)&&void 0!==o?o:0,is_pause:q.current,play_mode:"browser_mode"},H.current))}),[et,De]),it=(0,n.qj)(St.M),ot=(0,a.useCallback)((e=>{var t,i,o;const n=null===(t=De.current)||void 0===t?void 0:t.duration;it.setVideoInfo({videoId:oe,videoPercent:e,currentTime:null!==(o=null===(i=De.current)||void 0===i?void 0:i.currentTime)&&void 0!==o?o:0,duration:n})}),[oe,it,De]),nt=(0,a.useRef)(-1),at=(0,a.useRef)(void 0),rt=(0,a.useRef)(-1),lt=(0,a.useRef)(0),st=(0,a.useCallback)((()=>{clearTimeout(rt.current),lt.current=0}),[]),[dt,ct]=(0,n.b7)(I.f,{selector:e=>{var t;return Number(null===(t=e.currentVideo)||void 0===t?void 0:t.index)},dependencies:[]}),ut=(0,p.fz)(D.W),pt=(0,a.useRef)(!1);(0,a.useEffect)((()=>{var e,i,o,n,a,r;ke||(ct.updateVideo({currentVideo:{id:oe,index:t,mode:2},playProgress:null!==(i=null===(e=De.current)||void 0===e?void 0:e.currentTime)&&void 0!==i?i:0}),null===(n=null===(o=De.current)||void 0===o?void 0:o.play)||void 0===n||n.call(o),st()),t!==nt.current&&(-1!==nt.current&&(je.setHideMaskTempVideoId(""),ue&&pe(!1),pt.current=!1),st(),void 0===fe&&"photo_sensitive"===at.current&&je.setSkipPhotoSensitive(!1),he?("photo_sensitive_denied"===me?ut.handleShowPhotosensitiveRemoved({group_id:oe}):ut.handleShowMaskLayer({scenario:"general_sensitive"===me?"general":"photosensitive",group_id:oe}),rt.current=window.setInterval((()=>{var e,t,i;lt.current++>100&&st(),(null===(e=De.current)||void 0===e?void 0:e.currentCanPlay)&&(null===(i=null===(t=De.current)||void 0===t?void 0:t.pause)||void 0===i||i.call(t),st())}),50)):null===(r=null===(a=De.current)||void 0===a?void 0:a.play)||void 0===r||r.call(a),nt.current=t,at.current=me)}),[he,ke,De,t,me,je,fe,st,ue,_e,oe,ct,ut]);const ht=(0,a.useCallback)((e=>{we(e),st()}),[we,st]),mt=(0,a.useCallback)((e=>{if((0,S.NS)(e),"general_sensitive"===me){if(pt.current)return;ae?Pe(e):ne>1?Te(e):we(e),ut.handleMaskLayerClickSkip({scenario:"general",group_id:oe}),_t.h.open({content:U("photosensitive_skepped_toast"),duration:3,widthType:"half"}),pt.current=!0}else je.setSkipPhotoSensitive(!1),st(),ut.handleMaskLayerClickWatch({scenario:"photosensitive",group_id:oe})}),[me,ae,ne,U,Pe,Te,we,je,st,ut,oe]),gt=(0,a.useCallback)((e=>{if((0,S.NS)(e),"general_sensitive"===me)je.setHideMaskTempVideoId(oe),st(),ut.handleMaskLayerClickWatch({scenario:"general",group_id:oe});else{if(pt.current)return;ae?Pe(e):1===ne?(null==V?void 0:V.uid)===(null==te?void 0:te.authorId)&&we(e):Te(e),je.setSkipPhotoSensitive(!0),ut.handleMaskLayerClickSkip({scenario:"photosensitive",group_id:oe}),_t.h.open({content:U("photosensitive_skepped_toast"),duration:3,widthType:"half"}),pt.current=!0}}),[me,je,oe,st,ut,ae,U,Pe,ne,null==V?void 0:V.uid,null==te?void 0:te.authorId,we,Te]),vt=(0,a.useRef)(null),xt=(0,a.useRef)([]),bt=(0,a.useRef)(-1),yt=(0,a.useRef)((new Date).getTime()),It=(0,a.useCallback)((e=>{(0,S.NS)(e),bt.current&&clearTimeout(bt.current),bt.current=window.setTimeout((()=>{xt.current=[]}),400);const t=(new Date).getTime(),i=e.wheelDelta||-e.deltaY||-e.detail,o=Math.max(-1,Math.min(1,i)),n=t-yt.current;xt.current=[...xt.current,Math.abs(i)],yt.current=t,n>400&&1===xt.current.length&&(o<0?Pe(e,"scroll"):Te(e,"scroll"))}),[Pe,Te]);if(!(null==te?void 0:te.video))return(0,O.G)(["item.video"]);const{video:{cover:Dt,playAddr:Ot="",width:Rt=1,height:Zt=1},id:Bt,itemMute:Mt,warnInfo:Lt,scheduleTime:zt}=te,Ft=(Rt/Zt||1)>=1,Et=Boolean(null==Lt?void 0:Lt[0])||Boolean(zt);return(0,o.jsxs)(Bi.E9,{children:[(0,o.jsxs)(Bi.ik,Object.assign({onWheel:It,ref:vt,onClick:Ue,onMouseDown:Ee},{children:[(0,o.jsx)(Bi.lI,{style:{backgroundImage:`url(${Dt})`}},void 0),(0,o.jsxs)(Bi.L7,{children:[(0,o.jsx)(R.S,{isInExperiment:!J,poster:Dt,horizontal:Ft,mode:2,ref:De,desc:te.desc,id:Bt,playUrl:Ot,index:t,itemMute:Boolean(Mt),teaParams:Xe,playerTestVid:K,onVideoError:Le,onTimeUpdate:ot,e2eTag:"browse-video"},Bt),(0,o.jsx)($i,{seek:Fe,videoRef:De,vid:Bt,progressReportCallback:tt,extraBottomSpace:Et,isXgPlayer:!J,isBrowserMode:!0},void 0),(0,o.jsx)(Ai.Am,{onMouseDown:S.UW},void 0),(0,o.jsx)(Ai.Gb,{onMouseDown:S.UW},void 0),se.includes(te.id||"")?(0,o.jsx)(Bi.qq,{children:(0,o.jsxs)(Bi.uc,{children:[(0,o.jsx)(Bi.Vz,{children:(0,o.jsx)(d.Z,{width:40,height:40},void 0)},void 0),(0,o.jsx)(Bi.Eb,{children:U("Web_report_thanks_for_report")},void 0),(0,o.jsx)(Bi.vN,{children:U("Web_report_hide_video")},void 0),(0,o.jsx)(Bi.b7,Object.assign({onClick:ce},{children:U("Web_report_show_video")}),void 0)]},void 0)},void 0):null,ke&&(0,o.jsx)(Z.a,{playMode:2,icon:xe,title:ge,desc:ve,firstButtonText:be,secondButtonText:ye,onClickFirstButton:mt,onClickSecondButton:gt},void 0)]},void 0),G&&(0,o.jsx)(Bi.Sd,Object.assign({viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",width:70,height:70,fill:"#fff"},{children:(0,o.jsx)("use",{xlinkHref:"#svg-play-fill"},void 0)}),void 0),(0,o.jsx)(Bi.Sf,Object.assign({onClick:ht,onMouseDown:S.UW},{children:(0,o.jsx)(c.Z,{width:18,height:18,fill:"#fff"},void 0)}),void 0),(0,o.jsx)(Bi.ps,{width:40,height:40,onClick:Ie},void 0),(0,o.jsxs)(Bi.oT,Object.assign({widerBottom:Et,onMouseDown:S.UW},{children:[(0,o.jsx)(Wi,{},void 0),(0,o.jsx)(Bi.sL,Object.assign({onClick:X,widerBottom:Et},{children:(0,o.jsx)(We,{width:40,height:40,fill:"none"},void 0)}),void 0)]}),void 0),qe,(0,o.jsxs)(Bi.Q9,Object.assign({onClick:Ve},{children:[(0,o.jsx)(Bi.Y1,Object.assign({viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",width:16,height:15},{children:(0,o.jsx)("use",{xlinkHref:"#svg-flag"},void 0)}),void 0),U("Report")]}),void 0),Ye&&!zt&&(0,o.jsxs)(Bi.oH,Object.assign({onClick:Je},{children:[(0,o.jsx)(u.Z,{width:20,height:20,fill:"#fff",style:{marginInlineEnd:"6px"}},void 0),U("view_analytics")]}),void 0),(null==Lt?void 0:Lt[0])&&(0,o.jsx)(Bi.zo,{children:(0,o.jsx)(Ct.p,{info:null==Lt?void 0:Lt[0]},void 0)},void 0),Boolean(zt)&&(0,o.jsx)(Bi.zo,{children:(0,o.jsx)(wt.W,{isTextAlignStart:!0,scheduledTime:Number(zt),height:56,fontSize:14,iconSize:18.33,iconMargin:4.83},void 0)},void 0)]}),void 0),(0,o.jsx)(Zi,{item:te,teaParams:z,onLinkClick:Ce,onEmbedVisibleChange:Ge,videoReportParams:Xe},void 0),(0,o.jsx)(Tt.S,{visible:Ze,needLeaveCheck:!Re,onConfirmLeave:Be,onCancelLeave:Me},void 0),(0,o.jsx)(ft,{id:Bt,show:Qe,onClose:Ke},void 0)]},void 0)}));var Hi=i(15490),Ni=i(27239),Yi=i(17609);function Qi(e,t=!0){return function(i){const l=l=>{const{closeBrowserMode:s,isBrowserModeShowing:d,showBrowserMode:c,teaParams:u}=(0,Yi.J)(),[p,h]=(0,n.b7)(Hi.O),m=(0,r.k6)(),g=(0,a.useCallback)((({playProgress:e,fromPopState:i,shouldPause:o}={})=>{!i&&t&&m.goBack(),s({playProgress:e,shouldPause:o})}),[s,m]),v=(0,a.useCallback)((()=>{h.clickSamePage()}),[h]),x=(0,a.useCallback)((()=>(d&&s(void 0),!0)),[s,d]);(0,a.useEffect)((()=>{h.setItemListKey(e)}),[h]);const b=(0,a.useMemo)((()=>({closeBrowserMode:s,showBrowserMode:c,isBrowserModeShowing:d})),[s,d,c]);return(0,o.jsxs)(Yi._.Provider,Object.assign({value:b},{children:[(0,o.jsx)(i,Object.assign({},l),void 0),(0,o.jsx)(r.NL,{message:x},void 0),Boolean(d)&&(0,o.jsx)(qi,{itemListKey:p.itemListKey,currentIndex:p.currentIndex,onNextVideo:h.handleNextVideo,onPrevVideo:h.handlePrevVideo,needUrlDelegate:t,onCloseBrowserMode:g,teaParams:u,onJumpSamePage:v},void 0)]}),void 0)};return l.displayName=`WithBrowserMode(${(0,Ni.i)(i)})`,l}}},27239:(e,t,i)=>{function o(e){var t,i;return null!==(i=null!==(t=e.displayName)&&void 0!==t?t:e.name)&&void 0!==i?i:"UnknownComponent"}i.d(t,{i:()=>o})},15907:(e,t,i)=>{i.d(t,{Z:()=>n,j:()=>a});var o=i(57852);const n=e=>{var t;return-1!==(null!==(t=o.F3.getItem("has_use_seek_bar"))&&void 0!==t?t:[]).indexOf(e)},a=e=>{var t;const i=null!==(t=o.F3.getItem("has_use_seek_bar"))&&void 0!==t?t:[];-1===i.indexOf(e)&&i.push(e),o.F3.setItem("has_use_seek_bar",i)}},4881:(e,t,i)=>{i.d(t,{t:()=>p});var o=i(74512),n=i(32735),a=i(40200),r=i(29984);function l({styleType:e,direction:t}){switch(e){case 0:case 1:return{flexDirection:"column"};case 2:return{flexDirection:"row","& + &":(0,r.YJ)({direction:t,marginStart:"20px"})}}return null}const s=(0,a.Z)("button",{target:"ee8s79f0"})((({styleType:e,theme:{direction:t,colors:i}})=>[r.Ph,{position:"relative",display:"flex",alignItems:"center",cursor:"pointer",":disabled":{cursor:"default",color:i.TextPrimary}},l({styleType:e,direction:t})]),"label:ButtonActionItem;");function d({styleType:e,direction:t}){switch(e){case 0:return[{marginTop:"8px",marginBottom:"6px"},(0,r.f1)({max:767,style:{width:"32px",height:"32px",padding:"6px",svg:{width:"20px",height:"20px"}}})];case 1:return[{padding:"0",marginTop:"8px",marginBottom:"6px"}];case 2:return[{padding:"6px"},(0,r.YJ)({direction:t,marginEnd:"6px"})]}return null}const c=(0,a.Z)("span",{target:"ee8s79f1"})((({styleType:e,theme:{direction:t,colors:i}})=>[{display:"flex",justifyContent:"center",alignItems:"center",width:2===e?"32px":"48px",height:2===e?"32px":"48px",fontSize:"0px",borderRadius:"50%",transition:"all ease-in-out 200ms"},1!==e?{backgroundColor:i.BGInput,[`${s}:not(:disabled) &:hover`]:{backgroundColor:"rgba(22, 24, 35, .1)"},[`${s}:not(:disabled) &:active`]:{backgroundColor:"rgba(22, 24, 35, .14)"}}:null,d({styleType:e,direction:t})]),"label:SpanIconWrapper;"),u=(0,a.Z)("strong",{target:"ee8s79f2"})((({theme:e})=>(0,r.GI)({theme:e,typography:"P4",color:"TextSecondary"})),{textAlign:"center"},"label:StrongText;"),p=(0,n.memo)((function(e){const{text:t,Icon:i,styleType:n,disabled:a,children:r,e2eTag:l}=e;return(0,o.jsxs)(s,Object.assign({styleType:n,type:"button",onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,disabled:a},{children:[(0,o.jsx)(c,Object.assign({styleType:n,"data-e2e":`${l}-icon`},{children:i}),void 0),(0,o.jsx)(u,Object.assign({"data-e2e":`${l}-count`},{children:t}),void 0),r]}),void 0)}))},19054:(e,t,i)=>{i.d(t,{H:()=>l});var o=i(74512),n=i(32735),a=i(90938),r=i(32509);const l=e=>{const{visible:t=!1,duration:i=5e3,onHide:l,text:s,children:d,onShow:c,closeByActive:u}=e,p=(0,a.Q)(),[h,m]=(0,n.useState)(!1);(0,n.useEffect)((()=>{m(t)}),[t]),(0,n.useEffect)((()=>{!h&&l&&l(),h&&(null==c||c(),setTimeout((()=>{m(!1)}),i))}),[l,h,i,c]);const g=(0,n.useCallback)((()=>{u&&m(!1)}),[u]),v=(0,n.useMemo)((()=>({padding:"12px"})),[]),x=(0,n.useMemo)((()=>({keepParent:!0})),[]);return(0,o.jsx)(r.u,Object.assign({destroyTooltipOnHide:x,onClick:g,placement:"top",overlay:p(s),tooltipTheme:"blue",visible:h,overlayInnerStyle:v},{children:d}),void 0)}},75570:(e,t,i)=>{i.d(t,{W:()=>h});var o=i(74512),n=i(43356),a=i(10207),r=i(87530),l=i(32735),s=i(90938),d=i(40200),c=i(29984);const u=(0,d.Z)("div",{target:"e1xzxug00"})((({theme:e,justifyContent:t})=>[(0,c.GI)({theme:e,fontFamily:"Proxima",color:"ConstTextInverse"}),{background:e.colors.BGInverse3,display:"flex",justifyContent:t,alignItems:"center"}]),"label:DivScheduleItemWarn;");function p(e){const t=(0,r.unix)(e).format("YYYY-M-D-H:mm"),[i,n,a,l]=t.split("-");return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{children:" "},void 0),(0,o.jsx)("span",{children:i},void 0),(0,o.jsx)("span",{children:"-"},void 0),(0,o.jsx)("span",{children:n},void 0),(0,o.jsx)("span",{children:"-"},void 0),(0,o.jsx)("span",{children:a},void 0),(0,o.jsx)("span",{children:" "},void 0),(0,o.jsx)("span",{children:l},void 0)]},void 0)}const h=(0,l.memo)((function({height:e,fontSize:t,scheduledTime:i,iconSize:r,iconMargin:l,className:d,isTextAlignStart:c=!1}){const{direction:h}=(0,a.u)(),m=(0,s.Q)();return(0,o.jsxs)(u,Object.assign({justifyContent:c?"center":void 0,className:d,style:{fontSize:t,height:e,lineHeight:e}},{children:[(0,o.jsx)(n.Z,{width:r,height:r,style:{["ltr"===h?"marginRight":"marginLeft"]:l}},void 0),m("scheduled_for"),p(i)]}),void 0)}))},50259:(e,t,i)=>{i.d(t,{p:()=>v});var o=i(74512),n=i(45563),a=i(12502),r=i(84408),l=i(10207),s=i(32735),d=i(40200),c=i(29984);const u=(0,d.Z)("div",{target:"ek8q94p0"})((({theme:{colors:e}})=>({display:"flex",alignItems:"start",justifyContent:"center",padding:"16px 6px",backgroundColor:e.BGInverse3})),"label:DivContainer;"),p=(0,d.Z)("div",{target:"ek8q94p1"})({flex:"0 0 26px",height:14,width:26,padding:"0 6px"},"label:DivIconContainer;"),h=(0,d.Z)(p,{target:"ek8q94p2"})((({theme:{direction:e}})=>({textAlign:(0,c.$K)(e,"end")})),"label:StyledWarningIconContainer;"),m=(0,d.Z)(p,{target:"ek8q94p3"})((({theme:{direction:e}})=>({textAlign:(0,c.$K)(e,"start")})),"label:StyledArrowIconContainer;"),g=(0,d.Z)("div",{target:"ek8q94p4"})((({theme:e})=>[(0,c.GI)({theme:e,typography:"H6",fontWeight:"semiBold",color:"ConstTextInverse"}),{flex:"0 1 auto",wordBreak:"break-all",verticalAlign:"text-top",textAlign:(0,c.$K)(e.direction,"start")}]),"label:DivWarnInfoContent;"),v=(0,s.memo)((function({info:{text:e,url:t}}){const{direction:i,colors:{ConstTextInverse:d}}=(0,l.u)(),c=(0,s.useMemo)((()=>"ltr"===i?(0,o.jsx)(n.Z,{fill:d},void 0):(0,o.jsx)(a.Z,{fill:d},void 0)),[d,i]),p=(0,s.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),t&&window.open(t,"_blank","noopener,noreferrer")}),[t]);return(0,o.jsxs)(u,Object.assign({onClick:p,style:{cursor:t?"pointer":"unset"}},{children:[(0,o.jsx)(h,{children:(0,o.jsx)(r.Z,{fill:d},void 0)},void 0),(0,o.jsx)(g,{children:e},void 0),t&&(0,o.jsx)(m,{children:c},void 0)]}),void 0)}))},66502:(e,t,i)=>{i.d(t,{Q:()=>y});var o=i(74512),n=i(24246),a=i(32321),r=i(32735),l=i(90938),s=i(99915),d=i(473),c=i(15490),u=i(31256),p=i(40200),h=i(29984);const m=(0,p.Z)("button",{target:"ewgnlj30"})(h.Ph,(({theme:e})=>[(0,h.YJ)({direction:e.direction,end:"26px"}),(0,h.GI)({theme:e,fontFamily:"Proxima",fontWeight:"semiBold",color:"TextPrimary",typography:"P3"})]),{display:"flex",justifyContent:"center",alignItems:"center",height:"20px",cursor:"pointer",":hover":{textDecoration:"underline"}},"label:ButtonDelete;"),g=(0,p.Z)(u.Z,{target:"ewgnlj31"})((({theme:{direction:e}})=>(0,h.YJ)({direction:e,marginEnd:6})),"label:StyledTrashBin;"),v=(0,p.Z)("p",{target:"ewgnlj32"})((({theme:e})=>(0,h.GI)({theme:e,typography:"H4",fontWeight:"bold"})),{padding:"36px 32px",textAlign:"center",width:"332px"},"label:PDeleteTitle;"),x=(0,p.Z)("button",{target:"ewgnlj33"})(h.Ph,(({theme:{colors:e}})=>({width:"100%",height:"48px",fontSize:"16px",lineHeight:"48px",borderTop:`1px solid ${e.LineSecondary}`,cursor:"pointer"})),"label:ButtonConfirm;"),b=(0,p.Z)(x,{target:"ewgnlj34"})((({theme:{colors:e}})=>({color:e.TextSecondary})),"label:StyledButtonCancel;"),y=function({video:e}){const[t,i]=(0,r.useState)(!1),u=(0,l.Q)(),p=(0,n.qj)(c.O),h=(0,a.fz)(s.B),y=(0,r.useCallback)((()=>{i(!0),h.handleScheduleConfirm(e.id)}),[h,e.id]),f=(0,r.useCallback)((()=>{p.postScheduleDelete(e.id),i(!1)}),[p,e.id]),_=(0,r.useCallback)((()=>{i(!1),h.handleScheduleDelete("cancel")}),[h]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(m,Object.assign({type:"button",onClick:y},{children:[(0,o.jsx)(g,{width:18.33,height:18.33},void 0),u("delete")]}),void 0),(0,o.jsxs)(d.u,Object.assign({visible:t,onClose:_},{children:[(0,o.jsx)(v,{children:u("delete_confirm")},void 0),(0,o.jsx)(x,Object.assign({"data-e2e":"video-modal-delete",type:"button",onClick:f},{children:u("delete")}),void 0),(0,o.jsx)(b,Object.assign({"data-e2e":"video-modal-cancel",type:"button",onClick:_},{children:u("cancel_settings")}),void 0)]}),void 0)]},void 0)}},84385:(e,t,i)=>{i.d(t,{C:()=>be});var o=i(74512),n=i(10207),a=i(32321),r=i(32735),l=i(90938),s=i(99915),d=i(41967),c=i(25491),u=i(24246),p=i(54032),h=i(14584),m=i(473),g=i(31191),v=i(40200);const x=(0,v.Z)("div",{target:"eoeunh00"})((({checked:e,backgroundColor:t,width:i,height:o})=>({position:"relative",width:null!=i?i:"44px",height:null!=o?o:"24px",left:"0",top:"0",background:null!=t?t:e?"#0be09b":"rgba(22, 24, 35, 0.12)",borderRadius:"100px",transition:"all 0.4s cubic-bezier(0.075, 0.82, 0.165, 1)",":hover":{background:null!=t?t:e?"linear-gradient(0deg, rgba(0, 0, 0, .08), rgba(0, 0, 0, .08)), #0be09b":"rgba(22, 24, 35, 0.16)"}})),"label:DivSwitchWrapper;"),b=(0,v.Z)("span",{target:"eoeunh01"})((({checked:e,height:t,width:i,backgroundColor:o,left:n})=>({position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",width:null!=i?i:"20px",height:null!=t?t:"20px",left:n,top:"50%",transform:e?"translate(-100%, -50%);":"translateY(-50%)",borderRadius:"100px",background:null!=o?o:"#fff",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.15)",transition:"all 0.4s cubic-bezier(0.075, 0.82, 0.165, 1)"})),"label:SpanSwitchIcon;"),y=(0,v.Z)("button",{target:"eoeunh02"})((({theme:{colors:e,typography:t,fontFamilies:i}})=>[t.P2,{border:"none",background:"none",outline:"none",padding:0,position:"relative",overflow:"visible",display:"inline-flex",alignItems:"center",color:e.TextPrimary,fontFamily:i.Proxima,cursor:"pointer",":disabled":{cursor:"not-allowed",opacity:.34}}]),"label:ButtonSwitchContainer;"),f=function(e){var{className:t,style:i={},size:n="medium",width:a=44,height:l=24,padding:s=2,indicatorSize:d=20,indicatorColor:c,indicatorCheckedColor:u,indicatorUnCheckedColor:p,indicatorIcon:h,indicatorCheckedIcon:m,indicatorUnCheckedIcon:v,backgroundColor:f,backgroundCheckedColor:_,backgroundUnCheckedColor:j,content:k="",disabled:C=!1,checked:w,defaultChecked:S=!1,e2eData:P,onChange:T}=e,I=(0,g.__rest)(e,["className","style","size","width","height","padding","indicatorSize","indicatorColor","indicatorCheckedColor","indicatorUnCheckedColor","indicatorIcon","indicatorCheckedIcon","indicatorUnCheckedIcon","backgroundColor","backgroundCheckedColor","backgroundUnCheckedColor","content","disabled","checked","defaultChecked","e2eData","onChange"]);const[D,O]=(0,r.useState)(null!=w?w:S),R=null!=w?w:D,Z=(0,r.useCallback)((e=>{null==e||e.stopPropagation(),null==T||T(!R,e),O(!R)}),[T,R]);return(0,r.useEffect)((()=>{O(null!=w?w:S)}),[S,w]),(0,o.jsx)(y,Object.assign({"data-e2e":P,type:"button",role:"switch",disabled:C,onClick:Z},I,{children:(0,o.jsx)(x,Object.assign({checked:R,backgroundColor:R?null!=_?_:f:null!=j?j:f,width:`${a}px`,height:`${l}px`},{children:(0,o.jsx)(b,Object.assign({checked:R,backgroundColor:R?null!=u?u:c:null!=p?p:c,width:`${d}px`,height:`${d}px`,left:R?`calc(100% - ${s}px)`:`${s}px`},{children:R?null!=m?m:h:null!=v?v:h}),void 0)}),void 0)}),void 0)};var _=i(89314),j=i(75246),k=i(29984);const C=(0,v.Z)("div",{target:"ebu8l880"})((({theme:e})=>[(0,k.GI)({theme:e,typography:"H6",fontFamily:"Proxima"}),{position:"relative",userSelect:"none"}]),"label:DivContainer;"),w=(0,v.Z)("div",{target:"ebu8l881"})((({theme:{colors:e}})=>({display:"flex",flexDirection:"row",alignItems:"center",padding:"12px",borderRadius:"2px",border:`1px solid ${e.LineSecondary2}`,cursor:"pointer"})),"label:DivSelectionContainer;"),S=(0,v.Z)("p",{target:"ebu8l882"})(k.wj,{flex:"1 1 auto"},"label:PSelected;"),P=(0,v.Z)(_.Z,{target:"ebu8l883"})({width:24,height:24,flex:"0 0 24px"},"label:StyledChevronDown;"),T=(0,v.Z)("div",{target:"ebu8l884"})({position:"fixed",left:0,right:0,top:0,bottom:0},"label:DivSelectMask;"),I=(0,j.F4)({from:{opacity:"0",transform:"scale(0.6, 0.6)"},"70%":{opacity:"1",transform:"scale(1.01, 1.01)"},to:{opacity:"1",transform:"scale(1, 1)",animationTimingFunction:"cubic-bezier(0.215, 0.61, 0.355, 1)"}}),D=(0,v.Z)("ul",{target:"ebu8l885"})((({theme:{colors:e}})=>({position:"absolute",left:0,right:0,margin:0,padding:0,listStyle:"none",border:`1px solid ${e.LineSecondary}`,background:e.BGPrimary,boxShadow:`0px 2px 8px ${e.ShadowPrimary}`,animation:`${I} 100ms normal`,transformOrigin:"center top",zIndex:1})),"label:UlOptionsContainer;"),O=(0,v.Z)("li",{target:"ebu8l886"})((({theme:{colors:e}})=>({cursor:"pointer",padding:"8px 12px",":hover":{background:e.BGView}})),"label:LiOptionsItem;"),R=(0,v.Z)("p",{target:"ebu8l887"})(k.wj,"label:POptionsTitle;"),Z=(0,v.Z)("p",{target:"ebu8l888"})(k.wj,(({theme:e})=>(0,k.GI)({theme:e,typography:"P4",color:"TextTertiary"})),"label:POptionsDesc;");function B({value:e,options:t,e2eData:i,itemE2eData:n,onChange:a,placeholder:l}){var s,d;const[c,u]=(0,r.useState)(!1),p=t.find((({value:t})=>t===e)),h=(0,r.useCallback)((()=>{u(!0)}),[]),m=(0,r.useCallback)((()=>{u(!1)}),[]),g=(0,r.useCallback)((e=>()=>{null==a||a(e),m()}),[m,a]);return(0,o.jsxs)(C,{children:[(0,o.jsxs)(w,Object.assign({"data-e2e":i,onClick:h},{children:[(0,o.jsx)(S,{children:null!==(d=null!==(s=null==p?void 0:p.title)&&void 0!==s?s:null==p?void 0:p.value)&&void 0!==d?d:l},void 0),(0,o.jsx)(P,{width:24,height:24},void 0)]}),void 0),c&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(T,{onClick:m},void 0),(0,o.jsx)(D,{children:t.map((({value:e,key:t,title:i,desc:a})=>{const r=String(null!=i?i:e);return(0,o.jsxs)(O,Object.assign({"data-e2e":n,title:r,onClick:g(e)},{children:[(0,o.jsx)(R,{children:i},void 0),a&&(0,o.jsx)(Z,{children:a},void 0)]}),null!=t?t:String(e))}))},void 0)]},void 0)]},void 0)}var M=i(6229),L=i(16219),z=i(11359),F=i(2355),E=i(30526),A=i(71011),$=i(51166),U=i(31144),V=i(60083),G=i(81104),W=i(21296),q=i(3585);let H=class{constructor(){this.handlePrivateBannerShow=()=>{q.WB.event("private_account_pop")},this.handlePrivateBannerClick=e=>{q.WB.event("private_account_pop_click",{result:e})},this.handleCookieBannerShow=e=>{q.WB.event("cookie_banner_show",e)},this.handleClickCookieSettings=()=>{q.WB.event("click_cookie_settings",{enter_method:"click_banner_cookie_settings"})},this.handleClickCookiePolicy=()=>{q.WB.event("click_cookie_policy",{enter_method:"click_banner_cookie_policy"})},this.handleCookieBannerAccept=e=>{q.WB.event("change_cookie_setting",Object.assign({enter_method:"click_banner_accept"},e))},this.handleCookieBannerDeny=e=>{q.WB.event("change_cookie_setting",Object.assign({enter_method:"click_banner_decline"},e))}}};H=(0,g.__decorate)([(0,W.G)()],H);var N=i(70336);let Y=class{constructor(e){this.fetch=e,this.postPrivateBannerAck=()=>this.fetch.post("/api/private_banner/ack/")}getVideoPrivateSetting(){return this.fetch.get("/api/compliance/settings/",{baseUrlType:2})}};Y=(0,g.__decorate)([(0,W.G)(),(0,g.__metadata)("design:paramtypes",[N.r])],Y);let Q=class extends M.D{constructor(e,t){super(),this.service=e,this.report=t,this.defaultState={isPrivateBannerShowing:!1,videoPrivateSetting:{duet:{show_type:0,res_type:0},stitch:{show_type:0,res_type:0}}}}setIsPrivateBannerShowing(e,t){e.isPrivateBannerShowing=t}handleShowPrivateBanner(e){return e.pipe((0,E.b)((e=>{e&&this.report.handlePrivateBannerShow()})),(0,A.U)((e=>this.getActions().setIsPrivateBannerShowing(e))))}handlePrivateBannerClose(e){return e.pipe((0,E.b)((()=>{this.report.handlePrivateBannerClick("ok")})),(0,$.z)((()=>this.service.postPrivateBannerAck())),(0,E.b)((e=>{(0,V.k)(e.statusCode,[0])})),(0,A.U)((e=>0===e.statusCode?this.getActions().setIsPrivateBannerShowing(!1):this.noop())),(0,G.n)({}))}setVideoPrivateSetting(e,t){e.videoPrivateSetting=t}getVideoPrivateSetting(e){return e.pipe((0,U.M)(this.state$),(0,$.z)((([e,t])=>this.service.getVideoPrivateSetting().pipe((0,A.U)((e=>{var i,o,n,a;const{private_settings:r}=e;return this.getActions().setVideoPrivateSetting({duet:{show_type:null!==(i=null==r?void 0:r.video_privacy.duet.show_type)&&void 0!==i?i:t.videoPrivateSetting.duet.show_type,res_type:null!==(o=null==r?void 0:r.video_privacy.duet.res_type)&&void 0!==o?o:t.videoPrivateSetting.duet.res_type},stitch:{show_type:null!==(n=null==r?void 0:r.video_privacy.stitch.show_type)&&void 0!==n?n:t.videoPrivateSetting.stitch.show_type,res_type:null!==(a=null==r?void 0:r.video_privacy.stitch.res_type)&&void 0!==a?a:t.videoPrivateSetting.stitch.res_type}})}))))),(0,G.n)({}))}};(0,g.__decorate)([(0,L.lF)(),(0,g.__metadata)("design:type",Function),(0,g.__metadata)("design:paramtypes",[Object,Boolean]),(0,g.__metadata)("design:returntype",void 0)],Q.prototype,"setIsPrivateBannerShowing",null),(0,g.__decorate)([(0,L.Qm)(),(0,g.__metadata)("design:type",Function),(0,g.__metadata)("design:paramtypes",[F.y]),(0,g.__metadata)("design:returntype",void 0)],Q.prototype,"handleShowPrivateBanner",null),(0,g.__decorate)([(0,L.Qm)(),(0,g.__metadata)("design:type",Function),(0,g.__metadata)("design:paramtypes",[F.y]),(0,g.__metadata)("design:returntype",void 0)],Q.prototype,"handlePrivateBannerClose",null),(0,g.__decorate)([(0,L.lF)(),(0,g.__metadata)("design:type",Function),(0,g.__metadata)("design:paramtypes",[Object,Object]),(0,g.__metadata)("design:returntype",void 0)],Q.prototype,"setVideoPrivateSetting",null),(0,g.__decorate)([(0,L.Qm)(),(0,g.__metadata)("design:type",Function),(0,g.__metadata)("design:paramtypes",[F.y]),(0,g.__metadata)("design:returntype",void 0)],Q.prototype,"getVideoPrivateSetting",null),Q=(0,g.__decorate)([(0,z.Y)("Compliance"),(0,g.__metadata)("design:paramtypes",[Y,H])],Q);var J=i(15490);const K=(0,v.Z)("div",{target:"e1hoht241"})({padding:"32px",width:"332px"},"label:DivContentWrapper;"),X=(0,v.Z)("h2",{target:"e1hoht242"})((({theme:e})=>(0,k.GI)({theme:e,typography:"H4"})),{marginTop:"4px",textAlign:"center"},"label:H2Title;"),ee=(0,v.Z)("p",{target:"e1hoht243"})((({theme:e})=>(0,k.GI)({theme:e,typography:"P2",fontWeight:"semiBold",fontFamily:"Proxima"})),{marginTop:"24px",marginBottom:"8px"},"label:PDesc;"),te=(0,v.Z)("div",{target:"e1hoht244"})({marginTop:"16px"},"label:DivSwitchGroupContainer;"),ie=(0,v.Z)("div",{target:"e1hoht245"})({display:"flex",flexDirection:"row",alignItems:"center",height:"40px"},"label:DivSwitchItemContainer;"),oe=(0,v.Z)("span",{target:"e1hoht246"})((({theme:e,disabled:t})=>[(0,k.GI)({theme:e,typography:"P2",fontWeight:"semiBold",color:t?"TextQuaternary":"TextPrimary"}),(0,k.YJ)({direction:e.direction,marginEnd:"12px"}),{flex:"1 1 auto"}]),"label:SpanSwitchText;"),ne=(0,v.Z)("p",{target:"e1hoht247"})((({theme:e})=>(0,k.GI)({theme:e,fontFamily:"Proxima",typography:"P4",color:"TextQuaternary"})),{marginTop:"4px"},"label:PHint;"),ae=(0,v.Z)("button",{target:"e1hoht248"})(k.Ph,(({theme:{colors:e}})=>({width:"100%",height:"48px",fontSize:"16px",lineHeight:"48px",borderTop:`1px solid ${e.LineSecondary}`,cursor:"pointer"})),"label:ButtonSave;"),re=function(e){const{videoId:t,visible:i}=e,n=(0,l.Q)(),a=function(e){return(0,u.mp)(p.A,{selector:t=>t[e],dependencies:[e]})}(t),s=(0,h.p)(null==a?void 0:a.author),{handleChange:d,optionsList:c,visibilityValue:g}=function({item:e,author:t}){const i=(0,l.Q)(),o=(0,u.qj)(J.O),{forFriend:n,secret:a,id:s=""}=null!=e?e:{},{privateAccount:d}=null!=t?t:{};return{visibilityValue:(0,r.useMemo)((()=>n?"3":a?"2":"1"),[n,a]),optionsList:(0,r.useMemo)((()=>[{title:i(d?"who_can_view_followers":"who_can_view_public"),desc:i(d?"followers_desc_for_private":"public_desc"),value:"1"},{title:i("who_can_view_friends"),desc:i("followers_desc"),value:"3"},{title:i("video_label_private"),desc:i("private_desc"),value:"2"}]),[d,i]),handleChange:(0,r.useCallback)((e=>{o.postModifyVisibility({aweme_id:s,type:e})}),[o,s])}}({item:a,author:s}),{comment:v,duet:x,stitch:b,hintTextKey:y}=function({item:e}){const[{isEnableDuet:t,isEnableStitch:i,isShowSafetyHint:o},n]=(0,u.b7)(Q,{selector:e=>({isEnableDuet:0===e.videoPrivateSetting.duet.show_type,isEnableStitch:0===e.videoPrivateSetting.stitch.show_type,isShowSafetyHint:1===e.videoPrivateSetting.duet.res_type||1===e.videoPrivateSetting.stitch.res_type}),dependencies:[]}),a=1===(null==e?void 0:e.duetDisplay)||1===(null==e?void 0:e.stitchDisplay),l=3!==(null==e?void 0:e.itemCommentStatus),s=Boolean(null==e?void 0:e.duetEnabled)&&!a,d=Boolean(null==e?void 0:e.stitchEnabled)&&!a,c=Number(null==e?void 0:e.video.duration)>=61,p=(0,u.qj)(J.O),h=(0,r.useMemo)((()=>o?"setting_disabled_16":a?"duet_stitch_minor":c?"hint2":"hint1"),[c,o,a]);(0,r.useEffect)((()=>{n.getVideoPrivateSetting()}),[n]);const m=(0,r.useCallback)((t=>{var i;p.postUserSetting({field:"item_comment",aweme_id:null!==(i=null==e?void 0:e.id)&&void 0!==i?i:"",private_setting:t?0:3})}),[null==e?void 0:e.id,p]),g=(0,r.useCallback)((t=>i=>{var o;p.postDuetOrStitchChange({aweme_id:null!==(o=null==e?void 0:e.id)&&void 0!==o?o:"",type:t,enable:i?0:1})}),[null==e?void 0:e.id,p]);return{comment:{checked:l,onChange:m},duet:{checked:s,disabled:c||!t||a,onChange:g("item_duet")},stitch:{checked:d,disabled:c||!i||a,onChange:g("item_stitch")},hintTextKey:h}}({item:a,author:s});return(0,o.jsxs)(m.u,Object.assign({e2eData:"video-setting-list",visible:i,onClose:e.onClose},{children:[(0,o.jsxs)(K,{children:[(0,o.jsx)(X,{children:n("privacy_set")},void 0),(0,o.jsx)(ee,{children:n("view_access")},void 0),(0,o.jsx)(B,{e2eData:"video-setting-choose",itemE2eData:"video-watch-list",value:g,options:c,onChange:d},void 0),(0,o.jsxs)(te,{children:[(0,o.jsx)(le,Object.assign({e2eData:"video-setting-comment",text:n("allow_comment")},v),void 0),(0,o.jsx)(le,Object.assign({e2eData:"video-setting-duet",text:n("allow_duet")},x),void 0),(0,o.jsx)(le,Object.assign({e2eData:"video-setting-stitch",text:n("allow_stitch")},b),void 0)]},void 0),(0,o.jsx)(ne,{children:n(y)},void 0)]},void 0),(0,o.jsx)(ae,Object.assign({"data-e2e":"video-setting-down",onClick:e.onClose},{children:n("privacy_settings_done")}),void 0)]}),void 0)},le=function(e){const{disabled:t,checked:i,text:n,e2eData:a}=e;return(0,o.jsxs)(ie,{children:[(0,o.jsx)(oe,{children:n},void 0),(0,o.jsx)(f,{e2eData:a,checked:i,onChange:e.onChange,disabled:t},void 0)]},void 0)};var se=i(39353);const de=(0,v.Z)("div",{target:"eovkck10"})({position:"relative",flex:"0 0 24px",width:"24px",height:"24px"},"label:DivActionContainer;"),ce=(0,v.Z)(se.Z,{target:"eovkck11"})({width:24,height:24,cursor:"pointer"},"label:StyledEllipsisHorizontal;"),ue=(0,v.Z)("ul",{target:"eovkck12"})((({theme:e})=>(0,k.GI)({theme:e,typography:"P2",fontWeight:"semiBold",fontFamily:"Proxima"})),{listStyle:"none",margin:"0",padding:"8px 16px",whiteSpace:"nowrap",minWidth:"200px"},"label:UlPopupContainer;"),pe=(0,v.Z)("li",{target:"eovkck13"})((({theme:{colors:e}})=>({position:"relative",padding:"13px",":last-of-type::before":{content:'""',position:"absolute",left:0,top:0,width:"100%",height:"1px",background:e.LineSecondary,transform:"scaleY(0.5)"}})),"label:LiPopupItem;"),he=(0,v.Z)("button",{target:"eovkck14"})(k.Ph,(({theme:{colors:e}})=>({cursor:"pointer",":hover":{color:e.Primary}})),"label:ButtonAction;"),me=(0,v.Z)("p",{target:"e1h0kon00"})((({theme:e})=>(0,k.GI)({theme:e,typography:"H4",fontWeight:"bold"})),{padding:"36px 32px",textAlign:"center",width:"332px"},"label:PDeleteTitle;"),ge=(0,v.Z)("button",{target:"e1h0kon01"})(k.Ph,(({theme:{colors:e}})=>({width:"100%",height:"48px",fontSize:"16px",lineHeight:"48px",borderTop:`1px solid ${e.LineSecondary}`,cursor:"pointer"})),"label:ButtonConfirm;"),ve=(0,v.Z)(ge,{target:"e1h0kon02"})((({theme:{colors:e}})=>({color:e.TextSecondary})),"label:StyledButtonCancel;"),xe=function(e){const{visible:t,onClose:i,videoId:n}=e,d=(0,l.Q)(),c=(0,u.qj)(J.O),p=(0,a.fz)(s.B),h=(0,r.useCallback)((()=>{c.postVideoDelete({aweme_id:n,target:n}),null==i||i()}),[c,i,n]),g=(0,r.useCallback)((()=>{p.handleVideoDelete("cancel"),null==i||i()}),[i,p]);return(0,o.jsxs)(m.u,Object.assign({e2eData:"video-delete-modal",visible:t,onClose:e.onClose},{children:[(0,o.jsx)(me,{children:d("delete_confirm")},void 0),(0,o.jsx)(ge,Object.assign({"data-e2e":"video-modal-delete",type:"button",onClick:h},{children:d("delete")}),void 0),(0,o.jsx)(ve,Object.assign({"data-e2e":"video-modal-cancel",type:"button",onClick:g},{children:d("cancel_settings")}),void 0)]}),void 0)},be=function({videoId:e}){const{direction:t}=(0,n.u)(),i="ltr"===t?"bottomRight":"bottomLeft",u=(0,l.Q)(),p=(0,a.fz)(s.B),{active:h,handleMouseEnter:m,handleMouseLeave:g}=(0,d.R)(),[v,x]=(0,r.useState)(!1),b=(0,r.useCallback)((()=>{x(!0)}),[]),y=(0,r.useCallback)((()=>{x(!1)}),[]),[f,_]=(0,r.useState)(!1),j=(0,r.useCallback)((()=>{_(!0),p.handleClickDeleteVideo({group_id:e})}),[p,e]),k=(0,r.useCallback)((()=>{_(!1)}),[]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(de,Object.assign({"data-e2e":"video-setting",onMouseEnter:m,onMouseLeave:g},{children:[(0,o.jsx)(ce,{},void 0),(0,o.jsx)(c.G,Object.assign({placement:i,active:h,margin:-11,arrowMargin:10},{children:(0,o.jsxs)(ue,{children:[(0,o.jsx)(pe,Object.assign({"data-e2e":"video-privacy-settings"},{children:(0,o.jsx)(he,Object.assign({onClick:b,type:"button"},{children:u("privacy_set")}),void 0)}),void 0),(0,o.jsx)(pe,Object.assign({"data-e2e":"video-delete"},{children:(0,o.jsx)(he,Object.assign({onClick:j,type:"button"},{children:u("delete")}),void 0)}),void 0)]},void 0)}),void 0)]}),void 0),(0,o.jsx)(re,{videoId:e,visible:v,onClose:y},void 0),(0,o.jsx)(xe,{visible:f,onClose:k,videoId:e},void 0)]},void 0)}},12779:(e,t,i)=>{i.d(t,{_:()=>Te});var o=i(74512),n=i(74598),a=i(30523),r=i(24246),l=i(32321),s=i(32735),d=i(86987),c=i(66163),u=i(90938),p=i(59719),h=i(74146),m=i(55643),g=i(32509);const v=(0,i(87308).ZP)({resolved:{},chunkName:()=>"editor",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!i.m[t]},importAsync:()=>Promise.all([i.e(5932),i.e(4620),i.e(1483),i.e(1189)]).then(i.bind(i,84608)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>84608});var x=i(40200),b=i(29984);const y=(0,x.Z)("div",{target:"egzo34x0"})((({theme:{colors:e}})=>({width:"100%",height:"100%",display:"flex",flexDirection:"column-reverse",backgroundColor:e.BGPrimary})),"label:DivEmojiSuggestionContainer;"),f=(0,x.Z)("ul",{target:"egzo34x1"})((({theme:{colors:e}})=>({listStyleType:"none",margin:0,padding:0,order:1,flex:"0 0 38px",borderTop:`1px solid ${e.LineSecondary}`,display:"flex",flexDirection:"row"})),"label:UlNavContainer;"),_=(0,x.Z)("div",{target:"egzo34x2"})((({theme:{colors:e}})=>({order:2,flex:"1 1 100%",overflowY:"scroll",scrollbarWidth:"none","::-webkit-scrollbar":{width:4},"::-webkit-scrollbar-track":{marginTop:8},"::-webkit-scrollbar-thumb":{borderRadius:2,backgroundColor:e.LineSecondary},":hover::-webkit-scrollbar-thumb":{backgroundColor:e.TextQuaternary}})),"label:DivPanelContainer;"),j=(0,x.Z)("ul",{target:"egzo34x3"})({listStyleType:"none",margin:0,padding:0,width:"100%",height:"100%",display:"flex",flexWrap:"wrap"},"label:UlPanelList;"),k=(0,x.Z)("li",{target:"egzo34x4"})((({theme:e,theme:{colors:t},isActive:i})=>[(0,b.GI)({theme:e,color:"ConstBGInverse",typography:"H4"}),{listStyleType:"none",flex:"0 0 auto",width:40,height:40,lineHeight:"46px",margin:"5px 6px",cursor:"pointer",textAlign:"center",backgroundColor:i?t.BGInput:t.BGPrimary,borderRadius:8,":hover":{backgroundColor:t.BGInput}}]),"label:LiItem;"),C=(0,s.memo)((function({emojis:e,onSelect:t}){const i=(0,s.useRef)(-1),n=(0,s.useCallback)((e=>{const t=e.target;if("li"===t.nodeName.toLocaleLowerCase()){const e=t.getAttribute("data-index");i.current=e?Number(e):-1}}),[]),a=(0,s.useCallback)((o=>{(0,p.NS)(o);const n=i.current;-1!==n&&t(e[n].emoji)}),[e,t]);return(0,o.jsx)(j,Object.assign({onMouseOver:n,onClick:a},{children:e.map(((e,t)=>(0,o.jsx)(k,Object.assign({"data-index":t,isActive:!1},{children:e.emoji}),e.alias)))}),void 0)})),w=[{name:"basic",data:[{emoji:"😀",alias:"grinning"},{emoji:"😃",alias:"smiley"},{emoji:"😄",alias:"smile"},{emoji:"😁",alias:"grin"},{emoji:"😆",alias:"laughing"},{emoji:"😅",alias:"sweat_smile"},{emoji:"🤣",alias:"rofl"},{emoji:"😂",alias:"joy"},{emoji:"🙂",alias:"slightly_smiling_face"},{emoji:"🙃",alias:"upside_down_face"},{emoji:"😉",alias:"wink"},{emoji:"😊",alias:"blush"},{emoji:"😇",alias:"innocent"},{emoji:"😍",alias:"heart_eyes"},{emoji:"😘",alias:"kissing_heart"},{emoji:"😗",alias:"kissing"},{emoji:"😚",alias:"kissing_closed_eyes"},{emoji:"😙",alias:"kissing_smiling_eyes"},{emoji:"😋",alias:"yum"},{emoji:"😛",alias:"stuck_out_tongue"},{emoji:"😜",alias:"stuck_out_tongue_winking_eye"},{emoji:"😝",alias:"stuck_out_tongue_closed_eyes"},{emoji:"🤑",alias:"money_mouth_face"},{emoji:"🤗",alias:"hugs"},{emoji:"🤔",alias:"thinking"},{emoji:"🤐",alias:"zipper_mouth_face"},{emoji:"😐",alias:"neutral_face"},{emoji:"😑",alias:"expressionless"},{emoji:"😶",alias:"no_mouth"},{emoji:"😏",alias:"smirk"},{emoji:"😒",alias:"unamused"},{emoji:"🙄",alias:"roll_eyes"},{emoji:"😬",alias:"grimacing"},{emoji:"🤥",alias:"lying_face"},{emoji:"😌",alias:"relieved"},{emoji:"😔",alias:"pensive"},{emoji:"😪",alias:"sleepy"},{emoji:"🤤",alias:"drooling_face"},{emoji:"😴",alias:"sleeping"},{emoji:"😷",alias:"mask"},{emoji:"🤒",alias:"face_with_thermometer"},{emoji:"🤕",alias:"face_with_head_bandage"},{emoji:"🤢",alias:"nauseated_face"},{emoji:"🤧",alias:"sneezing_face"},{emoji:"😵",alias:"dizzy_face"},{emoji:"🤠",alias:"cowboy_hat_face"},{emoji:"😎",alias:"sunglasses"},{emoji:"🤓",alias:"nerd_face"},{emoji:"😕",alias:"confused"},{emoji:"😟",alias:"worried"},{emoji:"🙁",alias:"slightly_frowning_face"},{emoji:"😮",alias:"open_mouth"},{emoji:"😯",alias:"hushed"},{emoji:"😲",alias:"astonished"},{emoji:"😳",alias:"flushed"},{emoji:"😦",alias:"frowning"},{emoji:"😧",alias:"anguished"},{emoji:"😨",alias:"fearful"},{emoji:"😰",alias:"cold_sweat"},{emoji:"😥",alias:"disappointed_relieved"},{emoji:"😢",alias:"cry"},{emoji:"😭",alias:"sob"},{emoji:"😱",alias:"scream"},{emoji:"😖",alias:"confounded"},{emoji:"😣",alias:"persevere"},{emoji:"😞",alias:"disappointed"},{emoji:"😓",alias:"sweat"},{emoji:"😩",alias:"weary"},{emoji:"😫",alias:"tired_face"},{emoji:"😤",alias:"triumph"},{emoji:"😡",alias:"rage"},{emoji:"😠",alias:"angry"},{emoji:"😈",alias:"smiling_imp"},{emoji:"👿",alias:"imp"},{emoji:"💀",alias:"skull"},{emoji:"💩",alias:"hankey"},{emoji:"🤡",alias:"clown_face"},{emoji:"👹",alias:"japanese_ogre"},{emoji:"👺",alias:"japanese_goblin"},{emoji:"👻",alias:"ghost"},{emoji:"👽",alias:"alien"},{emoji:"👾",alias:"space_invader"},{emoji:"🤖",alias:"robot"},{emoji:"😺",alias:"smiley_cat"},{emoji:"😸",alias:"smile_cat"},{emoji:"😹",alias:"joy_cat"},{emoji:"😻",alias:"heart_eyes_cat"},{emoji:"😼",alias:"smirk_cat"},{emoji:"😽",alias:"kissing_cat"},{emoji:"🙀",alias:"scream_cat"},{emoji:"😿",alias:"crying_cat_face"},{emoji:"😾",alias:"pouting_cat"}],iconIndex:11}],S=(0,s.memo)((function(e){const[t,i]=(0,s.useState)(0),n=(0,s.useCallback)((e=>{(0,p.NS)(e);const t=e.target;if("li"===t.nodeName.toLocaleLowerCase()){const e=t.getAttribute("data-index");i(e?Number(e):0)}}),[]);return(0,o.jsxs)(y,{children:[(0,o.jsx)(f,Object.assign({onClick:n},{children:w.map((({name:e,data:i,iconIndex:n},a)=>(0,o.jsx)(k,Object.assign({"data-index":a,isActive:a===t},{children:i[n].emoji}),e)))}),void 0),(0,o.jsx)(_,Object.assign({"data-e2e":"comment-emoji-group"},{children:(0,o.jsx)(C,{emojis:w[t].data,onSelect:e.onSelect},w[t].name)}),void 0)]},void 0)}));var P=i(36668),T=i(10207),I=i(85795),D=i(66164),O=i(31191),R=i(6229),Z=i(16219),B=i(11359),M=i(37674),L=i(71519),z=i(2480),F=i(2355),E=i(31144),A=i(51166),$=i(52702),U=i(60194),V=i(86319),G=i(29866),W=i(71011),q=i(61080),H=i(17941),N=i(81104),Y=i(21296),Q=i(70336);let J=class{constructor(e){this.fetch=e}fetchAtDefaultList(){return this.fetch.get("/api/at/default/list/",{query:{cursor:0,count:25}})}fetchRecentContactList(){return this.fetch.get("/api/mention/recent/contact/list/",{query:{mention_type:3}})}fetchSearchList(e,t){return this.fetch.get("/api/comment/search/sug/user/",{query:{keyword:e,count:30,mention_type:3,uid_filter_list:t}})}};J=(0,O.__decorate)([(0,Y.G)(),(0,O.__metadata)("design:paramtypes",[Q.r])],J);let K=class extends R.D{constructor(e){super(),this.service=e,this.defaultState={keyword:"",loading:!1,isFetchError:!1,defaultResult:{list:[]},searchResult:{list:[],hasMore:!0,uidFilterList:""},activeList:[],activeItem:{index:null,isActivatedByMouse:!1},recentCount:0}}setKeyword(e,t){e.keyword=t}setLoading(e,t){e.loading=t}setFetchError(e,t){e.isFetchError=t,t&&(e.searchResult.hasMore=!1)}setActiveList(e,t){e.activeList=t}setActiveItem(e,t){const{index:i,isActivatedByMouse:o=!1}=t;e.activeItem.index=i,e.activeItem.isActivatedByMouse=o}activePrev(e){const{activeItem:t,activeList:i}=e,{index:o}=t;null!==o&&0!==i.length&&(e.activeItem.index=Math.max(0,o-1),e.activeItem.isActivatedByMouse=!1)}activeNext(e){const{activeItem:t,activeList:i}=e,{index:o}=t;if(null===o)return;const n=i.length;0!==n&&(e.activeItem.index=Math.min(o+1,n-1),e.activeItem.isActivatedByMouse=!1)}setDefaultList(e,t){e.defaultResult.list=t,e.activeList=t}setSearchResult(e,t){e.searchResult=t,0===t.list.length?e.activeList=e.defaultResult.list:e.activeList=t.list}setRecentCount(e,t){e.recentCount=t}fetchDefaultResult(e){return e.pipe((0,E.M)(this.state$),(0,A.z)((([e,t])=>t.defaultResult.list.length>0?(0,M.of)(this.getActions().setActiveItem({index:-1}),this.getActions().setKeyword(""),this.getActions().setActiveList(t.defaultResult.list)):(0,L.D)([this.service.fetchRecentContactList(),this.service.fetchAtDefaultList()]).pipe((0,$.z)((([e,t])=>{const{statusCode:i,userList:o=[]}=e,{status_code:n,user_list:a=[],block_results:r=[]}=t;if(0===i||0===n){const e=a.map((e=>(0,H.yk)(e))).map((e=>(r.some((t=>((e,t)=>{var i,o;if(e.uid===t.id)return t.blockResult=null===(o=null===(i=e.user_blocked_results)||void 0===i?void 0:i[0])||void 0===o?void 0:o.block_type,!0})(t,e))),e)));return(0,M.of)(this.getActions().setRecentCount(o.length),this.getActions().setDefaultList(function(e,t){let i=t;return e.forEach((e=>{i=i.filter((t=>e.id!==t.id))})),[...e,...i]}(o,e)))}return(0,M.of)(this.getActions().setFetchError(!0))})),(0,U.O)(this.getActions().setLoading(!0),this.getActions().setFetchError(!1),this.getActions().setActiveItem({index:null})),(0,V.l)(this.getActions().setLoading(!1),this.getActions().setActiveItem({index:-1}),this.getActions().setKeyword("")),(0,N.n)({})))))}fetchSearchResult(e){return e.pipe((0,E.M)(this.state$),(0,G.w)((([e,t])=>{const{keyword:i,searchResult:{uidFilterList:o,list:n,hasMore:a}}=t,r=e===i,l=r?o:"";return""===e||r&&!a?z.E:this.service.fetchSearchList(e,l).pipe((0,W.U)((e=>{const{statusCode:t,userList:i=[],hasMore:o}=e;if(0===t||403===t||203===t){const e=r?[...n,...i]:i,t=encodeURIComponent(JSON.stringify(e.map((e=>e.id))));return this.getActions().setSearchResult({list:e,hasMore:1===o,uidFilterList:t})}return this.getActions().setFetchError(!0)})),(0,U.O)(this.getActions().setLoading(!r),this.getActions().setFetchError(!1),this.getActions().setActiveItem({index:r?t.activeItem.index:null})),(0,V.l)(this.getActions().setLoading(!1),this.getActions().setKeyword(e),this.getActions().setActiveItem({index:r?t.activeItem.index:-1})),(0,q.K)((()=>(0,M.of)(this.getActions().setLoading(!1),this.getActions().setFetchError(!0)))))})))}};(0,O.__decorate)([(0,Z.lF)(),(0,O.__metadata)("design:type",Function),(0,O.__metadata)("design:paramtypes",[Object,String]),(0,O.__metadata)("design:returntype",void 0)],K.prototype,"setKeyword",null),(0,O.__decorate)([(0,Z.lF)(),(0,O.__metadata)("design:type",Function),(0,O.__metadata)("design:paramtypes",[Object,Boolean]),(0,O.__metadata)("design:returntype",void 0)],K.prototype,"setLoading",null),(0,O.__decorate)([(0,Z.lF)(),(0,O.__metadata)("design:type",Function),(0,O.__metadata)("design:paramtypes",[Object,Boolean]),(0,O.__metadata)("design:returntype",void 0)],K.prototype,"setFetchError",null),(0,O.__decorate)([(0,Z.lF)(),(0,O.__metadata)("design:type",Function),(0,O.__metadata)("design:paramtypes",[Object,Array]),(0,O.__metadata)("design:returntype",void 0)],K.prototype,"setActiveList",null),(0,O.__decorate)([(0,Z.lF)(),(0,O.__metadata)("design:type",Function),(0,O.__metadata)("design:paramtypes",[Object,Object]),(0,O.__metadata)("design:returntype",void 0)],K.prototype,"setActiveItem",null),(0,O.__decorate)([(0,Z.lF)(),(0,O.__metadata)("design:type",Function),(0,O.__metadata)("design:paramtypes",[Object]),(0,O.__metadata)("design:returntype",void 0)],K.prototype,"activePrev",null),(0,O.__decorate)([(0,Z.lF)(),(0,O.__metadata)("design:type",Function),(0,O.__metadata)("design:paramtypes",[Object]),(0,O.__metadata)("design:returntype",void 0)],K.prototype,"activeNext",null),(0,O.__decorate)([(0,Z.lF)(),(0,O.__metadata)("design:type",Function),(0,O.__metadata)("design:paramtypes",[Object,Array]),(0,O.__metadata)("design:returntype",void 0)],K.prototype,"setDefaultList",null),(0,O.__decorate)([(0,Z.lF)(),(0,O.__metadata)("design:type",Function),(0,O.__metadata)("design:paramtypes",[Object,Object]),(0,O.__metadata)("design:returntype",void 0)],K.prototype,"setSearchResult",null),(0,O.__decorate)([(0,Z.lF)(),(0,O.__metadata)("design:type",Function),(0,O.__metadata)("design:paramtypes",[Object,Number]),(0,O.__metadata)("design:returntype",void 0)],K.prototype,"setRecentCount",null),(0,O.__decorate)([(0,Z.Qm)(),(0,O.__metadata)("design:type",Function),(0,O.__metadata)("design:paramtypes",[F.y]),(0,O.__metadata)("design:returntype",void 0)],K.prototype,"fetchDefaultResult",null),(0,O.__decorate)([(0,Z.Qm)(),(0,O.__metadata)("design:type",Function),(0,O.__metadata)("design:paramtypes",[F.y]),(0,O.__metadata)("design:returntype",void 0)],K.prototype,"fetchSearchResult",null),K=(0,O.__decorate)([(0,B.Y)("MentionSuggestionUserModule"),(0,O.__metadata)("design:paramtypes",[J])],K);var X=i(39917),ee=i(18654);const te=(0,x.Z)("div",{target:"ewopnkv0"})((({theme:{colors:e}})=>({width:"100%",height:"100%",overflowX:"hidden",overflowY:"scroll",backgroundColor:e.BGPrimary,scrollbarWidth:"none","::-webkit-scrollbar":{width:0}})),"label:DivContainer;"),ie=(0,x.Z)("div",{target:"ewopnkv1"})({display:"flex",flexDirection:"column",alignItems:"center"},"label:DivNotItemContainer;"),oe=(0,x.Z)("p",{target:"ewopnkv2"})((({theme:e})=>(0,b.GI)({theme:e,color:"TextTertiary",typography:"H6"})),{flex:"1 1 auto",margin:"18px auto"},"label:PLoadingText;"),ne=(0,x.Z)("p",{target:"ewopnkv3"})((({theme:e})=>(0,b.GI)({theme:e,color:"TextTertiary",typography:"H5"})),{flex:"1 1 auto",marginTop:106},"label:PErrorText;"),ae=(0,x.Z)("p",{target:"ewopnkv4"})((({theme:e})=>(0,b.GI)({theme:e,color:"Primary",typography:"H6"})),{flex:"1 1 auto",margin:"11px auto",cursor:"pointer"},"label:PRetryText;"),re=(0,x.Z)("div",{target:"ewopnkv5"})((({theme:{colors:e},isDisabled:t})=>({height:"100%",padding:"4px 0",margin:"0 16px",display:"flex",cursor:t?"default":"pointer",borderBottom:`1px solid ${e.LineSecondary}`})),"label:DivItemContainer;"),le=(0,x.Z)("div",{target:"ewopnkv6"})((({theme:{colors:e},isActive:t,isDisabled:i})=>({height:48,backgroundColor:t?e.BGView:e.BGPrimary,opacity:i?.34:1})),"label:DivItemBackground;"),se=(0,x.Z)("div",{target:"ewopnkv7"})([{flex:"1 1 auto",overflow:"hidden"},({theme:{direction:e}})=>(0,b.YJ)({direction:e,marginStart:8})],"label:DivInfoContainer;"),de=(0,x.Z)("p",{target:"ewopnkv8"})([{display:"flex",alignItems:"center"}],"label:PMentionInfoLine;"),ce=(0,x.Z)("span",{target:"ewopnkv9"})((({theme:e})=>(0,b.GI)({theme:e,fontWeight:"semiBold",typography:"P3"})),b.wj,"label:SpanInfoNickname;"),ue=(0,x.Z)("span",{target:"ewopnkv10"})((({theme:e})=>(0,b.GI)({theme:e,fontWeight:"normal",typography:"P4"})),b.wj,"label:SpanInfoUniqueId;"),pe=(0,x.Z)("span",{target:"ewopnkv11"})({margin:"0px 4px"},"label:SpanInfoDot;"),he=(0,x.Z)("span",{target:"ewopnkv12"})({fontSize:"10px"},"label:SpanInfoVerify;"),me=(0,x.Z)("span",{target:"ewopnkv13"})((({theme:e})=>(0,b.GI)({theme:e,color:"TextTertiary",fontWeight:"semiBold",typography:"P4"})),{verticalAlign:"middle",flexShrink:0},"label:SpanInfoFollowing;"),ge=(0,s.memo)((function({isActive:e,index:t,user:i}){var n;const a=(0,u.Q)(),{$user:l}=null!==(n=(0,d.L)((()=>["$user"]),[]))&&void 0!==n?n:{},{nickname:c,uniqueId:p,verified:h,relation:m,avatarThumb:g,blockResult:v}=i,x=(0,s.useMemo)((()=>1===m||2===m),[m]),b=1===v||p===(null==l?void 0:l.uniqueId),{setActiveItem:y}=(0,r.qj)(K),f=(0,s.useCallback)((()=>{y({index:t,isActivatedByMouse:!0})}),[y,t]);return(0,o.jsx)(le,Object.assign({"data-e2e":"comment-at-list",isActive:e,isDisabled:b,onMouseEnter:f},{children:(0,o.jsxs)(re,Object.assign({isDisabled:b},{children:[(0,o.jsx)(ee.q,{size:40,src:g,style:{flex:"0 0 40px"}},void 0),(0,o.jsxs)(se,{children:[(0,o.jsxs)(de,{children:[(0,o.jsx)(ce,Object.assign({"data-e2e":"comment-at-nickname"},{children:c}),void 0),h&&(0,o.jsx)(he,{children:(0,o.jsx)(X.Q,{},void 0)},void 0),x&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(pe,{children:"·"},void 0),(0,o.jsx)(me,{children:a("Following")},void 0)]},void 0)]},void 0),(0,o.jsx)(de,{children:(0,o.jsx)(ue,Object.assign({"data-e2e":"comment-at-uniqueid"},{children:p}),void 0)},void 0)]},void 0)]}),void 0)}),void 0)}));var ve=i(49923);const xe=(0,s.memo)((function({keyword:e="",onSelect:t}){var i;const n=(0,u.Q)(),{colors:a}=(0,T.u)(),{$user:h}=null!==(i=(0,d.L)((()=>["$user"]),[]))&&void 0!==i?i:{},[{loading:m,isFetchError:g,activeList:v,activeItem:x,recentCount:b},{fetchDefaultResult:y,fetchSearchResult:f}]=(0,r.b7)(K),{index:_}=x,j=(0,s.useRef)(null),k=(0,s.useRef)([]),C=(0,l.fz)(c.y);(0,s.useEffect)((()=>{y()}),[y]),(0,s.useEffect)((()=>{""===e?y():f(e)}),[e,y,f]),(0,s.useEffect)((()=>{const{index:e,isActivatedByMouse:t}=x;t||function(e,t){if(null===t||-1===t||null===e.current)return;const i=48*t,o=48*(t+1),n=e.current.clientHeight,a=e.current.scrollTop;i<a?e.current.scrollTop=i:o>n+a&&(e.current.scrollTop=o-n)}(j,e)}),[x]);const w=(0,s.useCallback)((()=>""!==e&&f(e)),[f,e]);(0,I.s)({elemRef:j,onHitBottom:w,bottomThreshold:96});const S=(0,s.useCallback)((t=>{(0,p.NS)(t),""===e?y():f(e)}),[y,f,e]),P=(0,s.useCallback)((e=>{(0,p.NS)(e),null==t||t()}),[t]),O=(0,s.useCallback)((t=>{v.slice(t,t+5).forEach(((i,o)=>{if(k.current[t+o])return;const{blockResult:n,uniqueId:a,id:r,relation:l}=i,s=1===n||a===(null==h?void 0:h.uniqueId);let d="all_user";!e&&t+o<b?d="recent":1===l?d="following":2===l&&(d="friends"),C.handleMentionItemShow({to_user_id:r,user_type:d,search_keyword:e,is_valid:s?"0":"1"}),k.current[t+o]=!0}))}),[v,null==h?void 0:h.uniqueId,e,b,C]),R=(0,D.fB)((e=>{const{scrollTop:t}=e.target,i=Math.floor(t/48);O(i)}),[O],50);return(0,s.useEffect)((()=>{O(0)}),[O]),m?(0,o.jsx)(te,{children:(0,o.jsxs)(ie,{children:[(0,o.jsx)(ve.$,{size:26,fill:a.TextTertiary,style:{marginTop:80,flex:"1 1 auto"}},void 0),(0,o.jsx)(oe,{children:n("comment_at_search")},void 0)]},void 0)},void 0):g?(0,o.jsx)(te,{children:(0,o.jsxs)(ie,{children:[(0,o.jsx)(ne,{children:n("comment_at_load")},void 0),(0,o.jsx)(ae,Object.assign({onClick:S},{children:n("comment_at_tryagain")}),void 0)]},void 0)},void 0):(0,o.jsx)(te,Object.assign({ref:j,onClick:P,onScroll:R},{children:v.map(((e,t)=>(0,o.jsx)(ge,{user:e,index:t,isActive:_===t},e.id)))}),void 0)})),be=(0,x.Z)("div",{target:"e1npxakq0"})({display:"flex",flexDirection:"row",alignItems:"flex-end"},"label:DivCommentContainer;"),ye=(0,x.Z)("div",{target:"e1npxakq1"})({flex:"1 1 auto"},"label:DivLayoutContainer;"),fe=(0,x.Z)("div",{target:"e1npxakq2"})((({theme:{colors:e},isFocus:t})=>({position:"relative",display:"flex",flexDirection:"row",alignItems:"flex-end",backgroundColor:e.BGInput,boxSizing:"border-box",border:"1px solid",borderColor:t?e.LinePrimary:"transparent",borderRadius:8,padding:"0 9px"})),"label:DivInputAreaContainer;");fe.defaultProps=Object.assign(Object.assign({},fe.defaultProps),{"data-e2e":"comment-input"});const _e=(0,x.Z)("div",{target:"e1npxakq3"})({flex:"1 1 auto",height:"auto",margin:"10px 0"},(({theme:{direction:e}})=>(0,b.YJ)({direction:e,marginEnd:8})),"label:DivInputEditorContainer;");function je({theme:e,isActive:t=!1}){return[{flex:"0 0 32px",width:32,height:32,padding:5,margin:3,cursor:"pointer",backgroundColor:t?e.colors.ShadowPrimary:"transparent",borderRadius:8,":hover":{backgroundColor:e.colors.ShadowPrimary},svg:{width:"100%",height:"100%"}}]}_e.defaultProps=Object.assign(Object.assign({},_e.defaultProps),{"data-e2e":"comment-text"});const ke=(0,x.Z)("div",{target:"e1npxakq4"})(je,"label:DivMentionButton;");ke.defaultProps=Object.assign(Object.assign({},ke.defaultProps),{"data-e2e":"comment-at-icon"});const Ce=(0,x.Z)("div",{target:"e1npxakq5"})(je,"label:DivEmojiButton;");Ce.defaultProps=Object.assign(Object.assign({},Ce.defaultProps),{"data-e2e":"comment-emoji-icon"});const we=(0,x.Z)("div",{target:"e1npxakq6"})((({theme:e,isActive:t})=>[(0,b.GI)({theme:e,color:t?"Primary":"TextQuaternary",typography:"H6"}),{cursor:t?"pointer":"default",flex:"0 0 48px",lineHeight:"39px",textAlign:(0,b.$K)(e.direction,"end")},(0,b.YJ)({direction:e.direction,marginEnd:4})]),"label:DivPostButton;");we.defaultProps=Object.assign(Object.assign({},we.defaultProps),{"data-e2e":"comment-post"});const Se=(0,x.Z)("div",{target:"e1npxakq7"})((({display:e,theme:{colors:t,direction:i}})=>[{position:"absolute",width:280,height:256,top:-256,borderRadius:8,overflow:"hidden",backgroundColor:t.BGPrimary,boxShadow:`${t.ShadowPrimary} 0px 4px 16px 0px`,display:e?"block":"none"},(0,b.YJ)({direction:i,start:44})]),"label:DivMentionSuggestionContainer;"),Pe=(0,x.Z)("div",{target:"e1npxakq9"})((({theme:{colors:e,direction:t}})=>[{position:"absolute",width:368,height:300,top:-300,borderRadius:8,overflow:"hidden",backgroundColor:e.BGPrimary,boxShadow:`${e.ShadowPrimary} 0px 4px 16px 0px`,outline:0,zIndex:1},(0,b.YJ)({direction:t,end:12})]),"label:DivEmojiPanelContainer;"),Te=(0,s.memo)((function({itemId:e,disable:t,teaParams:i,onBlur:x=(()=>{}),onFocus:b=(()=>{})}){var y;const{$user:f}=null!==(y=(0,d.L)((()=>["$user"]),[]))&&void 0!==y?y:{},[{activeItem:_,activeList:j},{activePrev:k,activeNext:C}]=(0,r.b7)(K,{selector:({activeItem:e,activeList:t})=>({activeItem:e,activeList:t}),dependencies:[]}),{index:w}=_,[T,{publishComment:I,setNeedResetKeyword:D}]=(0,r.b7)(P.p,{selector:e=>e.isInputEmpty,dependencies:[]}),[O,R]=(0,s.useState)(null),[Z,B]=(0,s.useState)(!1),[M,L]=(0,s.useState)(!1),z=(0,s.useRef)(null),F=(0,l.fz)(c.y),E=(0,u.Q)(),A=(0,s.useCallback)((e=>{var t;(0,p.NS)(e),null===(t=z.current)||void 0===t||t.handleInsertMentionTrigger(),F.handleSearchAt(Object.assign({enter_method:"button"},i))}),[F,i]),$=(0,s.useCallback)((e=>{"@"===e&&F.handleSearchAt(Object.assign({enter_method:"input"},i))}),[F,i]),U=(0,s.useCallback)((()=>{var e;if(null===O||null===w)return;const t=j[w];t&&(1!==t.blockResult?t.uniqueId!==(null==f?void 0:f.uniqueId)?(null===(e=z.current)||void 0===e||e.handleSelectUser(t),F.handleSelectAt(Object.assign(Object.assign({},i),{to_user_id:t.id}))):m.h.open({content:E("no_at_me"),duration:3,widthType:"half"}):m.h.open({content:E("mention_privacy_toast_cant_mention"),duration:3,widthType:"half"}))}),[w,j,O,F,E,i,f]),V=(0,s.useCallback)((e=>{var t,o,n;null===(t=z.current)||void 0===t||t.handleSelectEmoji(e),B(!1),F.handleEmojiSelect(Object.assign({enter_method:"button",emoji_code:null===(n=e,o=[...n].map((e=>`${e.codePointAt(0)}`)))||void 0===o?void 0:o[0]},i))}),[F,i]),G=(0,s.useCallback)((e=>{var t;(0,p.NS)(e),B(!Z),R(null),null===(t=z.current)||void 0===t||t.focus()}),[Z]),W=(0,s.useCallback)((t=>()=>{var o,n;if(!T){const a=null!==(n=null===(o=z.current)||void 0===o?void 0:o.getTextInfo())&&void 0!==n?n:{inputText:"",textExtra:[]};I(Object.assign(Object.assign({awemeId:e},a),{teaParams:Object.assign({enter_method:t},i)}))}}),[T,e,I,i]),q=(0,s.useCallback)((()=>{L(!0),b()}),[b]),H=(0,s.useCallback)((()=>{L(!1),x(),F.handleCloseText({group_id:i.group_id})}),[x,F,i.group_id]),N=(0,s.useCallback)((()=>{F.handleEnterText({group_id:i.group_id})}),[F,i.group_id]),Y=(0,h.J)({upHandler:k,downHandler:C,confirmHandler:U});return(0,s.useEffect)((()=>{const e=()=>{Z&&B(!1),D(!0)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[Z,D]),(0,o.jsxs)(be,{children:[(0,o.jsx)(ye,{children:(0,o.jsxs)(fe,Object.assign({isFocus:M,onKeyDown:Y,onFocus:q,onBlur:H,onClick:N},{children:[(0,o.jsx)(_e,{children:(0,o.jsx)(v,{ref:z,disable:t,onKeywordChange:R,onPost:W("input"),onInputTrigger:$},void 0)},void 0),(0,o.jsx)(g.u,Object.assign({overlay:E("comment_tray_at")},{children:(0,o.jsx)(ke,Object.assign({onClick:A},{children:(0,o.jsx)(n.Z,{},void 0)}),void 0)}),void 0),(0,o.jsx)(g.u,Object.assign({overlay:E("comment_tray_emoji")},{children:(0,o.jsx)(Ce,Object.assign({isActive:Z,onClick:G},{children:(0,o.jsx)(a.Z,{},void 0)}),void 0)}),void 0),null!==O&&!Z&&(0,o.jsx)(Se,Object.assign({"data-e2e":"comment-at-user",display:j.length>0},{children:(0,o.jsx)(xe,{keyword:O,onSelect:U},void 0)}),void 0),Z&&(0,o.jsx)(Pe,Object.assign({"data-e2e":"comment-emoji-list"},{children:(0,o.jsx)(S,{onSelect:V},void 0)}),void 0)]}),void 0)},void 0),(0,o.jsx)(we,Object.assign({isActive:!T,onClick:W("button")},{children:E("comment_tray_btn")}),void 0)]},void 0)}))},36668:(e,t,i)=>{i.d(t,{p:()=>C});var o=i(31191),n=i(6229),a=i(16219),r=i(11359),l=i(53899),s=i(37674),d=i(2355),c=i(31144),u=i(51166),p=i(30526),h=i(52702),m=i(81104),g=i(80002),v=i(66163),x=i(55643),b=i(24658),y=i(21296),f=i(65723),_=i(70336);let j=class{constructor(e){this.fetch=e}publishRequest(e){return this.fetch.post("/api/comment/publish/",{query:e,baseUrlType:8,headers:{[f.eD]:this.fetch.csrfToken}})}};j=(0,o.__decorate)([(0,y.G)(),(0,o.__metadata)("design:paramtypes",[_.r])],j);const k={nickname:"",replyId:void 0,replyToReplyId:void 0,position:-1};let C=class extends n.D{constructor(e,t,i,o){super(),this.service=e,this.comment=t,this.report=i,this.t=o,this.defaultState={reply:Object.assign({},k),mentionUserList:[],isInputEmpty:!0,needClearInput:!1,needResetKeyword:!1}}setReply(e,t){e.reply=null===t?Object.assign({},k):t}setMentionUserList(e,t){e.mentionUserList=null===t?[]:t}setIsInputEmpty(e,t){e.isInputEmpty=t}setNeedClearInput(e,t){e.needClearInput=t}setNeedResetKeyword(e,t){e.needResetKeyword=t}publishComment(e){return e.pipe((0,c.M)(this.state$),(0,u.z)((([e,t])=>{const{awemeId:i,inputText:o,textExtra:n,teaParams:a}=e,{reply:{replyId:r,replyToReplyId:l,nickname:d,position:c}}=t,u={aweme_id:i,text:o,reply_id:r,reply_to_reply_id:l,text_extra:JSON.stringify(n)};return this.service.publishRequest(u).pipe((0,p.b)((({status_code:e,comment:t})=>{if(0===e){const e=Boolean(d)?"0"===l?"reply":"reply_to_reply":"original",i=d?this.t("comment_reply_success"):this.t("comment_post_success");x.h.destroy(),x.h.open({content:i,duration:3}),this.report.handlePostComment(Object.assign({comment_category:e,comment_id:t.cid},a))}else 22===e?(x.h.destroy(),x.h.open({content:this.t("comment_banned_toast"),duration:3})):e?(x.h.destroy(),x.h.open({content:this.t("comment_post_failed"),duration:3})):(x.h.destroy(),x.h.open({content:this.t("comment_nointernet_toast"),duration:3}))})),(0,h.z)((({status_code:e,comment:t})=>0===e?d?(0,s.of)(this.getActions().setNeedClearInput(!0),this.comment.getActions().handleReplySuccess({comment:t,position:c})):(0,s.of)(this.getActions().setNeedClearInput(!0),this.comment.getActions().handlePostSuccess(t)):(0,s.of)(this.noop()))),(0,m.n)({}))})))}};(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],C.prototype,"setReply",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],C.prototype,"setMentionUserList",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],C.prototype,"setIsInputEmpty",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],C.prototype,"setNeedClearInput",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],C.prototype,"setNeedResetKeyword",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[d.y]),(0,o.__metadata)("design:returntype",d.y)],C.prototype,"publishComment",null),C=(0,o.__decorate)([(0,r.Y)("CommentInputModule"),(0,o.__param)(3,(0,l.t)(g.s)),(0,o.__metadata)("design:paramtypes",[j,b.x,v.y,Function])],C)},51218:(e,t,i)=>{i.d(t,{S:()=>v});var o=i(74512),n=i(32735),a=i(22538),r=i(90938),l=i(473),s=i(40200),d=i(29984);const c=(0,s.Z)("div",{target:"ez476db0"})((({theme:{colors:e}})=>({position:"relative",width:310,height:218,boxSizing:"content-box",borderRadius:8,backgroundColor:e.BGPrimary,textAlign:"center"})),"label:DivLeaveModalContainer;"),u=(0,s.Z)("div",{target:"ez476db1"})((({theme:e})=>[(0,d.GI)({theme:e,color:"TextPrimary",typography:"H5"}),{position:"absolute",top:22,left:20,right:20}]),"label:DivTitle;"),p=(0,s.Z)("div",{target:"ez476db2"})((({theme:e})=>[(0,d.GI)({theme:e,color:"TextSecondary",typography:"H6"}),{position:"absolute",top:60,left:20,right:20}]),"label:DivSubTitle;"),h=(0,s.Z)("div",{target:"ez476db3"})({position:"absolute",top:118,left:20,right:20,height:100},"label:DivButtonContainer;"),m=(0,s.Z)("div",{target:"ez476db4"})((({theme:e})=>[(0,d.GI)({theme:e,color:"ConstTextInverse",typography:"H6"}),{height:48,lineHeight:"48px",borderRadius:2,backgroundColor:e.colors.Primary,cursor:"pointer"}]),"label:DivConfirmButton;"),g=(0,s.Z)("div",{target:"ez476db5"})((({theme:e})=>[(0,d.GI)({theme:e,color:"TextTertiary",typography:"H6"}),{height:48,lineHeight:"48px",cursor:"pointer",marginTop:2}]),"label:DivCancelButton;"),v=(0,n.memo)((function({needLeaveCheck:e,visible:t,onConfirmLeave:i,onCancelLeave:s}){const d=(0,r.Q)(),v=(0,a.k6)(),x=(0,n.useRef)(null),[b,y]=(0,n.useState)(!1),[f,_]=(0,n.useState)(!1),j=(0,n.useCallback)((()=>{y(!1),_(!0),i()}),[i]),k=(0,n.useCallback)((()=>{y(!1),x.current=null,s()}),[s]),C=(0,n.useCallback)((t=>!(!f&&e&&(y(!0),x.current=t,1))),[f,e]);return(0,n.useEffect)((()=>{const e=x.current;f&&e&&v.push(e)}),[f,v]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.NL,{when:e,message:C},void 0),(0,o.jsx)(l.u,Object.assign({visible:t||b,maskCloseable:!1},{children:(0,o.jsxs)(c,{children:[(0,o.jsx)(u,{children:d("comment_tray_exit_title")},void 0),(0,o.jsx)(p,{children:d("comment_tray_exit_des")},void 0),(0,o.jsxs)(h,{children:[(0,o.jsx)(m,Object.assign({onClick:j},{children:d("comment_tray_exit_leave")}),void 0),(0,o.jsx)(g,Object.assign({onClick:k},{children:d("comment_tray_exit_stay")}),void 0)]},void 0)]},void 0)}),void 0)]},void 0)}))},99663:(e,t,i)=>{i.d(t,{r:()=>u});var o=i(31191),n=i(6229),a=i(16219),r=i(11359),l=i(36782),s=i.n(l),d=i(9086),c=i.n(d);let u=class extends n.D{constructor(){super(...arguments),this.defaultState={}}setItem(e,t){e[t.cid]=t}setItemDiggState(e,t){e[t.cid]&&(e[t.cid].user_digged=t.digged)}setItemDiggCount(e,t){e[t.cid]&&(e[t.cid].digg_count=t.count)}removeItem(e,t){e[t]=void 0}multiSetCommentItem(e,t){t.forEach((t=>{e[t.cid]=s()({},e[t.cid],t)}))}multiRemoveCommentItem(e,t){return t.forEach((t=>{e[t]=void 0})),e}reduceOrIncreaseCommentCount(e,{cid:t,isReduce:i}){var o,n;if(!e[t])return;const a=Number(null!==(n=null===(o=e[t])||void 0===o?void 0:o.reply_comment_total)&&void 0!==n?n:0);e[t].reply_comment_total=i?a-1:a+1}getProcessedCommentItem(e,t={}){var i;const o=c()(e,"user","reply_comment");return o.user=null!==(i=e.user.unique_id)&&void 0!==i?i:"",!e.reply_comment||t.ignoreReply?[o]:[o,...e.reply_comment.reduce(((e,t)=>(this.getProcessedCommentItem(t).forEach((t=>{e.push(t)})),e)),[])]}};(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],u.prototype,"setItem",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],u.prototype,"setItemDiggState",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],u.prototype,"setItemDiggCount",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,String]),(0,o.__metadata)("design:returntype",void 0)],u.prototype,"removeItem",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Array]),(0,o.__metadata)("design:returntype",void 0)],u.prototype,"multiSetCommentItem",null),(0,o.__decorate)([(0,a.j)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Array]),(0,o.__metadata)("design:returntype",void 0)],u.prototype,"multiRemoveCommentItem",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],u.prototype,"reduceOrIncreaseCommentCount",null),u=(0,o.__decorate)([(0,r.Y)("CommentItem")],u)},87310:(e,t,i)=>{i.d(t,{$:()=>Ge});var o=i(74512),n=i(24246),a=i(32735),r=i(22538),l=i(17941),s=i(24658),d=i(90938),c=i(60083),u=i(80829),p=i(99663),h=i(32321),m=i(76427),g=i(24448),v=i(88916),x=i(54032),b=i(66163),y=i(99583),f=i(69847),_=i(86987),j=i(85969),k=i(44435),C=i(74751),w=i(34525),S=i(39917),P=i(55643),T=i(18654),I=i(36668),D=i(96909),O=i(31256),R=i(10207),Z=i(41967),B=i(59719),M=i(25491),L=i(473),z=i(84291),F=i(11809),E=i(63908),A=i(40200),$=i(29984);const U=(0,A.Z)("div",{target:"e1kno6bo0"})((({theme:e})=>(0,$.GI)({theme:e,typography:"P4",color:"TextTertiary"})),{width:"20px",display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer"},"label:DivLikeWrapper;"),V=(0,A.Z)(U,{target:"e1kno6bo1"})((({theme:e})=>(0,$.YJ)({direction:e.direction,marginStart:"24px"})),{width:"unset",height:"20px",display:"inline-flex",flexDirection:"row",alignItems:"center",cursor:"pointer",verticalAlign:"bottom"},"label:StyledLikeWrapper;"),G=(0,A.Z)("span",{target:"e1kno6bo2"})((({theme:e})=>(0,$.GI)({theme:e,typography:"P4"})),(({theme:e})=>(0,$.YJ)({direction:e.direction,marginStart:"4px"})),"label:SpanCount;");G.defaultProps=Object.assign(Object.assign({},G.defaultProps),{"data-e2e":"comment-like-count"});const W=(0,a.memo)((function(e){const{count:t,liked:i}=e,{colors:n}=(0,R.u)(),a=i?(0,o.jsx)(F.Z,{width:20,height:20,fill:n.Primary},void 0):(0,o.jsx)(E.Z,{width:20,height:20},void 0);return(0,o.jsxs)(U,Object.assign({onClick:e.onClick},{children:[(0,o.jsx)("div",Object.assign({"data-e2e":"comment-like-icon"},{children:a}),void 0),(0,o.jsx)(G,{children:(0,l.BT)(t)},void 0)]}),void 0)})),q=(0,a.memo)((function(e){const{count:t,liked:i}=e,{colors:n}=(0,R.u)(),a=i?(0,o.jsx)(F.Z,{width:20,height:20,fill:n.Primary},void 0):(0,o.jsx)(E.Z,{width:20,fill:n.ConstBGInverse,height:20},void 0);return(0,o.jsxs)(V,Object.assign({onClick:e.onClick},{children:[a,(0,o.jsx)(G,Object.assign({style:{color:n.ConstBGInverse,fontSize:"14px"}},{children:(0,l.BT)(t)}),void 0)]}),void 0)}));var H=i(39353);const N=(0,A.Z)("div",{target:"e1vq2jmc0"})((({theme:{direction:e}})=>[(0,$.YJ)({direction:e,marginStart:"18px",paddingEnd:"2px"}),{width:"24px",flex:"0 0 24px",paddingTop:"24px",display:"flex",flexDirection:"column",alignItems:"center"}]),"label:DivActionContainer;"),Y=(0,A.Z)("div",{target:"e1vq2jmc1"})({position:"relative",display:"none"},"label:DivMoreContainer;"),Q=(0,A.Z)(H.Z,{target:"e1vq2jmc2"})({width:"24px",height:"24px",cursor:"pointer",display:"block"},"label:StyledMoreIcon;");Q.defaultProps=Object.assign(Object.assign({},Q.defaultProps),{"data-e2e":"comment-more-icon"});const J=(0,A.Z)("div",{target:"e1vq2jmc3"})((({theme:e})=>(0,$.GI)({theme:e,typography:"P2",fontWeight:"bold",fontFamily:"Proxima"})),{padding:"8px 16px",minWidth:"200px"},"label:DivPopupContainer;"),K=(0,A.Z)("p",{target:"e1vq2jmc4"})((({theme:{colors:e}})=>({display:"flex",alignItems:"center",padding:"12px 0",whiteSpace:"nowrap",cursor:"pointer","&:not(:last-of-type)":{borderBottom:`1px solid ${e.LineSecondary}`},":hover":{color:e.Primary}})),"label:PActionItem;"),X=(0,A.Z)("span",{target:"e1vq2jmc5"})((({theme:{direction:e}})=>(0,$.YJ)({direction:e,marginStart:"12px"})),"label:SpanActionText;"),ee=(0,A.Z)("div",{target:"e1vq2jmc6"})((({theme:e})=>(0,$.GI)({theme:e,typography:"H4",fontFamily:"Sofia",fontWeight:"bold"})),{padding:"28px 24px",textAlign:"center"},"label:DivModalContentContainer;"),te=(0,A.Z)("div",{target:"e1vq2jmc7"})({display:"flex",flexDirection:"column"},"label:DivButtonContainer;"),ie=(0,A.Z)("button",{target:"e1vq2jmc8"})($.Ph,(({primary:e,theme:t})=>[(0,$.GI)({theme:t,typography:"H6",color:e?"TextPrimary":"TextTertiary",fontWeight:e?"semiBold":"normal"}),{height:"48px",lineHeight:"48px",cursor:"pointer",":first-of-type":{"::before":{content:'""',width:"100%",height:"1px",display:"block",background:t.colors.LineSecondary,transform:"scaleY(0,5)"},"::after":{content:'""',width:"100%",height:"1px",display:"block",background:t.colors.LineSecondary,transform:"scaleY(0,5)"}}}]),"label:ButtonAction;"),oe=function(e){const{itemId:t,cid:i,count:r,liked:l,onDelete:s,isShowReport:c,isShowDelete:u,inDetailPage:h=!1}=e,m=(0,d.Q)(),{direction:b}=(0,R.u)(),{active:y,handleMouseEnter:f,handleMouseLeave:_}=(0,Z.R)(),j=function({itemId:e,cid:t,onShow:i}){var o;const a=(0,n.mp)(v.G,{selector:e=>e.lang,dependencies:[]}),r=(0,n.mp)(x.A,{selector:t=>{var i,o;return null!==(o=null===(i=t[e])||void 0===i?void 0:i.author)&&void 0!==o?o:""},dependencies:[e]}),l=(0,n.mp)(p.r,{dependencies:[t],selector:e=>e[t]}),s=(0,n.mp)(g.z,{dependencies:[null==l?void 0:l.user],selector:e=>{var t,i;return null===(i=e.users[null!==(t=null==l?void 0:l.user)&&void 0!==t?t:""])||void 0===i?void 0:i.secUid}}),d=(0,n.mp)(x.A,{selector:t=>t[e],dependencies:[e]}),c=(0,n.mp)(g.z,{selector:e=>{var t;return e.users[null!==(t=null==d?void 0:d.author)&&void 0!==t?t:""]},dependencies:[null==d?void 0:d.author]}),{handleShowReport:u}=(0,z.Q)({onShow:i,reportTarget:{lang:a,report_type:"comment",comment_with_emoji:/\[(\w+)\]/g.test(null!==(o=null==l?void 0:l.text)&&void 0!==o?o:"")?1:0,object_id:t,owner_id:null!=s?s:"",object_owner_id:null!=s?s:"",video_owner_id:r,video_id:e,video_owner:c}});return u}({itemId:t,cid:i,onShow:B.NS}),[k,C]=(0,a.useState)(!1),w=(0,a.useCallback)((()=>{C(!0)}),[]),S=(0,a.useCallback)((()=>{s(),C(!1)}),[s]),P=(0,a.useCallback)((()=>{C(!1)}),[]),T="ltr"===b?"bottomRight":"bottomLeft";return(0,o.jsxs)(N,{children:[(0,o.jsxs)(Y,Object.assign({onMouseEnter:f,onMouseLeave:_},{children:[(0,o.jsx)("div",Object.assign({"data-e2e":"comment-more-icon"},{children:(0,o.jsx)(Q,{},void 0)}),void 0),(0,o.jsx)(M.G,Object.assign({active:y,placement:T,margin:-6},{children:(0,o.jsxs)(J,{children:[c&&(0,o.jsxs)(K,Object.assign({onClick:j,"data-e2e":"comment-report"},{children:[(0,o.jsx)(D.Z,{width:24,height:24},void 0),(0,o.jsx)(X,{children:m("Report")},void 0)]}),void 0),u&&(0,o.jsxs)(K,Object.assign({"data-e2e":"comment-delete",onClick:w},{children:[(0,o.jsx)(O.Z,{width:24,height:24},void 0),(0,o.jsx)(X,{children:m("comment_delete_btn")},void 0)]}),void 0)]},void 0)}),void 0)]}),void 0),h?null:(0,o.jsx)(W,{count:r,liked:l,onClick:e.onLike},void 0),u&&(0,o.jsx)(L.u,Object.assign({visible:k,closeStyle:0,maskCloseable:!1,keyboardCloseable:!1},{children:(0,o.jsxs)("div",Object.assign({"data-e2e":"comment-delete-modal",style:{width:310}},{children:[(0,o.jsx)(ee,{children:m("comment_delete_des")},void 0),(0,o.jsxs)(te,{children:[(0,o.jsx)(ie,Object.assign({"data-e2e":"comment-modal-delete",primary:!0,onClick:S},{children:m("comment_delete_confirm")}),void 0),(0,o.jsx)(ie,Object.assign({"data-e2e":"comment-modal-cancel",onClick:P},{children:m("comment_delete_cancel")}),void 0)]},void 0)]}),void 0)}),void 0)]},void 0)};var ne=i(75246),ae=i(34011);const re={boxShadow:"0 2px 12px rgb(0 0 0 / 12%)",padding:"8px 16px",margin:"-8px -16px 8px",borderRadius:"8px"},le={boxShadow:"none",padding:"0",margin:"0 0 16px"},se=(0,ne.F4)({"0%":le,"10%":re,"90%":re,"100%":le}),de=(0,A.Z)("div",{target:"ejs0ekz0"})({display:"flex",flexDirection:"row",alignItems:"flex-start",marginBottom:"16px",position:"relative",":hover":{[`${Y}`]:{display:"block"},[`${N}`]:{paddingTop:"0"}}},(({highlighted:e})=>e?{animationName:se,animationDuration:"3s"}:null),"label:DivCommentContentContainer;"),ce=(0,A.Z)("div",{target:"ejs0ekz1"})({flex:"1 1 auto"},"label:DivContentContainer;"),ue=(0,A.Z)("span",{target:"ejs0ekz2"})((({theme:{colors:e},isCreator:t})=>({fontSize:"16px",color:t?e.Primary:e.TextTertiary})),"label:SpanIdentity;"),pe=(0,A.Z)("span",{target:"ejs0ekz3"})("label:SpanUserNameText;"),he=(0,A.Z)(ae.D,{target:"ejs0ekz4"})((({theme:e})=>(0,$.GI)({theme:e,typography:"P1",fontFamily:"Sofia",fontWeight:"bold"})),$.gi,{[`:hover ${pe}`]:{textDecoration:"underline"}},"label:StyledUserLinkName;"),me=(0,A.Z)(ae.D,{target:"ejs0ekz5"})((({theme:{direction:e}})=>[{":hover":{[`~ ${ce} ${he} ${pe}`]:{textDecoration:"underline"}}},(0,$.YJ)({direction:e,marginEnd:"12px"})]),"label:StyledUserLinkAvatar;"),ge=(0,A.Z)("p",{target:"ejs0ekz6"})((({theme:e})=>(0,$.GI)({theme:e,typography:"P2"})),{whiteSpace:"pre-line",wordBreak:"break-word",marginBottom:"6px"},"label:PCommentText;"),ve=(0,A.Z)("p",{target:"ejs0ekz8"})((({theme:e})=>(0,$.GI)({theme:e,typography:"P3",color:"TextTertiary"})),"label:PCommentSubContent;"),xe=(0,A.Z)("span",{target:"ejs0ekz9"})((({inDetailPage:e=!1,theme:{colors:t}})=>({cursor:"pointer",color:e?t.ConstBGInverse:t.TextTertiary})),(({theme:e,inDetailPage:t=!1})=>(0,$.GI)({theme:e,fontWeight:t?"semiBold":"normal"})),(({theme:{direction:e}})=>(0,$.YJ)({direction:e,marginStart:24})),"label:SpanReplyButton;"),be=(0,A.Z)(ae.D,{target:"ejs0ekz10"})((({theme:{colors:e}})=>({display:"inline-block",direction:"ltr",color:e.Primary,cursor:"pointer",":hover":{color:e.Primary},"&:-webkit-any-link":{color:e.Primary}})),"label:StyledUserLinkContent;");var ye=i(65768);const fe=(0,A.Z)(ge,{target:"ey4gjgi0"})((({theme:e})=>(0,$.GI)({theme:e,typography:"P3"})),"label:StyledPCommentTextForSwiper;"),_e=(0,a.memo)((e=>{const{isInVideoFeedRedesign:t}=(0,ye.y7)(),i=t?fe:ge;return(0,o.jsx)(i,Object.assign({},e),void 0)})),je=(0,a.memo)((function({commentItem:e,e2eTag:t,onLinkClick:i}){const{text:n,text_extra:r}=e,l=((0,d.Q)(),(0,a.useMemo)((()=>function(e,t){if(!t||0===t.length)return[{type:0,text:e}];const i=[];let o=0;return t.forEach((({start:t,end:n,sec_uid:a,user_id:r})=>{o!==t&&i.push({type:0,text:e.substring(o,t)}),i.push({type:1,text:e.substring(t,n),uid:r,secUid:a}),o=n})),i.push({type:0,text:e.substring(o,e.length)}),i}(n,r)),[n,r]));return(0,o.jsxs)(_e,Object.assign({"data-e2e":t},{children:["",l.map((({text:e,type:t,uid:n,secUid:a},r)=>0===t?(0,o.jsx)("span",{children:e},r):1===t?(0,o.jsx)(be,Object.assign({uniqueId:null!=a?a:"",secUid:a,isInBrowserMode:!0,onLinkClick:i,teaParams:{to_user_id:null!=n?n:"",enter_method:"comment"}},{children:e}),r):null))]}),void 0)})),ke={1:40,2:24},Ce={1:"creator",2:"following_acc",8:"friends_acc"},we={1:"comment-creator",2:"comment-following",8:"comment-friends"},Se=(0,a.memo)((function({parentCid:e,item:t,level:i,disableReply:l,index:d,subIndex:u,teaParams:D,onLinkClick:O,inDetailPage:R=!1}){var Z;const{t:B,timeTranslator:M}=(0,m.e)(),L=(0,n.mp)(p.r,{selector:e=>e[t.cid],dependencies:[t.cid]}),z=(0,n.mp)(g.z,{selector:e=>{var t;return e.users[null!==(t=null==L?void 0:L.user)&&void 0!==t?t:""]},dependencies:[null==L?void 0:L.user]}),{loginUserId:F,loginUserUid:E}=(0,n.mp)(v.G,{selector:e=>{var t,i,o,n;return{loginUserId:null===(i=null===(t=e.appContext)||void 0===t?void 0:t.$user)||void 0===i?void 0:i.uniqueId,loginUserUid:null===(n=null===(o=e.appContext)||void 0===o?void 0:o.$user)||void 0===n?void 0:n.uid}},dependencies:[]}),{videoAuthorId:A,teaAuthorId:$,videoAuthorSecId:U}=(0,n.mp)(x.A,{selector:e=>{var t,i,o,n,a,r,l;return{videoAuthorId:null===(i=e[null!==(t=null==L?void 0:L.aweme_id)&&void 0!==t?t:""])||void 0===i?void 0:i.author,teaAuthorId:null!==(a=null===(n=e[null!==(o=null==L?void 0:L.aweme_id)&&void 0!==o?o:""])||void 0===n?void 0:n.authorId)&&void 0!==a?a:"",videoAuthorSecId:null===(l=e[null!==(r=null==L?void 0:L.aweme_id)&&void 0!==r?r:""])||void 0===l?void 0:l.authorSecId}},dependencies:[]}),V=(0,n.qj)(s.x),G=(0,h.fz)(b.y),{setReply:W}=(0,n.qj)(I.p),{showing:H,handleCardEnter:N,handleCardLeave:Y,handleItemEnter:Q,handleItemLeave:J}=(0,y.V)(),K=(0,a.useMemo)((()=>ke[i]),[i]),X=(0,a.useCallback)((()=>{if(!L)return;const{aweme_id:e,cid:t}=L;V.handleCommentLike({itemId:e,cid:t,teaAuthorId:$})}),[V,L,$]),ee=(0,f.X)({action:X,modalConfig:{query:{enter_method:"click_like_comment"}}}),{$region:te=""}=null!==(Z=(0,_.L)((()=>["$region"]),[]))&&void 0!==Z?Z:{},ie=(0,a.useCallback)((()=>{if(!L)return;const{aweme_id:t,cid:i}=L;V.handleCommentDelete({itemId:t,cid:i,parentCid:e,index:d,subIndex:u})}),[V,L,d,u,e]),ne=(0,a.useCallback)((()=>{const{nickname:e=""}=null!=z?z:{},{cid:t="",reply_id:o=""}=null!=L?L:{};W({nickname:e,replyId:1===i?t:o,replyToReplyId:1===i?"0":t,position:d})}),[z,L,W,i,d]),ae=(0,f.X)({action:ne,modalConfig:{query:{enter_method:"click_reply_comment"}}}),re=(0,a.useCallback)((e=>{const t=j.S.includes(te);if(!E||!t||!L)return;const{cid:i,aweme_id:o,text:n}=L;e.stopPropagation();const a=(0,k.fH)({uniqueId:null!=A?A:"",secUid:null!=U?U:"",videoId:o}),r=(0,C.n)(i);if(!r)return;const l=`${window.location.host}${a}?cid=${r}`,s=document.createElement("input");s.style.fontSize="16px",document.body.appendChild(s),s.value=l,s.select(),s.setSelectionRange(0,l.length),document.execCommand&&document.execCommand("copy"),s.remove(),P.h.open({content:B("WebApp_comment_copyurl_id"),duration:1,style:{width:"560px"}}),G.handleCopyCommentUrl({copy:i,comment:n,group_id:o,user_id:E})}),[te,E,A,U,L,G,B]),le=(0,a.useMemo)((()=>{var e;return Object.assign(Object.assign({},D),{to_user_id:null!==(e=null==z?void 0:z.id)&&void 0!==e?e:"",enter_method:"comment"})}),[null==z?void 0:z.id,D]),{state:se}=(0,r.TH)(),ge=(null==se?void 0:se.cid)===t.cid;if(!L||!z)return(0,c.G)(["commentItem","user"]);const{avatarThumb:be,nickname:ye,verified:fe,uniqueId:_e,secUid:Se}=z,{label_type:Pe,create_time:Te,aweme_id:Ie,cid:De,digg_count:Oe,user_digged:Re}=L,Ze=M(1e3*Number(Te)),Be=Boolean(F)&&A===F,Me=Boolean(F)&&_e===F,Le=!Me,ze=Be||Me;return(0,o.jsxs)(de,Object.assign({id:t.cid,highlighted:ge},{children:[(0,o.jsx)(me,Object.assign({style:{flex:`0 0 ${K}px`},uniqueId:_e,secUid:Se,onMouseEnter:Q,onMouseLeave:J,isInBrowserMode:!0,teaParams:le,"data-e2e":`comment-avatar-${i}`,onLinkClick:O},{children:(0,o.jsx)(T.q,{size:K,src:be},void 0)}),void 0),(0,o.jsxs)(ce,{children:[(0,o.jsxs)(he,Object.assign({uniqueId:_e,secUid:Se,onMouseEnter:Q,onMouseLeave:J,isInBrowserMode:!0,teaParams:le,onLinkClick:O},{children:[(0,o.jsxs)(pe,Object.assign({"data-e2e":`comment-username-${i}`},{children:[ye," ",fe&&(0,o.jsx)(S.Q,{"data-e2e":`comment-bluev-${i}`},void 0)]}),void 0),!!Pe&&Boolean(Ce[Pe])&&(0,o.jsxs)(o.Fragment,{children:["·"," ",(0,o.jsx)(ue,Object.assign({isCreator:1===Pe,"data-e2e":`${we[Pe]}-${i}`},{children:B(Ce[Pe])}),void 0)]},void 0)]}),void 0),(0,o.jsx)(je,{onLinkClick:O,commentItem:L,e2eTag:`comment-level-${i}`},void 0),(0,o.jsxs)(ve,{children:[(0,o.jsx)("span",Object.assign({"data-e2e":`comment-time-${i}`,onClick:re},{children:Ze}),void 0),R?(0,o.jsx)(q,{count:Oe,liked:Boolean(Re),onClick:ee},void 0):null,!l&&(0,o.jsx)(xe,Object.assign({inDetailPage:R,onClick:ae,"data-e2e":`comment-reply-${i}`},{children:B("comment_reply_btn")}),void 0)]},void 0)]},void 0),(0,o.jsx)(oe,{itemId:Ie,cid:De,inDetailPage:R,count:Oe,liked:Boolean(Re),onLike:ee,onDelete:ie,isShowDelete:ze,isShowReport:Le},void 0),H&&(0,o.jsx)(w.C,{uniqueId:_e,onMouseEnter:N,onMouseLeave:Y},void 0)]}),void 0)}));var Pe=i(1127);const Te=(0,A.Z)("div",{target:"e192jtdb0"})({marginBottom:"16px"},"label:DivCommentItemContainer;"),Ie=(0,A.Z)("div",{target:"e192jtdb1"})((({theme:{direction:e}})=>(0,$.YJ)({direction:e,paddingStart:52})),"label:DivReplyContainer;"),De=(0,A.Z)("div",{target:"e192jtdb2"})({display:"flex",flexDirection:"row",justifyContent:"space-between",position:"relative"},(({isUnfold:e,hasMore:t,theme:{direction:i,colors:o}})=>e?[t?(0,$.YJ)({direction:i,paddingStart:"52px"}):null,{"::before":Object.assign({content:'""',position:"absolute",top:"50%",width:"36px",height:"1px",background:o.LineSecondary,transform:"scaleY(0.5)"},(0,$.YJ)({direction:i,start:"0"}))}]:null),"label:DivReplyActionContainer;"),Oe=(0,A.Z)(Pe.Z,{target:"e192jtdb3"})((({reversed:e,theme:{direction:t}})=>[(0,$.YJ)({direction:t,marginStart:"6px"}),{width:"14px",height:"14px",verticalAlign:"middle",transform:e?"rotate(180deg)":"none"}]),"label:StyledChevronDownFill;"),Re=(0,A.Z)("p",{target:"e192jtdb4"})((({theme:e})=>(0,$.GI)({theme:e,color:"TextTertiary",typography:"P3",fontWeight:"semiBold"})),{cursor:"pointer",":hover":{textDecoration:"underline"}},"label:PReplyActionText;"),Ze=(0,a.memo)((function({item:e,disableReply:t,index:i,onHideReply:r,teaParams:l,onLinkClick:h,inDetailPage:m=!1}){var g,v;const x=(0,d.Q)(),b=(0,n.qj)(s.x),y=(0,n.mp)(p.r,{selector:t=>t[e.cid],dependencies:[e.cid]}),f=(0,a.useCallback)((()=>{y&&b.handleShowMoreReply({itemId:y.aweme_id,cid:y.cid})}),[b,y]),_=(0,a.useRef)(null),j=(0,a.useCallback)((()=>{var e,t;y&&(null==r||r(null!==(t=null===(e=_.current)||void 0===e?void 0:e.scrollHeight)&&void 0!==t?t:0),b.handleCollapseReply({itemId:y.aweme_id,cid:y.cid}))}),[b,y,r]),k=(0,a.useMemo)((()=>{var t,i,n,a,r,l;if(!y)return null;if(null===(t=e.replyCache)||void 0===t?void 0:t.loading)return(0,o.jsx)(De,{children:(0,o.jsx)(u.g,{center:!0,size:"small"},void 0)},void 0);const s=null!==(n=null===(i=e.reply_comment)||void 0===i?void 0:i.length)&&void 0!==n?n:0,d=Number(null!==(a=y.reply_comment_total)&&void 0!==a?a:0)-s;if(!d)return null;if(!e.replyCache||!(null===(r=e.reply_comment)||void 0===r?void 0:r.length))return(0,o.jsx)(De,{children:(0,o.jsxs)(Re,Object.assign({onClick:f,"data-e2e":"view-more-1"},{children:[x("view_more_replies",{num:d}),(0,o.jsx)(Oe,{},void 0)]}),void 0)},void 0);const c=e.replyCache.hasMore||e.replyCache.comments.length>e.reply_comment.length;return Number(null===(l=e.reply_comment)||void 0===l?void 0:l.length)>0?(0,o.jsxs)(De,Object.assign({isUnfold:!0,hasMore:c},{children:[(0,o.jsx)(Re,Object.assign({onClick:f,"data-e2e":"view-more-2"},{children:Boolean(c)&&(0,o.jsxs)(o.Fragment,{children:[x("view_more_comm"),(0,o.jsx)(Oe,{},void 0)]},void 0)}),void 0),(0,o.jsxs)(Re,Object.assign({onClick:j,"data-e2e":"comment-hide"},{children:[x("hide"),(0,o.jsx)(Oe,{reversed:!0},void 0)]}),void 0)]}),void 0):null}),[j,f,y,e.replyCache,null===(g=e.reply_comment)||void 0===g?void 0:g.length,x]);return y?(0,o.jsxs)(Te,{children:[(0,o.jsx)(Se,{inDetailPage:m,item:e,disableReply:t,index:i,level:1,teaParams:l,onLinkClick:h},void 0),Boolean(y.reply_comment_total)&&(0,o.jsxs)(Ie,Object.assign({ref:_},{children:[null===(v=e.reply_comment)||void 0===v?void 0:v.map(((n,a)=>(0,o.jsx)(Se,{parentCid:e.cid,item:n,disableReply:t,index:i,subIndex:a,level:2,teaParams:l,onLinkClick:h,inDetailPage:m},n.cid))),k]}),void 0)]},void 0):(0,c.G)(["item"])})),Be=(0,ne.F4)({"0%":{backgroundPositionX:"200%"},"100%":{backgroundPositionX:"-150%"}}),Me=(0,A.Z)("div",{target:"ev8k0ma0"})({width:"100%",marginTop:"16px",display:"flex",flexDirection:"column"},"label:DivCommentItemSkeletonContainer;"),Le=(0,A.Z)("div",{target:"ev8k0ma1"})({width:"100%",marginBottom:"24px",display:"flex",alignItems:"flex-start"},"label:DivCommentItemSkeleton;"),ze=(0,A.Z)("div",{target:"ev8k0ma2"})((({theme:e})=>({width:"40px",height:"40px",borderRadius:"100px",backgroundColor:e.colors.BGPlaceholderDefault,flexShrink:0,backgroundImage:"linear-gradient(90deg, rgba(22, 24, 35, 0) 0%, rgba(22, 24, 35, .04) 50%, rgba(22, 24, 35, 0) 100%)",backgroundSize:"200% 100%",backgroundRepeat:"no-repeat",animation:`${Be} cubic-bezier(0, 0, 1, 1) 1.5s infinite`})),"label:DivCommentItemSkeletonAvatar;"),Fe=(0,A.Z)("div",{target:"ev8k0ma3"})({width:"100%",display:"flex",flexDirection:"column"},(({theme:{direction:e}})=>(0,$.YJ)({direction:e,marginStart:"20px"})),"label:DivCommentItemSkeletonInfo;"),Ee=(0,A.Z)("div",{target:"ev8k0ma4"})((({width:e="100%",height:t="24px",marginTop:i="0px",theme:o})=>({width:e,height:t,marginTop:i,backgroundColor:o.colors.BGPlaceholderDefault,backgroundImage:"linear-gradient(90deg, rgba(22, 24, 35, 0) 0%, rgba(22, 24, 35, .04) 50%, rgba(22, 24, 35, 0) 100%)",backgroundSize:"200% 100%",backgroundRepeat:"no-repeat",animation:`${Be} cubic-bezier(0, 0, 1, 1) 1.5s infinite`})),"label:DivCommentItemSkeletonLine;"),Ae=(0,a.memo)((function({num:e=3}){const t=[];for(let i=0;i<e;i++)t.push(i);return(0,o.jsx)(Me,{children:t.map((e=>(0,o.jsxs)(Le,{children:[(0,o.jsx)(ze,{},void 0),(0,o.jsxs)(Fe,{children:[(0,o.jsx)(Ee,{width:"160px"},void 0),(0,o.jsx)(Ee,{height:"20px",marginTop:"4px"},void 0),(0,o.jsx)(Ee,{height:"12px",marginTop:"8px",width:"96px"},void 0)]},void 0)]},e)))},void 0)})),$e=(0,A.Z)("div",{target:"e1y4uan10"})((({theme:e,empty:t=!1,inDetailPage:i=!1})=>({paddingTop:t?"":"16px",width:"100%",padding:i?"none":t?"0 32px":"24px 32px",boxSizing:"border-box",backgroundColor:i?"":e.colors.BGCreation3,borderTop:i||t?"none":"1px solid rgba(18, 18, 18, 0.12)",borderBottom:i?"none":"1px solid rgba(18, 18, 18, 0.12)",overflowY:"auto",overflowX:"hidden",flexGrow:1})),"label:DivCommentListContainer;"),Ue=(0,A.Z)($e,{target:"e1obyxpx0"})({borderTop:"none",padding:"16px",margin:0,background:"#f8f8f8",border:"none"},"label:StyledDivCommentListContainerForSwiper;"),Ve=(0,a.memo)((0,a.forwardRef)(((e,t)=>{const{isInVideoFeedRedesign:i}=(0,ye.y7)(),n=i?Ue:$e;return(0,o.jsx)(n,Object.assign({},e,{ref:t}),void 0)}))),Ge=(0,a.memo)((0,a.forwardRef)((function({itemId:e,disableReply:t,teaParams:i,onLinkClick:d,inDetailPage:c=!1},u){var p,h;const[m,g]=(0,n.b7)(s.x),v=(0,r.TH)();(0,a.useEffect)((()=>{const{browserMode:t,vid:i,cid:o}=(0,l.m7)(v.state),n=i===e&&t?o:void 0;e!==m.awemeId&&e&&g.switchVideo({currId:e,insertCid:n})}),[g,m.awemeId,e,v.state]);const x=(0,a.useMemo)((()=>{var e;if(!m||!(null===(e=m.comments)||void 0===e?void 0:e.length)&&m.loading)return(0,o.jsx)(Ae,{num:9},void 0);const n=[];return m.comments.forEach(((e,a)=>{var r;const l=(0,o.jsx)(Ze,{item:e,disableReply:t,index:a,teaParams:i,onLinkClick:d,inDetailPage:c},e.cid);(null===(r=v.state)||void 0===r?void 0:r.cid)===e.cid?n.unshift(l):n.push(l)})),(0,o.jsxs)(o.Fragment,{children:[n,m.loading&&(0,o.jsx)(Ae,{num:1},void 0)]},void 0)}),[t,d,m,i,null===(p=v.state)||void 0===p?void 0:p.cid,c]);return(0,o.jsx)(Ve,Object.assign({inDetailPage:c,ref:u,empty:0===(null===(h=null==m?void 0:m.comments)||void 0===h?void 0:h.length)},{children:x}),void 0)})))},24658:(e,t,i)=>{i.d(t,{x:()=>M});var o=i(31191),n=i(6229),a=i(16219),r=i(11359),l=i(53899),s=i(10268),d=i.n(s),c=i(37674),u=i(2480),p=i(2355),h=i(52702),m=i(31144),g=i(71011),v=i(30526),x=i(51166),b=i(60194),y=i(86319),f=i(20370),_=i(60083),j=i(81104),k=i(17941),C=i(80002),w=i(66163),S=i(54032),P=i(24448),T=i(88916),I=i(55643),D=i(99663),O=i(21296),R=i(65723),Z=i(70336);let B=class{constructor(e){this.fetch=e}getCommentList(e){return this.fetch.get("/api/comment/list/",{query:Object.assign(Object.assign({},e),{count:20,aid:1988,app_language:"ja-JP",device_platform:"web_pc",current_region:"JP",fromWeb:1}),baseUrlType:2})}getCommentReply(e){return this.fetch.get("/api/comment/list/reply/",{query:Object.assign(Object.assign({},e),{count:3,aid:1988,app_language:"ja-JP",device_platform:"web_pc",current_region:"JP",fromWeb:1}),baseUrlType:2})}postCommentLike(e){return this.fetch.post("/api/comment/digg/",{query:Object.assign(Object.assign({},e),{aid:1988,channel_id:0}),headers:{[R.eD]:this.fetch.csrfToken},baseUrlType:2})}postCommentDelete(e){return this.fetch.post("/api/comment/delete/",{query:e,baseUrlType:2,headers:{[R.eD]:this.fetch.csrfToken}})}};B=(0,o.__decorate)([(0,O.G)(),(0,o.__metadata)("design:paramtypes",[Z.r])],B);let M=class extends n.D{constructor(e,t,i,o,n,a,r){super(),this.report=e,this.service=t,this.commentItem=i,this.item=o,this.user=n,this.t=a,this.home=r,this.defaultState={awemeId:void 0,cursor:"0",comments:[],hasMore:!0,loading:!0}}setCommentItem(e,t){return t?e=Object.assign(Object.assign({},e),t):e}setReplyLoading(e,t){var i,o,n;const a=e.comments.find((({cid:e})=>e===t.cid));if(!a)return e;a.replyCache?a.replyCache.loading=t.loading:a.replyCache={comments:null!==(i=a.reply_comment)&&void 0!==i?i:[],cursor:null!==(n=null===(o=a.reply_comment)||void 0===o?void 0:o.length)&&void 0!==n?n:"0",hasMore:!0,loading:t.loading}}setReplyComment(e,t){const i=this.getCommentItem(e,t.cid);if(!i)return e;i.reply_comment=t.comments}setReplyCommentCache(e,t){const i=this.getCommentItem(e,t.cid);if(!i)return e;i.replyCache?(i.replyCache.comments=t.comments,i.replyCache.hasMore=t.hasMore,i.replyCache.cursor=t.cursor):i.replyCache={comments:t.comments,cursor:t.cursor,hasMore:t.hasMore,loading:!1}}deleteCommentFromList(e,t){var i,o;const{index:n,subIndex:a}=t;void 0===a?e.comments.splice(n,1):(null===(i=e.comments[n].reply_comment)||void 0===i||i.splice(a,1),null===(o=e.comments[n].replyCache)||void 0===o||o.comments.splice(a,1))}addCommentToFirst(e,t){e.comments.unshift({cid:t.cid,reply_comment:[],replyCache:null})}addReplyToFirst(e,{comment:t,position:i}){var o,n;const a=e.comments[i];a&&(a.reply_comment=null!==(o=a.reply_comment)&&void 0!==o?o:[],a.reply_comment.unshift({cid:t.cid,reply_comment:null,replyCache:null}),null===(n=a.replyCache)||void 0===n||n.comments.unshift({cid:t.cid,reply_comment:null,replyCache:null}))}handlePostSuccess(e){return e.pipe((0,h.z)((e=>{const{users:t,commentItems:i}=this.processCommentList([e]);return(0,c.of)(this.getActions().addCommentToFirst(e),this.user.getActions().multiSetUser(t),this.commentItem.getActions().multiSetCommentItem(i),this.item.getActions().reduceOrIncreaseCommentCount({id:e.aweme_id,isReduce:!1}))})))}handleReplySuccess(e){return e.pipe((0,h.z)((({comment:e,position:t})=>{const{users:i,commentItems:o}=this.processCommentList([e],{ignoreReply:!0});return(0,c.of)(this.getActions().addReplyToFirst({comment:e,position:t}),this.user.getActions().multiSetUser(i),this.commentItem.getActions().multiSetCommentItem(o),this.commentItem.getActions().reduceOrIncreaseCommentCount({cid:e.reply_id}),this.item.getActions().reduceOrIncreaseCommentCount({id:e.aweme_id,isReduce:!1}))})))}fetchComment(e){return e.pipe((0,m.M)(this.state$,this.home.state$),(0,g.U)((([e,t])=>({query:e,item:t}))),(0,v.b)((({item:e})=>{})),(0,x.z)((({query:{aweme_id:e,insert_ids:t},item:i})=>{var o;if(!(null==i?void 0:i.hasMore))return u.E;const n=null!==(o=null==i?void 0:i.cursor)&&void 0!==o?o:"0";return this.service.getCommentList({insert_ids:"0"===n?t:void 0,aweme_id:e,cursor:n}).pipe((0,v.b)((e=>{(0,_.k)(e.status_code,[0])})),(0,h.z)((t=>{var o,n;if(0===t.status_code&&(null===(o=t.comments)||void 0===o?void 0:o.length)){const{users:o,comments:a,commentItems:r}=this.processCommentList(t.comments),l=null!==(n=null==i?void 0:i.comments)&&void 0!==n?n:[],s=d()(l.concat(a),"cid"),u=[this.user.getActions().multiSetUser(o),this.commentItem.getActions().multiSetCommentItem(r),this.getActions().setCommentItem({comments:s,hasMore:Boolean(t.has_more),cursor:t.cursor,loading:!1})];return t.total&&u.push(this.item.getActions().setCommentCount({id:e,commentCount:Number(t.total)})),(0,c.of)(...u)}return(0,c.of)(this.noop())})),(0,b.O)(this.getActions().setCommentItem({awemeId:e,loading:!0})),(0,y.l)(this.getActions().setCommentItem({loading:!1}),this.terminate()),(0,j.n)({shouldShowMsg:!1}),(0,f.R)(this.dispose$))})))}fetchCommentReply(e){return e.pipe((0,m.M)(this.state$),(0,g.U)(this.mapCommentItemFromQuery.bind(this)),(0,v.b)((([e,t])=>{t||console.warn("No item here in fetch commoent reply")})),(0,h.z)((([e,t])=>{var i,o;return t?this.service.getCommentReply({comment_id:e.cid,item_id:e.itemId,cursor:null!==(o=null===(i=t.replyCache)||void 0===i?void 0:i.cursor)&&void 0!==o?o:"0"}).pipe((0,v.b)((e=>{(0,_.k)(e.status_code,[0])})),(0,h.z)((i=>{var o;if(0===i.status_code){const{users:n,comments:a,commentItems:r}=this.processCommentList(i.comments),l=null!==(o=null==t?void 0:t.reply_comment)&&void 0!==o?o:[],s=d()(l.concat(a),"cid");return(0,c.of)(this.user.getActions().multiSetUser(n),this.commentItem.getActions().multiSetCommentItem(r),this.getActions().setReplyComment(Object.assign({comments:[...s]},e)),this.getActions().setReplyCommentCache(Object.assign({comments:[...s],hasMore:Boolean(i.has_more),cursor:i.cursor},e)))}return(0,c.of)(this.noop())})),(0,b.O)(this.getActions().setReplyLoading(Object.assign(Object.assign({},e),{loading:!0}))),(0,y.l)(this.getActions().setReplyLoading(Object.assign(Object.assign({},e),{loading:!1}))),(0,j.n)({})):u.E})))}handleCollapseReply(e){return e.pipe((0,m.M)(this.state$),(0,v.b)((([e,t])=>{this.getCommentItem(t,e.cid)||console.warn("item is null")})),(0,g.U)((([e,t])=>this.getCommentItem(t,e.cid)?this.getActions().setReplyComment(Object.assign(Object.assign({},e),{comments:[]})):this.noop())))}handleShowMoreReply(e){return e.pipe((0,m.M)(this.state$),(0,g.U)(this.mapCommentItemFromQuery.bind(this)),(0,v.b)((([{cid:e,itemId:t}])=>{this.report.handleShowMoreReply({parent_comment_id:e,group_id:t})})),(0,v.b)((([e,t])=>{t||console.warn("item is null")})),(0,g.U)((([e,t])=>{if(!t)return this.noop();if(!t.reply_comment||!t.replyCache)return this.getActions().fetchCommentReply(e);const i=t.reply_comment.length,o=t.replyCache.comments.length;if(i<o){const n=i+3>o?o:i+3;return this.getActions().setReplyComment(Object.assign(Object.assign({},e),{comments:t.replyCache.comments.slice(0,n)}))}return this.getActions().fetchCommentReply(e)})))}handleCommentLike(e){return e.pipe((0,m.M)(this.commentItem.state$,this.user.state$),(0,g.U)((([e,t,i])=>{var o;const n=t[e.cid];return{query:e,commentItem:n,user:i.users[null!==(o=null==n?void 0:n.user)&&void 0!==o?o:""]}})),(0,v.b)((({commentItem:e})=>{e||console.warn("No comment item here in hendle comment like")})),(0,x.z)((({query:e,commentItem:t,user:i})=>{if(!t)return u.E;const o=t.user_digged?2:1;return this.service.postCommentLike({aweme_id:e.itemId,cid:e.cid,digg_type:o}).pipe((0,v.b)((t=>{var n;0===(null==t?void 0:t.status_code)?this.report.handleCommentLike({isLike:1===o,comment_id:e.cid,group_id:e.itemId,comment_user_id:null!==(n=null==i?void 0:i.id)&&void 0!==n?n:"",author_id:e.teaAuthorId}):3002043===(null==t?void 0:t.status_code)?(I.h.destroy(),I.h.open({content:this.t(2===o?"comment_turnoff_unlike":"comment_turnoff_like"),duration:3})):(null==t?void 0:t.status_code)?(I.h.destroy(),I.h.open({content:this.t("Sorry, something wrong with the server, please try again."),duration:3,widthType:"half"})):(I.h.destroy(),I.h.open({content:this.t("comment_nointernet_toast"),duration:3,widthType:"half"}))})),(0,h.z)((i=>{if(0===i.status_code){let i,n;return 1===o?(i=1,n=t.digg_count+1):(i=0,n=Math.max(t.digg_count-1,0)),(0,c.of)(this.commentItem.getActions().setItemDiggState({cid:e.cid,digged:i}),this.commentItem.getActions().setItemDiggCount({cid:e.cid,count:n}))}return 3002043===i.status_code?(0,c.of)(this.item.getActions().updateItem({id:e.itemId,itemCommentStatus:3})):u.E})),(0,j.n)({}))})))}handleCommentDelete(e){return e.pipe((0,h.z)((e=>{const{itemId:t,cid:i,parentCid:o,subIndex:n}=e;return this.service.postCommentDelete({cid:i}).pipe((0,v.b)((({status_code:e})=>{0===e?I.h.open({content:this.t("comment_delete_success"),duration:3,widthType:"half"}):I.h.open({content:this.t("comment_delete_failed"),duration:3,widthType:"half"})})),(0,h.z)((a=>{if(0===a.status_code){const a=[this.getActions().deleteCommentFromList(e),this.commentItem.getActions().removeItem(i),this.item.getActions().reduceOrIncreaseCommentCount({id:t,isReduce:!0})];return void 0!==n&&o&&a.push(this.commentItem.getActions().reduceOrIncreaseCommentCount({cid:o,isReduce:!0})),(0,c.of)(...a)}return(0,c.of)(this.noop())})),(0,j.n)({}))})))}switchVideo(e){return e.pipe((0,h.z)((({currId:e,insertCid:t})=>(0,c.of)(this.getActions().dispose$(),this.getActions().setCommentItem({awemeId:e,cursor:"0",hasMore:!0,loading:!1,comments:[]}),this.getActions().fetchComment({insert_ids:t,aweme_id:e})))))}mapCommentItemFromQuery([e,t]){return[e,this.getCommentItem(t,e.cid)]}getCommentItem(e,t){return e.comments.find((({cid:e})=>e===t))}processCommentList(e=[],t={}){return e.reduce(((e,i)=>{const{user:o,reply_comment:n}=i;return e.users.push((0,k.yk)(o)),(null!=n?n:[]).forEach((({user:t})=>{e.users.push((0,k.yk)(t))})),e.comments.push(this.processComment(i,t)),this.commentItem.getProcessedCommentItem(i,t).forEach((t=>{e.commentItems.push(t)})),e}),{users:[],comments:[],commentItems:[]})}processComment(e,t={}){var i;return{cid:e.cid,reply_comment:null===(i=e.reply_comment)||void 0===i?void 0:i.map((e=>this.processComment(e,t))),replyCache:null}}};(0,o.__decorate)([(0,a.cQ)(),(0,o.__metadata)("design:type",p.y)],M.prototype,"dispose$",void 0),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"setCommentItem",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"setReplyLoading",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"setReplyComment",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"setReplyCommentCache",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"deleteCommentFromList",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"addCommentToFirst",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"addReplyToFirst",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"handlePostSuccess",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"handleReplySuccess",null),(0,o.__decorate)([(0,a.Qm)({payloadGetter:1,skipFirstClientDispatch:!0}),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"fetchComment",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"fetchCommentReply",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"handleCollapseReply",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"handleShowMoreReply",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"handleCommentLike",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"handleCommentDelete",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"switchVideo",null),M=(0,o.__decorate)([(0,r.Y)("Comment"),(0,o.__param)(5,(0,l.t)(C.s)),(0,o.__metadata)("design:paramtypes",[w.y,B,D.r,S.A,P.z,Function,T.G])],M)},84957:(e,t,i)=>{i.d(t,{q5:()=>T,Ui:()=>I,_0:()=>D,om:()=>O,zX:()=>R,AS:()=>Z});var o=i(74512),n=i(65525),a=i(24246),r=i(32321),l=i(45750),s=i.n(l),d=i(32735),c=i(22538),u=i(99915),p=i(52970),h=i(14400),m=i(39189),g=i(86303),v=i(66163),x=i(85795),b=i(14584),y=i(86987),f=i(90883),_=i(62904),j=i(54348),k=i(36668),C=i(24658),w=i(15490),S=i(26274);const P=e=>{null==e||e.preventDefault(),null==e||e.stopPropagation()};function T({onCloseBrowserMode:e,onNextVideo:t,onPrevVideo:i,pause:o,setPause:n,embedVisibleRef:l,group_id:s,handleLikeClick:x,author_id:b,itemListKey:y,onJumpSamePage:f,shouldPause:_}){const[C,w]=(0,d.useState)(!1),[S,T]=(0,d.useState)(0),[{isInputEmpty:I,noReplyUser:D},{setNeedClearInput:O}]=(0,a.b7)(k.p,{selector:({isInputEmpty:e,reply:t})=>({isInputEmpty:e,noReplyUser:0===t.nickname.length}),dependencies:[]}),R=(0,r.fz)(u.B),{mute:Z,setMute:B}=(0,p.s_)(2),M=(0,d.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),B(!Z,"keydown")}),[Z,B]),{enhanceVideoConsumptionVersion:L="v1"}=(0,h.m)(),z=["v2","v3"].includes(L),F=(0,a.mp)(m.bg,{selector:({showing:e})=>e,dependencies:[]}),E=(0,a.mp)(g.r,{selector:e=>e.isOpen,dependencies:[]}),A=(0,d.useRef)(null),$=(0,d.useCallback)((()=>{var e,t,i,a;o?null===(t=null===(e=A.current)||void 0===e?void 0:e.play)||void 0===t||t.call(e):null===(a=null===(i=A.current)||void 0===i?void 0:i.pause)||void 0===a||a.call(i),n(!o)}),[o,n]),{pathname:U}=(0,c.TH)(),V=(0,c.k6)(),G=(0,d.useCallback)((t=>{var i;P(t),I&&D?e({playProgress:null===(i=A.current)||void 0===i?void 0:i.currentTime,shouldPause:_}):(T(1),w(!0))}),[I,D,_,e]),W=(0,d.useRef)(""),q=(0,d.useCallback)(((e,t)=>{if(t.includes(U)&&U!==j.Ad.home)return G(e),void f();I&&D||(P(e),T(4),w(!0),W.current=t)}),[G,I,D,U,f]),H=(0,d.useCallback)(((e,i="click")=>{if(e&&P(e),I&&D){t(),n(!1);const e={direction:"next",enter_method:i,play_mode:2,group_id:s,author_id:b,skipped_group_num:0,skipped_group_ids:""};R.handleVideoChange(e),"foryou"===y&&R.handleHotVideoChange(e)}else T(3),w(!0)}),[I,D,t,n,R,s,b,y]),N=(0,d.useCallback)(((e,t="click")=>{if(e&&P(e),I&&D){i(),n(!1);const e={direction:"prev",enter_method:t,play_mode:2,group_id:s,author_id:b,skipped_group_num:0,skipped_group_ids:""};R.handleVideoChange(e),"foryou"===y&&R.handleHotVideoChange(e)}else T(2),w(!0)}),[I,D,i,n,R,s,b,y]),Y=(0,d.useCallback)((e=>{if(27!==e.keyCode&&["input","textarea"].includes(e.target.tagName.toLocaleLowerCase())||"true"===e.target.getAttribute("contenteditable")||E)return;const t=new Map([[27,()=>{F||l.current||G(e)}],[40,()=>{z&&H(e,"keydown")}],[32,()=>{$()}],[39,()=>{z||H(e,"keydown")}],[38,()=>{z&&N(e,"keydown")}],[37,()=>{z||N(e,"keydown")}],[76,()=>{"v3"===L&&x("keydown")}],[77,()=>{"v3"===L&&M(e)}]]),i=e.keyCode;t.has(i)&&(e.preventDefault(),t.get(i)())}),[l,G,x,H,N,M,E,F,z,$,L]),Q=(0,r.fz)(v.y),J=(0,d.useCallback)((()=>{var o;switch(S){case 1:e({playProgress:null===(o=A.current)||void 0===o?void 0:o.currentTime,shouldPause:_});break;case 2:i(),n(!1);break;case 3:t(),n(!1);break;case 4:W.current&&V.push(W.current)}w(!1),O(!0),Q.handleLeaveComment({group_id:s})}),[Q,S,s,V,_,e,t,i,O,n]),K=(0,d.useCallback)((()=>{T(0),w(!1),Q.handleKeepComment({group_id:s})}),[Q,s]);return(0,d.useEffect)((()=>(document.addEventListener("keydown",Y),()=>{document.removeEventListener("keydown",Y)})),[Y]),{handleLinkClick:q,handleClose:G,handleNext:H,handlePrev:N,preventDefault:P,togglePlay:$,videoPlayerRef:A,showLeaveModal:C,isInputEmpty:I,handleConfirmLeave:J,handleCancelLeave:K}}function I({id:e,needDispose:t=!0}){const i=(0,a.qj)(C.x),o=(0,d.useRef)(null),n=(0,d.useCallback)((()=>{i.fetchComment({aweme_id:e})}),[i,e]);return(0,d.useEffect)((()=>()=>{t&&(i.dispose$(),i.setCommentItem({awemeId:""}))}),[i,t]),(0,x.s)({elemRef:o,onHitBottom:n,bottomThreshold:200,throttle:200}),o}function D({showLeaveModal:e,group_id:t}){const i=(0,r.fz)(v.y);(0,d.useEffect)((()=>{e&&i.handleClose({group_id:t})}),[t,i,e]),(0,d.useEffect)((()=>()=>{i.handleClose({group_id:t})}),[t,i])}const O=({currentIndex:e,handlePrev:t,hasNext:i,handleNext:a,itemListKey:r})=>{const{isEnhanceVideoConsumptionV1:l,enhanceVideoConsumptionVersion:c}=(0,h.m)(),u=(0,d.useCallback)(s()((e=>{var i,o,n;r&&(null===(n=null===(o=null===(i=null==e?void 0:e.srcElement)||void 0===i?void 0:i.classList)||void 0===o?void 0:o.value)||void 0===n?void 0:n.includes("BasicVideo"))&&(e.deltaY>=1?a(e,"scroll"):e.deltaY<=-1&&t(e,"scroll"))}),100),[a,t]);return(0,d.useEffect)((()=>("v3"===c&&window.addEventListener("wheel",u),()=>{"v3"===c&&window.removeEventListener("wheel",u)}))),l?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(S.o1,Object.assign({disabled:0===e,isPrev:!0,onClick:t,"data-e2e":"arrow-left"},{children:(0,o.jsx)(n.Z,{width:26,height:26,fill:"#fff"},void 0)}),void 0),(0,o.jsx)(S.o1,Object.assign({disabled:!i,isPrev:!1,onClick:a,"data-e2e":"arrow-right"},{children:(0,o.jsx)(n.Z,{width:26,height:26,fill:"#fff"},void 0)}),void 0)]},void 0):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(S.He,Object.assign({disabled:0===e,isPrev:!0,onClick:t,isUpAndDown:!l,"data-e2e":"arrow-left"},{children:(0,o.jsx)(n.Z,{width:26,height:26,fill:"#fff"},void 0)}),void 0),(0,o.jsx)(S.He,Object.assign({disabled:!i,isPrev:!1,onClick:a,isUpAndDown:!l,"data-e2e":"arrow-right"},{children:(0,o.jsx)(n.Z,{width:26,height:26,fill:"#fff"},void 0)}),void 0)]},void 0)},R=e=>{var t,i;let o=!0;const n=(0,b.p)(null==e?void 0:e.author),{$user:a={}}=null!==(t=(0,y.L)((()=>["$user"]),[]))&&void 0!==t?t:{},[l,s]=(0,d.useState)(!1),c=(0,r.fz)(f._),u=(0,d.useCallback)((e=>{e.stopPropagation(),c.handleClickAnalyticsButton(),s(!0)}),[c]),p=(0,d.useCallback)((()=>{s(!1)}),[]);a||(o=!1);const{secUid:h,analyticsOn:m}=null!=a?a:{};return h===(null!==(i=null==n?void 0:n.secUid)&&void 0!==i?i:"")&&m||(o=!1),{showAnalyticsButton:o,showAnalyticsModal:l,handleOpenAnalyticsModal:u,handleCloseAnalyticsModal:p}};function Z(e,t){const{listLength:i,statusCode:o}=(0,a.mp)(_.h,{selector:t=>{var i,o,n;return{listLength:null!==(o=null===(i=t[e])||void 0===i?void 0:i.list.length)&&void 0!==o?o:0,statusCode:null===(n=t[e])||void 0===n?void 0:n.statusCode}},dependencies:[]}),n=(0,a.mp)(w.O,{selector:e=>e.currentIndex,dependencies:[]});(0,d.useEffect)((()=>{0===o&&(!i||i-n<=3)&&t()}),[n,t,i,o])}},26274:(e,t,i)=>{i.d(t,{b7:()=>f,sL:()=>z,oH:()=>$,lI:()=>_,TK:()=>Z,E9:()=>h,lk:()=>O,Is:()=>m,qq:()=>g,uc:()=>v,vN:()=>y,Vz:()=>x,Eb:()=>b,Q9:()=>B,ik:()=>E,L7:()=>j,oT:()=>F,zo:()=>A,o$:()=>R,Sf:()=>w,hy:()=>D,ps:()=>S,o1:()=>P,He:()=>T,Y1:()=>M,Sd:()=>k});var o,n,a=i(958),r=i(40200),l=i(32735);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},s.apply(this,arguments)}const d=function(e){return l.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 48 48",width:"1em",height:"1em"},e),o||(o=l.createElement("g",{fillRule:"evenodd",clipPath:"url(#logo-icon_svg__a)",clipRule:"evenodd"},l.createElement("path",{fill:"#000",d:"M0 36c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12V12c0-6.628-5.373-12-12-12H12C5.373 0 0 5.372 0 12v24z"}),l.createElement("path",{fill:"#25F4EE",d:"M30.636 6.288A9.23 9.23 0 0130.35 4h-6.97v26.133c0 3.014-2.056 5.457-5.062 5.457-3.006 0-5.443-2.443-5.443-5.456 0-3.014 2.437-5.457 5.443-5.457.6 0 .797.098 1.337.278v-7.051c-.562-.079-.754-.12-1.337-.12C11.515 17.785 6 23.315 6 30.135c0 6.82 5.515 12.349 12.318 12.349 6.708 0 12.357-5.375 12.51-12.062V17.049c2.528 1.733 5.395 2.746 8.689 2.746V13.19c-4.275 0-7.866-2.933-8.88-6.902z"}),l.createElement("path",{fill:"#fff",d:"M33.12 8.77a9.23 9.23 0 01-.287-2.288h-6.971v26.134c0 3.014-2.055 5.456-5.061 5.456s-5.443-2.442-5.443-5.456a5.45 5.45 0 015.443-5.456c.6 0 .797.097 1.337.277v-7.05c-.562-.08-.754-.12-1.337-.12-6.803 0-12.318 5.529-12.318 12.349S13.998 44.965 20.8 44.965c6.707 0 12.357-5.374 12.51-12.062V19.531c2.528 1.733 5.395 2.747 8.689 2.747v-6.606c-4.275 0-7.866-2.933-8.88-6.901z"}),l.createElement("path",{fill:"#FE2C55",d:"M15.92 35.033a5.446 5.446 0 01-.562-2.416c0-3.014 2.437-5.457 5.443-5.457.523 0 .739.074 1.143.212l.194.066v-7.051l-.21-.03c-.411-.059-.623-.09-1.127-.09-.386 0-.769.018-1.146.053v4.635l-.194-.066c-.404-.138-.62-.212-1.143-.212-3.006 0-5.443 2.443-5.443 5.457a5.46 5.46 0 003.045 4.9zm-4.972 4.997a12.29 12.29 0 009.853 4.935c6.707 0 12.357-5.374 12.51-12.061V19.532c2.528 1.733 5.395 2.746 8.689 2.746v-6.605a9.2 9.2 0 01-2.483-.341v4.463c-3.294 0-6.161-1.013-8.69-2.746v13.372c-.152 6.688-5.802 12.062-12.509 12.062-2.763 0-5.314-.912-7.37-2.453zm23.455-28.401a9.206 9.206 0 01-3.715-5.146h2.145a9.155 9.155 0 001.57 5.146z"}))),n||(n=l.createElement("defs",null,l.createElement("clipPath",{id:"logo-icon_svg__a"},l.createElement("rect",{width:48,height:48,fill:"#fff",rx:10.5})))))};var c=i(29984),u=i(99975),p=i(44144);const h=(0,r.Z)("div",{target:"e1oyh2e0"})((({theme:{colors:e}})=>({position:"fixed",left:0,top:0,right:0,bottom:0,background:e.BGPrimary,zIndex:1e3,display:"flex",flexDirection:"row"})),"label:DivBrowserModeContainer;"),m=(0,r.Z)("div",{target:"e1oyh2e1"})((({theme:e})=>[(0,c.GI)({theme:e,typography:"P2",color:"TextSecondary"}),{flex:"1 1 0px",display:"flex",alignItems:"center",justifyContent:"center"}]),"label:DivErrorMessage;"),g=(0,r.Z)("div",{target:"e1oyh2e2"})((({theme:e})=>({width:"100%",height:"100%",left:"0",top:"0",backdropFilter:"blur(50px)",backgroundColor:e.colors.SDSecondary,position:"absolute",zIndex:2})),"label:DivMask;"),v=(0,r.Z)("div",{target:"e1oyh2e3"})({position:"absolute",top:"50%",transform:"translate(0, -50%)",width:"100%"},"label:DivMaskContainer;"),x=(0,r.Z)("div",{target:"e1oyh2e4"})((({theme:e})=>({width:"106px",height:"106px",padding:"33px",margin:"0 auto 0",borderRadius:"50%",backgroundColor:e.colors.LineSecondary,color:e.colors.Positive})),"label:DivMaskIcon;"),b=(0,r.Z)("div",{target:"e1oyh2e5"})((({theme:e})=>({maxWidth:"419px",margin:"24px auto 0",fontSize:"24px",lineHeight:"32px",textAlign:"center",color:e.colors.BGPrimary})),"label:DivMaskTitle;"),y=(0,r.Z)("div",{target:"e1oyh2e6"})((({theme:e})=>({maxWidth:"419px",margin:"16px auto 0",fontSize:"18px",lineHeight:"24px",textAlign:"center",color:e.colors.BGPrimary})),"label:DivMaskDetail;"),f=(0,r.Z)("button",{target:"e1oyh2e7"})((({theme:e})=>({maxWidth:"419px",height:"56px",cursor:"pointer",margin:"224px auto 0",borderRadius:"2px",backgroundColor:e.colors.ConstBGContainer,color:e.colors.BGPrimary,padding:"16px",fontSize:"18px",lineHeight:"24px",textAlign:"center",border:"none",display:"block"})),"label:ButtonMask;"),_=(0,r.Z)("div",{target:"e1oyh2e8"})({position:"absolute",width:"10%",height:"10%",filter:"blur(2px)",left:"50%",top:"50%",transform:"scale(11)",opacity:"0.3",background:"center no-repeat",backgroundSize:"cover"},"label:DivBlurBackground;"),j=(0,r.Z)("div",{target:"e1oyh2e9"})({position:"relative",width:"100%",height:"100%",cursor:"pointer",":hover":{[`${u.ov}`]:{opacity:1}}},"label:DivVideoWrapper;"),k=(0,r.Z)("svg",{target:"e1oyh2e10"})({position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none"},"label:SvgPlayIcon;");k.defaultProps=Object.assign(Object.assign({},k.defaultProps),{"data-e2e":"browse-video-play"});const C=(0,r.Z)("button",{target:"e1oyh2e11"})((({theme:{colors:e}})=>({position:"absolute",zIndex:1,display:"flex",justifyContent:"center",alignItems:"center",width:"40px",height:"40px",background:e.ConstLineInverse,borderRadius:"50%",cursor:"pointer",border:"none",outline:"none",fontsize:0})),"label:ButtonBasicButtonContainer;"),w=(0,r.Z)(C,{target:"e1oyh2e12"})((({theme:e})=>({top:"20px",transition:"opacity .3s",backgroundColor:e.colors.ConstBGContainer,":hover":{opacity:.7},":active":{opacity:.5}})),(({theme:{direction:e}})=>(0,c.YJ)({direction:e,start:"20px"})),"label:StyledCloseIconContainer;");w.defaultProps=Object.assign(Object.assign({},w.defaultProps),{"data-e2e":"browse-close"});const S=(0,r.Z)(d,{target:"e1oyh2e13"})({position:"absolute",zIndex:1,top:"20px",borderRadius:"100px"},(({theme:{direction:e}})=>(0,c.YJ)({direction:e,start:"84px"})),"label:StyledLogo;");S.defaultProps=Object.assign(Object.assign({},S.defaultProps),{"data-e2e":"browse-logo"});const P=(0,r.Z)(C,{target:"e1oyh2e14"})((({isPrev:e,theme:{direction:t,colors:i}})=>{const o=e?"start":"end",n=(0,c.$K)(t,o);return{[n]:"20px",transform:"left"===n?"rotate(180deg)":void 0,top:"50%",marginTop:"-24px",":disabled":{display:"none"},background:i.ConstBGContainer,":hover":{opacity:.7},":active":{opacity:.5}}}),"label:StyledVideoSwitch;"),T=(0,r.Z)(C,{target:"e1oyh2e15"})((({isPrev:e,theme:{colors:t}})=>({transform:e?"rotate(-90deg)":"rotate(90deg)",top:e?"calc(50% - 48px)":"calc(50% + 8px)",marginTop:"-24px",":disabled":{display:"none"},background:t.ConstBGContainer,":hover":{opacity:.7},":active":{opacity:.5}})),(({theme:{direction:e}})=>(0,c.YJ)({direction:e,end:"20px"})),"label:StyledVideoSwitchV2;"),I=(0,r.Z)("div",{target:"e1oyh2e16"})({flex:"0 0 544px",width:"544px",display:"flex",flexDirection:"column",padding:"32px 0 0"},"label:DivContentContainer;"),D=(0,r.Z)(I,{target:"e1oyh2e17"})((({isOpen:e=!1,isRTL:t=!1})=>({flex:"unset",width:"360px",height:"100%",padding:"0",transform:`translateX(${e?0:t?-100:100}%)`,transition:"transform 200ms cubic-bezier(.65, 0, .35, 1)"})),"label:StyledDivContentContainerSwiper;"),O=(0,r.Z)("div",{target:"e1oyh2e18"})((({theme:e})=>[(0,c.GI)({theme:e,typography:"P1",fontWeight:"semiBold",fontFamily:"Proxima"}),{color:e.colors.TextPrimary,height:"64px",background:e.colors.BGPlaceholderOpaque,boxSizing:"border-box",padding:"16px 16px 24px",borderRadius:"4px"}]),"label:DivCommentTitle;"),R=(0,r.Z)(a.Z,{target:"e1oyh2e19"})((({theme:{direction:e}})=>[(0,c.YJ)({direction:e,end:"24px"}),{position:"absolute",top:"20px",cursor:"pointer"}]),"label:StyledCloseBtn;"),Z=(0,r.Z)("div",{target:"e1oyh2e21"})((({theme:{colors:e}})=>({flex:"0 0 auto",backgroundColor:e.BGPrimary,margin:"0 16px",padding:"16px 0"})),"label:DivBottomCommentContainer;"),B=(0,r.Z)("div",{target:"e1oyh2e22"})((({theme:e})=>[(0,c.GI)({theme:e,typography:"P3",fontWeight:"semiBold",color:"ConstTextInverse4",fontFamily:"Sofia"}),{padding:"10px 16px",backgroundColor:e.colors.ConstBGContainer,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100px",position:"absolute",top:"20px",cursor:"pointer",color:e.colors.ConstTextInverse,":hover":{opacity:.7},":active":{opacity:.5}},(0,c.YJ)({direction:e.direction,end:"20px"})]),"label:DivReportText;");B.defaultProps=Object.assign(Object.assign({},B.defaultProps),{"data-e2e":"browse-report"});const M=(0,r.Z)("svg",{target:"e1oyh2e23"})((({theme:{direction:e}})=>(0,c.YJ)({direction:e,marginEnd:"5px"})),{verticalAlign:"middle"},"label:SvgIconFlag;");M.defaultProps={fill:"currentColor",width:"1em",height:"1em"};const L=(0,r.Z)("button",{target:"e1oyh2e24"})(c.Ph,(({theme:e,widerBottom:t=!1})=>({position:"absolute",bottom:t?"60px":"20px",transition:"opacity 0.3s",cursor:"pointer",fontsize:0,lineHeight:0,borderRadius:"100px",backgroundColor:e.colors.ConstBGContainer,":hover":{opacity:.7},":active":{opacity:.5}})),(({theme:{direction:e}})=>(0,c.YJ)({direction:e,end:"20px"})),"label:ButtonVoiceControl;");L.defaultProps=Object.assign(Object.assign({},L.defaultProps),{"data-e2e":"browse-sound"});const z=(0,r.Z)("button",{target:"e1oyh2e25"})(c.Ph,(({theme:e})=>({display:"flex",transition:"opacity 0.3s",cursor:"pointer",fontsize:0,lineHeight:0,borderRadius:"100px",backgroundColor:e.colors.ConstBGContainer,":hover":{opacity:.7},":active":{opacity:.5}})),"label:ButtonVoiceControlNew;");z.defaultProps=Object.assign(Object.assign({},z.defaultProps),{"data-e2e":"browse-sound"});const F=(0,r.Z)("div",{target:"e1oyh2e26"})((({widerBottom:e=!1})=>({position:"absolute",zIndex:1,bottom:e?"60px":"20px",[`:hover ${p.nW}`]:{opacity:"1"}})),(({theme:{direction:e}})=>(0,c.YJ)({direction:e,end:"20px"})),"label:DivVoiceControlContainer;"),E=(0,r.Z)("div",{target:"e1oyh2e27"})((({theme:{colors:e}})=>({flex:"1 1 896px",background:e.ConstBGInverse,position:"relative",overflow:"hidden",padding:"0 80px"})),"label:DivVideoContainer;"),A=(0,r.Z)("div",{target:"e1oyh2e28"})({position:"absolute",bottom:0,left:0,right:0},"label:DivWarnInfoPosition;"),$=(0,r.Z)("div",{target:"e1oyh2e30"})((({theme:{colors:e}})=>({display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",bottom:"84px",left:"50%",transform:"translateX(-50%)",fontWeight:500,fontSize:"18px",padding:"11.5px 24px",borderRadius:"52px",color:e.ConstTextInverse,background:e.ToastDefault,cursor:"pointer",":hover":{opacity:.7},":active":{opacity:.5}})),"label:DivAnalyticsWrapper;")},99975:(e,t,i)=>{i.d(t,{yx:()=>a,F7:()=>r,MT:()=>l,$_:()=>s,FL:()=>d,ov:()=>p,Gb:()=>h,Am:()=>m});var o=i(40200),n=i(29984);const a=(0,o.Z)("div",{target:"e10mb03c0"})({width:"100%",height:"24px",flex:"1 1 auto",position:"relative"},"label:DivSeekBarContainer;"),r=(0,o.Z)("div",{target:"e10mb03c1"})({flex:"0 0 88px",maxWidth:"88px",marginInlineStart:"8px",fontSize:"14px",lineHeight:"24px",color:"#ffffff",textAlign:"end",whiteSpace:"nowrap",fontFeatureSettings:'"tnum"',fontVariantNumeric:"tabular-nums",fontFamily:"Tahoma, PingFangSC, sans-serif"},"label:DivSeekBarTimeContainer;"),l=(0,o.Z)("div",{target:"e10mb03c2"})({height:"4px",width:"100%",backgroundColor:"rgba(255, 255, 255, 0.2)",position:"absolute",left:"0",top:"50%",transform:"translateY(-50%)",cursor:"pointer"},"label:DivSeekBarProgress;"),s=(0,o.Z)("div",{target:"e10mb03c3"})((({theme:{direction:e,colors:t},backgroundTheme:i})=>({height:"4px",width:"100%",backgroundColor:"primary"===i?t.Primary:t.BGPrimary,position:"absolute",top:"50%",transform:"translateY(-50%)",cursor:"pointer",transformOrigin:"rtl"===e?"right":"left"})),"label:DivSeekBar;"),d=(0,o.Z)("div",{target:"e10mb03c4"})((({theme:{direction:e}})=>(0,n.YJ)({direction:e})),(({theme:{direction:e}})=>({display:"none",width:"16px",height:"16px",backgroundColor:"#ffffff",borderRadius:"16px",position:"absolute",top:"50%",transform:`translate(${"rtl"===e?"50%":"-50%"}, -50%)`,cursor:"pointer",zIndex:1})),"label:DivSeekBarCircle;"),c="calc(100% - 160px)",u="translateX(-50%)",p=(0,o.Z)("div",{target:"e10mb03c5"})((({show:e,extraBottomSpace:t})=>({width:c,height:"24px",paddingInline:"16px",position:"absolute",opacity:e?"1":"0",transition:"opacity .3s",bottom:t?"68px":"28px",cursor:"initial",display:"flex",alignItems:"center",left:"50%",transform:u,maxWidth:"56.25vh",[`:hover ${l}`]:{height:"6px"},[`:hover ${s}`]:{height:"6px"},[`:hover ${d}`]:{display:"block"},"@media (max-width: 900px)":{display:"none"}})),"label:DivVideoControlContainer;"),h=(0,o.Z)("div",{target:"e10mb03c6"})({width:c,height:"28px",position:"absolute",bottom:0,left:"50%",transform:u,cursor:"initial",maxWidth:"56.25vh"},"label:DivVideoControlBottom;"),m=(0,o.Z)("div",{target:"e10mb03c7"})({width:c,height:"10px",position:"absolute",bottom:"52px",left:"50%",transform:u,cursor:"initial",maxWidth:"56.25vh"},"label:DivVideoControlTop;")},44144:(e,t,i)=>{i.d(t,{nW:()=>n,CY:()=>a,SM:()=>r,tP:()=>l});var o=i(40200);const n=(0,o.Z)("div",{target:"e1cts53v0"})((({dragging:e})=>({width:"28px",height:"96px",margin:"8px 6px",display:"block",opacity:e?"1":"0",position:"relative",background:"rgba(255, 255, 255, 0.12)",borderRadius:"32px"})),"label:DivVolumeControlContainer;"),a=(0,o.Z)("div",{target:"e1cts53v1"})({width:"4px",height:"80px",backgroundColor:"rgba(255, 255, 255, 0.2)",position:"absolute",left:"12px",top:"8px",bottom:"8px",cursor:"pointer"},"label:DivVolumeControlProgress;"),r=(0,o.Z)("div",{target:"e1cts53v2"})((({theme:{colors:e},backgroundTheme:t})=>({width:"4px",height:"80px",backgroundColor:"primary"===t?e.Primary:e.BGPrimary,position:"absolute",left:"12px",bottom:"8px",cursor:"pointer",transform:"scaleY(0)",transformOrigin:"bottom"})),"label:DivVolumeControlBar;"),l=(0,o.Z)("div",{target:"e1cts53v3"})({width:"16px",height:"16px",backgroundColor:"#ffffff",borderRadius:"16px",position:"absolute",left:"6px",bottom:"0",cursor:"pointer",zIndex:1},"label:DivVolumeControlCircle;")},32957:(e,t,i)=>{i.d(t,{CL:()=>r,qf:()=>l}),i(2836);var o=i(75246),n=i(40200),a=i(29984);const r=(0,n.Z)("div",{target:"ear7a600"})({display:"flex",flexDirection:"column"},"label:DivActionItemContainer;"),l=((0,o.F4)({"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.67)"},"100%":{transform:"scale(1)"}}),(0,o.F4)({"0%":{transform:"scale(1)"},"50%":{transform:"scale(1.33)"},"100%":{transform:"scale(1)"}}),(0,n.Z)("div",{target:"ear7a606"})((({theme:e})=>[(0,a.GI)({theme:e,fontWeight:"semiBold",typography:"P2"}),{width:"280px",padding:"8px 0px",maxHeight:448,overflow:"auto","::-webkit-scrollbar":{width:"6px"},"::-webkit-scrollbar-thumb":{borderRadius:"3px",background:"rgba(0, 0, 0, 0.15)"}}]),"label:DivShareWrapper;"));l.defaultProps=Object.assign(Object.assign({},l.defaultProps),{"data-e2e":"feed-share-group"})},63221:(e,t,i)=>{i.d(t,{M:()=>l});var o=i(31191),n=i(6229),a=i(16219),r=i(11359);let l=class extends n.D{constructor(){super(...arguments),this.defaultState={}}setVideoInfo(e,t){var i;const{videoId:o,videoPercent:n,duration:a,currentTime:r}=t,l=Object.assign({},null!==(i=e[o])&&void 0!==i?i:{},{videoPercent:n,duration:a,currentTime:r});e[o]?Object.keys(l).forEach((t=>{e[o][t]=l[t]})):(Object.keys(e).forEach((t=>delete e[t])),e[o]=l)}};(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],l.prototype,"setVideoInfo",null),l=(0,o.__decorate)([(0,r.Y)("SeekBarModule")],l)},90616:(e,t,i)=>{i.d(t,{Q:()=>l});var o=i(24246),n=i(88916),a=i(24448),r=i(84291);function l({item:e,onShow:t}){var i,l,s;const{lang:d}=(0,o.mp)(n.G,{selector:e=>({lang:e.lang}),dependencies:[]}),c=(0,o.mp)(a.z,{selector:t=>{var i,o,n;return null!==(n=null===(o=t.users[null!==(i=null==e?void 0:e.author)&&void 0!==i?i:""])||void 0===o?void 0:o.id)&&void 0!==n?n:""},dependencies:[null==e?void 0:e.author]}),u=(0,o.mp)(a.z,{selector:t=>{var i;return t.users[null!==(i=null==e?void 0:e.author)&&void 0!==i?i:""]},dependencies:[null==e?void 0:e.author]}),{handleShowReport:p}=(0,r.Q)({onShow:t,reportTarget:{lang:d,object_id:null!==(i=null==e?void 0:e.id)&&void 0!==i?i:"",owner_id:c,object_owner_id:c,nickname:null!==(l=null==e?void 0:e.nickname)&&void 0!==l?l:null==e?void 0:e.author,video_id:null!==(s=null==e?void 0:e.id)&&void 0!==s?s:"",video_owner:u,report_type:"video"}});return p}},94673:(e,t,i)=>{i.d(t,{V:()=>d,g:()=>c});var o=i(24246),n=i(44435),a=i(54032),r=i(24448);const l="https://www.tiktok.com";function s(e){const t={"<":"&lt",">":"&gt;",'"':"&#34;","'":"&#39;","&":"&#38;","/":"&#47;"};let i=`(${Object.keys(t).toString()})`;i=i.replace(/,/g,")|(");const o=new RegExp(i,"g");return e.replace(o,(e=>t[e]))}function d(e){var t,i,d;const c=(0,o.mp)(a.A,{selector:t=>t[e],dependencies:[e]}),u=(0,o.mp)(r.z,{selector:e=>{var t;return e.users[null!==(t=null==c?void 0:c.author)&&void 0!==t?t:""]},dependencies:[null==c?void 0:c.author]}),{music:p,textExtra:h,desc:m}=null!=c?c:{},{uniqueId:g="",secUid:v}=null!=u?u:{},x=null!==(t=null==p?void 0:p.title)&&void 0!==t?t:"",b=null!==(i=null==p?void 0:p.id)&&void 0!==i?i:"",y=null!==(d=null==p?void 0:p.authorName)&&void 0!==d?d:"",f=(0,n.yl)({uniqueId:g,secUid:v}),_=(0,n.MB)({musicName:x,musicId:b}),j=(0,n.fH)({uniqueId:g,secUid:v,videoId:e}),k=x.replace(`- ${y}`,"")+(y?` - ${y}`:""),C=`${l}${f.split("?")[0]}`,w=`${l}${_.split("?")[0]}`,S=`${l}${j.split("?")[0]}`,P=`${l}/embed.js`,T=`@${g}`,I=`♬ ${s(k)}`;return`\n    <blockquote class="tiktok-embed"\n      cite="${S}"\n      data-video-id="${e}" style="max-width: 605px;min-width: 325px;" >\n      <section>\n          <a target="_blank" title="${T}" href="${C}">${T}</a>\n          ${function(e,t=[]){return t.length?[...t].sort(((e,t)=>e.start-t.start)).reduce(((t,i,o,a)=>{const{start:r,end:d,hashtagName:c,type:u}=i,p=0===o?0:a[o-1].end,h=r,m=e.substring(p,h);m&&(t+=s(m));const g=e.substring(r,d);return t+(1===u&&c?`<a title="${c}" target="_blank" href="${l}${(0,n.JD)({tagName:c})}">${s(g)}</a>`:s(g))}),""):`<p>${s(e)}</p>`}(null!=m?m:"",h)}\n          <a target="_blank" title="${I}" href="${w}">${I}</a>\n      </section>\n    </blockquote>\n    <script async src="${P}"><\/script>\n  `.split(/(?:\r\n|\n|\r)/).map((e=>e.replace(/^\s+/gm,""))).join(" ").trim()}function c(e){if(e)return`\n    <blockquote class="tiktok-embed"\n      cite="${l}/@${e}"\n      data-unique-id="${e}" \n      data-embed-type="creator" style="max-width: 720px; min-width: 288px;" >\n      <section>\n        <a target="_blank" href="${l}/@${e}?refer=creator_embed">@${e}</a>\n      </section>\n    </blockquote>\n    <script async src="${l}/embed.js"><\/script>\n  `.split(/(?:\r\n|\n|\r)/).map((e=>e.replace(/^\s+/gm,""))).join(" ").trim()}},42669:(e,t,i)=>{i.d(t,{lb:()=>h,zQ:()=>p,SX:()=>c,SC:()=>m,th:()=>b,Is:()=>v,Vk:()=>g,_u:()=>u,CO:()=>x});var o,n,a=i(40200),r=i(29984),l=i(32735);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},s.apply(this,arguments)}const d=function(e){return l.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 48 48",width:"1em",height:"1em"},e),o||(o=l.createElement("g",{clipPath:"url(#default-avatar_svg__clip0_9489_175606)"},l.createElement("rect",{width:48,height:48,fill:"#D0D1D3",rx:24}),l.createElement("path",{fill:"#F3F3F3",fillRule:"evenodd",d:"M23.998 9.5a8.5 8.5 0 100 17 8.5 8.5 0 000-17zm0 19c-6.176 0-10.984 3.874-12.991 9.377-.49 1.343.543 2.66 1.871 2.66h22.239c1.328 0 2.361-1.317 1.87-2.661-2.008-5.499-6.812-9.376-12.989-9.376z",clipRule:"evenodd"}))),n||(n=l.createElement("defs",null,l.createElement("clipPath",{id:"default-avatar_svg__clip0_9489_175606"},l.createElement("rect",{width:48,height:48,fill:"white",rx:24})))))},c=(0,a.Z)("div",{target:"e1ieq6ru0"})({marginTop:"24px"},"label:DivCommentContainer;"),u=(0,a.Z)("p",{target:"e1ieq6ru1"})((({theme:e})=>(0,r.GI)({theme:e,fontWeight:"bold"})),{lineHeight:"26px",color:"#000000",fontSize:"18px"},"label:PCommentTitle;"),p=(0,a.Z)("div",{target:"e1ieq6ru2"})({display:"flex",marginTop:"16px"},"label:DivCommentBarContainer;"),h=(0,a.Z)("div",{target:"e1ieq6ru3"})((({theme:e})=>[(0,r.YJ)({direction:e.direction,marginStart:"16px"}),{height:"48px",paddingBottom:"24px",borderBottom:"1px solid #F1F1F1",cursor:"pointer",flex:1,boxSizing:"content-box"}]),"label:DivBarWrapper;"),m=(0,a.Z)("div",{target:"e1ieq6ru4"})((({theme:e})=>[(0,r.YJ)({direction:e.direction,marginStart:"16px"}),{paddingBottom:"24px",borderBottom:"1px solid #F1F1F1",cursor:"pointer",flex:1,boxSizing:"content-box"}]),"label:DivCommentInputWrapper;"),g=(0,a.Z)("div",{target:"e1ieq6ru5"})((({theme:e})=>(0,r.GI)({theme:e,fontWeight:"semiBold",color:"Primary"})),{height:"100%",background:"#F8F8F8",borderRadius:"2px",padding:"14px 16px",fontSize:"16px",cursor:"pointer"},"label:DivLoginBar;"),v=(0,a.Z)("div",{target:"e1ieq6ru6"})((({theme:e})=>[(0,r.GI)({theme:e,typography:"P2",color:"TextSecondary"}),{flex:"1 1 0px",display:"flex",alignItems:"center",justifyContent:"center"}]),"label:DivErrorMessage;"),x=(0,a.Z)(d,{target:"e1ieq6ru7"})({width:"48px",height:"48px"},"label:StyledDefaultAvatar;"),b=(0,a.Z)("div",{target:"e1ieq6ru8"})((({theme:e})=>(0,r.YJ)({direction:e.direction,marginStart:"16px"})),{lineHeight:"24px",display:"flex",alignItems:"center"},"label:DivDisabledTip;")},62013:(e,t,i)=>{i.d(t,{D:()=>n});var o=i(32735);function n(e,t){const{onClick:i,onDoubleClick:n}=e(),a=(0,o.useRef)(0),r=(0,o.useRef)(!1);return(0,o.useCallback)((e=>{a.current&&window.clearTimeout(a.current),r.current?null==n||n(e):(r.current=!0,window.setTimeout((()=>{r.current=!1}),300),a.current=window.setTimeout((()=>{null==i||i(e)}),300))}),t)}},65597:(e,t,i)=>{i.d(t,{V:()=>o});const o=(0,i(32735).createContext)({isMsePlayer:!1})},85969:(e,t,i)=>{i.d(t,{S:()=>o});const o=["AT","BE","BG","HR","CY","CZ","DE","DK","EE","EL","FI","FR","GB","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","NO","IS","LI"]},74751:(e,t,i)=>{i.d(t,{n:()=>o,_:()=>n});const o=e=>{try{let t=btoa(e);return t=t.replace(/=+$/,""),encodeURIComponent(t)}catch(e){return null}},n=e=>{try{const t=decodeURIComponent(e);let i="";const o=t.length%4;2===o?i="==":3===o&&(i="=");const n=atob(t+i);if(!n)throw Error();return n}catch(e){return null}}},39189:(e,t,i)=>{i.d(t,{wC:()=>I,T:()=>T,bg:()=>Z,g0:()=>O,yM:()=>R,Hx:()=>D});var o=i(31191),n=i(6229),a=i(16219),r=i(11359),l=i(53899),s=i(89793),d=i.n(s),c=i(37674),u=i(2480),p=i(2355),h=i(31144),m=i(52702),g=i(30526),v=i(60194),x=i(86319),b=i(51166),y=i(61080),f=i(44435),_=i(74751);const j=({reportTarget:e})=>{if(!e)return null;const{report_type:t,video_owner:i,video_id:o,object_id:n}=e;let a=null;if(o&&i){const e=(0,f.fH)({uniqueId:null==i?void 0:i.uniqueId,videoId:o,secUid:null==i?void 0:i.secUid});a=`${location.origin}${e}`,"comment"===t&&(a=`${a}&cid=${(0,_.n)(n)}`)}return a};var k=i(55643),C=i(80002),w=i(54701),S=i(88916),P=i(54075);const T=[112,212,9014],I=[222,9015],D=({reportTarget:e})=>{const t=j({reportTarget:e});return"https://www.tiktok.com/legal/report/NetzDG?lang=de"+(t?"&reporturl="+encodeURIComponent(t):"")},O=({reportTarget:e})=>{const t=j({reportTarget:e});return"https://www.tiktok.com/legal/report/lcen?lang=fr"+(t?"&reporturl="+encodeURIComponent(t):"")},R=({reportTarget:e})=>{const t=j({reportTarget:e});return"https://www.tiktok.com/legal/copyright-policy"+(t?"?report_url="+encodeURIComponent(t):"")};let Z=class extends n.D{constructor(e,t,i,o){super(),this.service=e,this.report=t,this.appContext=i,this.t=o,this.defaultState={reasons:null,showing:!1,loading:!1,requesting:void 0,reportTarget:null,lastStatus:-1,PageState:0,PageStateData:void 0,PreState:[],UserData:{selectedReason:void 0,submitresult:void 0,HistoryReason:[]},blockedVideos:[]}}setReportTarget(e,t){e.reportTarget=t}judgeFtc(e,t){"kid_mode_video"===t.report_type&&(e.PageState=6)}setReasons(e,t){e.reasons=t,e.PageStateData={reasons:t}}addBlockVideo(e,t){e.blockedVideos.includes(t)||e.blockedVideos.push(t)}removeBlockVideo(e,t){e.blockedVideos=e.blockedVideos.filter((e=>e!==t))}setLoading(e,t){e.loading=t}getReasons(e){return e.pipe((0,h.M)(this.state$),(0,m.z)((([e,t])=>{var i;if(d()(e,t.reportTarget)&&t.reasons&&(null===(i=t.reasons)||void 0===i?void 0:i.length)>0)return(0,c.of)(this.getActions().setReasons(t.reasons));const{report_type:o,lang:n,object_id:a}=e;return this.service.getReportReasons({report_type:o,lang:n,object_id:a}).pipe((0,g.b)((({body:e})=>{e.length||k.h.open({content:this.t("Sorry, something wrong with the server, please try again."),duration:1.2,widthType:"half"})})),(0,m.z)((t=>{var i,o,n;if(0===t.statusCode){let a=null!==(i=t.body)&&void 0!==i?i:[];return"user"===e.report_type&&(a=null!==(n=null===(o=a.find((e=>300===e.reason_type)))||void 0===o?void 0:o.next_reason)&&void 0!==n?n:[]),(0,c.of)(this.getActions().setReasons(a))}return(0,c.of)(this.getActions().setReasons([]))})),(0,v.O)(this.getActions().setLoading(!0)),(0,x.l)(this.getActions().setLoading(!1)))})))}handleNextReason(e){return e.pipe((0,h.M)(this.state$),(0,g.b)((([{reason_id:e},{reportTarget:t}])=>{const{object_id:i="",report_type:o=""}=null!=t?t:{};this.report.handleReportNext({object_id:i,object_type:o,reason_id:e})})),(0,m.z)((([{nextReason:e},{PageStateData:t,PageState:i}])=>(0,c.of)(this.getActions().setPageStateData({reasons:e}),this.getActions().appendToPreState({state:i,data:t})))))}handleNextForm(e){return e.pipe((0,h.M)(this.state$),(0,m.z)((([e,{PageStateData:t,PageState:i}])=>(0,c.of)(this.getActions().setPageState(e),this.getActions().setPageStateData({test:123}),this.getActions().appendToPreState({state:i,data:t})))))}setShowing(e,t){e.showing=t}showReport(e){return e.pipe((0,m.z)((e=>(0,c.of)(this.getActions().setShowing(!0),this.getActions().judgeFtc(e),this.getActions().getReasons(e),this.getActions().setReportTarget(e)))))}hideReport(e){return e.pipe((0,m.z)((()=>(0,c.of)(this.getActions().setShowing(!1)))))}setRequesting(e,t){e.requesting=t}setLastStatus(e,t){e.lastStatus=t}postReport(e){return e.pipe((0,h.M)(this.state$,this.appContext.state$),(0,b.z)((([{reason:e,extraData:t},{reportTarget:i,UserData:o},{appContext:n}])=>{var a,r;if(!i)return u.E;const l=8===(null===(a=null==o?void 0:o.selectedReason)||void 0===a?void 0:a.special_type),s={};Array.isArray(e)&&"kid_mode_video"===i.report_type&&(s.additional_reasons=`%5B${e.join(",")}%5D`,e=e[0]);const d=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({app_name:"tiktok_web",aid:1988,current_region:null==n?void 0:n.$region,reporter_id:null===(r=null==n?void 0:n.$user)||void 0===r?void 0:r.uid,reason:e},i),{target:i.object_id}),t),{report_type:"kid_mode_video"===i.report_type?"video":i.report_type}),s);return this.service.postReport(d).pipe((0,y.K)((()=>(0,c.of)({status_code:-1}))),(0,m.z)((t=>{let o;switch(t.status_code){case 90002:o={title:this.t("Web_report_thanks_for_report"),content:this.t("Web_report_report_detail"),button:this.t("live_close"),success:!1};break;case 0:o={title:this.t("Web_report_thanks_for_report"),content:l?this.t("avia_law_report_received_confirm"):this.t("Web_report_report_detail"),button:this.t("pm_mt_live_done"),success:!0};break;default:o={title:this.t("Web_report_report_for_error"),content:this.t("Sorry, something wrong with the server, please try again."),button:this.t("live_close"),success:!1}}if(0===t.status_code){const{object_id:t,report_type:o}=i;this.report.handleReportSubmit({object_id:t,object_type:o,reason_id:e})}return"video"===i.report_type&&0===t.status_code&&i.object_id?(0,c.of)(this.getActions().addBlockVideo(i.object_id),this.getActions().setLastStatus(t.status_code),this.getActions().setPageState(5),this.getActions().setUserData({submitresult:o})):(0,c.of)(this.getActions().setLastStatus(t.status_code),this.getActions().setPageState(5),this.getActions().setUserData({submitresult:o}))})),(0,v.O)(this.getActions().setRequesting(!0)),(0,x.l)(this.getActions().setRequesting(!1)))})))}setPageState(e,t){e.PageState=t}appendToPreState(e,t){e.PreState.push(t)}removeFromPreState(e){e.PreState.pop()}resetPreState(e){e.PreState=[]}setUserData(e,t){e.UserData=Object.assign(Object.assign({},e.UserData),t)}setPageStateData(e,t){e.PageStateData=t}resetState(e){return e.pipe((0,m.z)((e=>(0,c.of)(this.getActions().resetPreState(),this.getActions().setUserData({selectedReason:void 0,HistoryReason:[]}),this.getActions().setPageState(0),this.getActions().setPageStateData(null)))))}handlePrevStep(e){return e.pipe((0,h.M)(this.state$),(0,m.z)((([e,{PreState:t}])=>{if(0===t.length)return u.E;const{state:i,data:o}=t[t.length-1];return(0,c.of)(this.getActions().setPageState(i),this.getActions().setPageStateData(o),this.getActions().removeFromPreState())})))}};(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"setReportTarget",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"judgeFtc",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Array]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"setReasons",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,String]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"addBlockVideo",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,String]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"removeBlockVideo",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"setLoading",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"getReasons",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"handleNextReason",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"handleNextForm",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"setShowing",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"showReport",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"hideReport",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"setRequesting",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Number]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"setLastStatus",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"postReport",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Number]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"setPageState",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"appendToPreState",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"removeFromPreState",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"resetPreState",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"setUserData",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"setPageStateData",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"resetState",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"handlePrevStep",null),Z=(0,o.__decorate)([(0,r.Y)("Report"),(0,o.__param)(3,(0,l.t)(C.s)),(0,o.__metadata)("design:paramtypes",[P.r,w.y,S.G,Function])],Z)},54075:(e,t,i)=>{i.d(t,{r:()=>s});var o=i(31191),n=i(21296),a=i(37674),r=i(65723),l=i(70336);let s=class{constructor(e){this.fetch=e}getReportReasons(e){return this.fetch.get("/node/report/reasons",{query:e,baseUrlType:2})}postReport(e){return this.fetch.get("/aweme/v1/aweme/feedback/",{query:e,baseUrlType:2})}uploadImage(e){if(0===e.length)return(0,a.of)({data:[],statusCode:0});const t=new FormData;for(let i=0;i<e.length;i++){const o=e[i];t.append("type",o.type),t.append("size",`${o.size}`),t.append("name",o.name),t.append("height",o.height),t.append("width",o.width),t.append(`file${i}`,o,o.name)}return this.fetch.post("/node/feedback/upload_image/",{body:t,headers:{[r.eD]:this.fetch.csrfToken},baseUrlType:2,omitContentType:!0})}};s=(0,o.__decorate)([(0,n.G)(),(0,o.__metadata)("design:paramtypes",[l.r])],s)},84291:(e,t,i)=>{i.d(t,{Q:()=>d}),i(74512);var o=i(24246),n=i(32321),a=i(32735),r=i(45257),l=i(54701),s=i(39189);function d({onShow:e,reportTarget:t}){const{showModal:i}=(0,r.J)(),d=(0,o.qj)(s.bg),c=(0,n.fz)(l.y);return{handleShowReport:(0,a.useCallback)((o=>{null==e||e(o),i(),d.showReport(t),c.handleShowReport({object_type:t.report_type,type:t.report_type,object_id:t.object_id,play_mode:t.play_mode})}),[d,e,c,t,i])}}},1814:(e,t,i)=>{i.d(t,{l:()=>qt});var o=i(74512),n=i(24246),a=i(32735),r=i(45257),l=i(39189),s=i(45563),d=i(12502),c=i(89808),u=i(90938),p=i(473),h=i(16572),m=i(32321),g=i(55643),v=i(52545),x=i(40200);const b=(0,x.Z)("div",{target:"eyl260m0"})((({theme:e})=>({minHeight:"226px",width:"400px",background:e.colors.BGPrimary,borderRadius:"8px",boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",padding:"32px"})),"label:DivWapper;"),y=(0,x.Z)("div",{target:"eyl260m1"})((({theme:e})=>({minHeight:"32px",width:"100%",textAlign:"center",lineHeight:"32px",fontSize:"24px",color:e.colors.TextPrimary})),"label:DivTitle;"),f=(0,x.Z)("div",{target:"eyl260m2"})((({theme:e})=>({margin:"16px 0px 24px",width:"100%",textAlign:"center",lineHeight:"22px",fontSize:"16px",color:e.colors.TextSecondary})),"label:DivDetail;"),_=(0,x.Z)("div",{target:"eyl260m3"})({display:"flex",justifyContent:"space-between"},"label:DivContain;"),j=(0,x.Z)("button",{target:"eyl260m4"})((({theme:e,active:t})=>({width:"164px",height:"46px",flex:"0 1 auto",borderRadius:"4px",padding:"12px 0px",textAlign:"center",fontSize:"16px",cursor:"pointer",lineHeight:"16px",color:t?e.colors.Primary:e.colors.TextPrimary,backgroundColor:e.colors.BGSecondary2,border:` 1px solid ${t?e.colors.Primary:e.colors.TextPrimary}`})),"label:ButtonC;"),k=e=>{var t,i,r;const s=(0,u.Q)(),d=(0,m.fz)(v.K),{onClose:c}=e,p=(0,n.mp)(l.bg,{selector:e=>{const{UserData:t,reportTarget:i}=e;return{UserData:t,reportTarget:i}},dependencies:[]}),h=(0,a.useCallback)((e=>{var t,i;d.blockUser({sec_user_id:null!==(i=null===(t=p.reportTarget)||void 0===t?void 0:t.secUid)&&void 0!==i?i:"",block_type:1}).subscribe((e=>{0===e.status_code&&(c(),g.h.open({content:s("Blocked"),duration:3,widthType:"half"}))}))}),[c,null===(t=p.reportTarget)||void 0===t?void 0:t.secUid,d,s]);return(0,o.jsxs)(b,{children:[(0,o.jsx)(y,{children:s("Web_report_block_who",{username:null===(i=p.reportTarget)||void 0===i?void 0:i.nickname})},void 0),(0,o.jsx)(f,{children:s("Web_report_block_detail",{username:null===(r=p.reportTarget)||void 0===r?void 0:r.nickname})},void 0),(0,o.jsxs)(_,{children:[(0,o.jsx)(j,Object.assign({active:!1,onClick:e.onClose},{children:s("copyright_check_post_popup_cancel")}),void 0),(0,o.jsx)(j,Object.assign({active:!0,onClick:h},{children:s("webdm_block")}),void 0)]},void 0)]},void 0)};var C,w=i(73594),S=i(57715),P=i(8721),T=i(10207),I=i(80829);function D(){return D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},D.apply(this,arguments)}const O=function(e){return a.createElement("svg",D({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",width:"1em",height:"1em"},e),C||(C=a.createElement("path",{fill:"#161823",fillRule:"evenodd",d:"M16.667 10c0 .918-.53 1.919-1.73 2.76C13.74 13.595 12 14.165 10 14.165c-2.001 0-3.741-.57-4.937-1.407-1.2-.84-1.73-1.841-1.73-2.76 0-.917.53-1.918 1.73-2.759C6.26 6.404 8 5.833 10 5.833c2.001 0 3.741.57 4.937 1.407 1.2.84 1.73 1.842 1.73 2.76zm1.666 0c0 3.222-3.73 5.833-8.333 5.833-4.602 0-8.333-2.611-8.333-5.833S5.397 4.167 10 4.167c4.602 0 8.333 2.611 8.333 5.833zm-7.083 0a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zm1.667 0a2.917 2.917 0 11-5.834 0 2.917 2.917 0 015.834 0z",clipRule:"evenodd"})))};var R;function Z(){return Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Z.apply(this,arguments)}const B=function(e){return a.createElement("svg",Z({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",width:"1em",height:"1em"},e),R||(R=a.createElement("path",{fill:"#161823",fillRule:"evenodd",d:"M8.473 3.488a1.25 1.25 0 011.944 1.04v10.943a1.25 1.25 0 01-1.944 1.04L4.331 13.75H2.5c-.69 0-1.25-.56-1.25-1.25v-5c0-.69.56-1.25 1.25-1.25h1.831l4.142-2.762zm.277 1.819l-3.704 2.47a.833.833 0 01-.463.14H2.917v4.166h1.666c.165 0 .326.049.463.14l3.704 2.47V5.307zm5 4.693c0-1.017-.405-1.94-1.063-2.616a.455.455 0 01-.042-.604l.529-.644a.393.393 0 01.576-.045A5.403 5.403 0 0115.417 10c0 1.536-.64 2.924-1.667 3.909a.393.393 0 01-.576-.046l-.53-.643a.455.455 0 01.043-.604A3.736 3.736 0 0013.75 10zm1.673-5.396a.438.438 0 00.038.597A6.645 6.645 0 0117.501 10c0 1.884-.782 3.585-2.04 4.799a.438.438 0 00-.038.597l.54.634c.149.175.413.197.58.04A8.312 8.312 0 0019.167 10c0-2.393-1.01-4.55-2.624-6.07a.401.401 0 00-.58.04l-.54.634z",clipRule:"evenodd"})))};var M;function L(){return L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},L.apply(this,arguments)}const z=function(e){return a.createElement("svg",L({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",width:"1em",height:"1em"},e),M||(M=a.createElement("path",{fill:"#161823",fillRule:"evenodd",d:"M10.724 17.896c-.497.27-1.145.346-1.752-.02a3.015 3.015 0 01-1.462-2.584v-2.08H3.977a2.29 2.29 0 01-2.284-2.631l1.005-6.552a2.29 2.29 0 012.284-1.945H15.38a2.515 2.515 0 012.53 2.176.833.833 0 01.007.112v5.096a.833.833 0 01-.008.111c-.163 1.206-1.203 2.276-2.529 2.257h-1.4l-2.211 4.9c-.21.468-.573.904-1.045 1.16zm3.55-7.724h1.127c.365.006.765-.312.85-.77V4.438a.85.85 0 00-.86-.689h-1.117v6.424zM12.61 3.749H4.968a.624.624 0 00-.624.53v.001L3.34 10.83a.623.623 0 00.624.718h4.38c.46 0 .833.372.833.832v2.912a1.35 1.35 0 00.675 1.168h.003a.184.184 0 00.075-.027.816.816 0 00.319-.376l.002-.004 2.36-5.228V3.75z",clipRule:"evenodd"})))};var F=i(66036);const E=(0,x.Z)("label",{target:"e1d46yfg0"})((({theme:e})=>({display:"flex",fontFamily:e.fontFamilies.Proxima,fontWeight:e.fontWeights.normal,fontSize:"16px",color:e.colors.TextPrimary,cursor:"pointer"})),"label:LabelCheckbox;"),A=(0,x.Z)("div",{target:"e1d46yfg1"})((({size:e})=>({color:"#fff",position:"relative",height:`${e}px`,lineHeight:`${e}px`})),"label:DivCheckboxSymbol;"),$=(0,x.Z)("input",{target:"e1d46yfg2"})((({selected:e,bordertype:t,theme:i,size:o})=>Object.assign(Object.assign({appearance:"none",width:`${o}px`,height:`${o}px`,border:`1.5px solid ${i.colors.LineSecondary}`,margin:"0 10px -2.5px 0"},e?{border:"none",backgroundColor:i.colors.Primary}:{}),"radio"===t?{borderRadius:"50%"}:{borderRadius:"2px"})),"label:InputCheckbox;"),U=(0,x.Z)("div",{target:"e1d46yfg3"})({pointerEvents:"none",position:"absolute",top:"2px",left:"3px",width:"15px",height:"15px"},"label:DivCheckboxIcon;"),V=(0,a.memo)((function({id:e,value:t,label:i,onChange:n,bordertype:r="radio",style:l={},size:s=22}){const d=(0,a.useCallback)((e=>{n&&n(e.target.checked)}),[n]);return(0,o.jsxs)(E,Object.assign({htmlFor:e,style:l},{children:[(0,o.jsxs)(A,Object.assign({size:s,className:"checkbox-symbol"+(t?" selected":"")},{children:[(0,o.jsx)($,{bordertype:r,selected:t,id:e,checked:t,type:"checkbox",size:s,onChange:d},void 0),t&&(0,o.jsx)(U,{children:(0,o.jsx)(F.Z,{width:16,height:16},void 0)},void 0)]}),void 0),i]}),void 0)}));var G=i(29984);const W=(0,x.Z)("form",{target:"ezqf9p60"})((({theme:e})=>[(0,G.GI)({theme:e,typography:"H6"}),{zIndex:2,background:e.colors.BGPrimary,borderRadius:"8px",overflow:"hidden",width:"700px",margin:0}]),"label:FormReport;"),q=(0,x.Z)("div",{target:"ezqf9p61"})((({theme:e})=>({width:"400px",zIndex:2,background:e.colors.BGPrimary,borderRadius:"8px",overflow:"hidden",margin:0})),"label:DivFormBox;"),H=(0,x.Z)("div",{target:"ezqf9p62"})({display:"flex",alignItems:"center",padding:"24px 24px 16px",height:"72px"},"label:DivFormHeader;"),N=(0,x.Z)("div",{target:"ezqf9p63"})({cursor:"pointer",padding:"6px",height:"32px"},"label:DivBackButton;"),Y=(0,x.Z)("div",{target:"ezqf9p64"})({cursor:"pointer",padding:"9px",height:"32px"},"label:DivCloseButton;"),Q=(0,x.Z)("h4",{target:"ezqf9p65"})((({theme:e})=>({fontSize:"20px",lineHeight:"32px",color:e.colors.TextPrimary,fontFamily:e.fontFamilies.Proxima,fontWeight:e.fontWeights.bold,textAlign:"rtl"===e.direction?"right":"left",flex:1})),"label:H4FormTitle;");Q.defaultProps=Object.assign(Object.assign({},Q.defaultProps),{"data-e2e":"report-card-title"});const J=(0,x.Z)("div",{target:"ezqf9p66"})((({theme:e})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,height:"50vh",overflowY:"auto",overflowX:"hidden",padding:"16px 16px 0px"})),"label:DivRadioWrapper;"),K=(0,x.Z)("div",{target:"ezqf9p67"})((({theme:e})=>({paddingBottom:"8px",paddingLeft:"8px",color:e.colors.TextSecondary,height:"22px",lineHeight:"22px"})),"label:DivSelectText;"),X=(0,x.Z)("div",{target:"ezqf9p68"})((({theme:e})=>({color:e.colors.TextPrimary,lineHeight:"22px",fontSize:"16px",userSelect:"none"})),"label:DivReasonText;"),ee=(0,x.Z)("label",{target:"ezqf9p69"})((({theme:e})=>({boxSizing:"border-box",minHeight:"54px",display:"flex",flex:"1 1 100%",flexDirection:"row",alignItems:"center",cursor:"pointer",position:"relative",wordBreak:"break-all",justifyContent:"space-between",padding:"8px",borderRadius:"8px",":hover":{background:e.colors.BGPlaceholderOpaque}})),"label:LabelRadio;");ee.defaultProps=Object.assign(Object.assign({},ee.defaultProps),{"data-e2e":"report-card-reason"});const te=(0,x.Z)("div",{target:"ezqf9p610"})({position:"absolute",left:"50%",top:"50%",transform:"translate(-50% , -50%)"},"label:DivMMid;"),ie=(0,x.Z)("div",{target:"ezqf9p611"})((({theme:e})=>({padding:"8px",color:e.colors.TextPrimary,fontSize:"18px",lineHeight:"24px"})),"label:DivTitle;"),oe=(0,x.Z)("div",{target:"ezqf9p612"})((({theme:e})=>({padding:"4px 4px 10px 8px",color:e.colors.TextSecondary,fontSize:"16px",lineHeight:"22px"})),"label:DivSubTitle;"),ne=(0,x.Z)("li",{target:"ezqf9p613"})((({theme:e})=>({padding:"6px 6px 6px 0px",color:e.colors.TextSecondary,fontSize:"16px",lineHeight:"22px"})),"label:LiItem;"),ae=(0,x.Z)("div",{target:"ezqf9p614"})((({theme:e})=>({position:"absolute",bottom:"0",left:"0",height:"84px",width:"100%",borderTop:`0.5px solid ${e.colors.LinePrimary2}`,backgroundColor:e.colors.BGPrimary})),"label:DivFooter;"),re=(0,x.Z)("button",{target:"ezqf9p615"})((({theme:e})=>({height:"36px",padding:"7px 16px",lineHeight:"22px",fontSize:"16px",position:"absolute",cursor:"pointer",top:"24px",right:"24px",color:e.colors.ConstTextInverse,background:e.colors.Primary,border:"none",borderRadius:"4px",":disabled":{background:e.colors.BGPlaceholderDefault,color:e.colors.TextQuaternary}})),"label:ButtonSubmit;"),le=(0,x.Z)("div",{target:"ezqf9p616"})((({theme:e,top:t})=>({height:"72px",width:"72px",margin:"32px auto 24px",borderRadius:"36px",background:e.colors.BGView,padding:`${t}px 20px`})),"label:DivIconRoundBg;"),se=(0,x.Z)("div",{target:"ezqf9p617"})((({theme:e})=>({margin:"0px auto 16px",padding:"0 32px",color:e.colors.TextPrimary,textAlign:"center",lineHeight:"32px",fontSize:"24px"})),"label:DivFinishTitle;"),de=(0,x.Z)("div",{target:"ezqf9p618"})((({theme:e})=>({margin:"0px auto 24px",padding:"0 32px",color:e.colors.TextSecondary,textAlign:"center",lineHeight:"22px",fontSize:"16px"})),"label:DivFinishContent;"),ce=(0,x.Z)("button",{target:"ezqf9p619"})((({theme:e})=>({width:"336px",height:"46px",background:e.colors.Primary,margin:"0 32px 32px",borderRadius:"4px",textAlign:"center",lineHeight:"46px",fontSize:"16px",color:e.colors.ConstTextInverse,border:"none",cursor:"pointer"})),"label:ButtonFinish;"),ue=(0,x.Z)("div",{target:"e9ly1o60"})((({theme:e})=>({width:"400px",minHeight:"394px",background:e.colors.BGPrimary,borderRadius:"8px",overflow:"hidden"})),"label:DivWapper;"),pe=(0,x.Z)("div",{target:"e9ly1o61"})((({theme:e})=>({width:"100%",padding:"32px",textAlign:"center",lineHeight:"32px",fontSize:"24px",color:e.colors.TextPrimary})),"label:DivTitle;"),he=(0,x.Z)("div",{target:"e9ly1o62"})({display:"inline-block",verticalAlign:"middle",marginRight:"8px"},"label:DivIcon;"),me=(0,x.Z)("div",{target:"e9ly1o63"})((({theme:e})=>({height:"52px",margin:"0 33px",position:"relative",textAlign:"center",lineHeight:"52px",fontSize:"16px",color:e.colors.TextPrimary,borderBottom:`solid 1px ${e.colors.LineSecondary}`})),"label:DivRow;"),ge=(0,x.Z)("div",{target:"e9ly1o64"})((({theme:e})=>({height:"32px",paddingTop:"12px",marginBottom:"110px",textAlign:"center",lineHeight:"20px",fontSize:"14px",color:e.colors.Negative})),"label:DivReminder;"),ve=(0,x.Z)("div",{target:"e9ly1o65"})({height:"100%",float:"left",paddingLeft:"32px"},"label:DivReasonText;"),xe=(0,x.Z)("div",{target:"e9ly1o66"})({display:"flex",justifyContent:"space-between",position:"absolute",bottom:"0",width:"100%",padding:"32px"},"label:DivContain;"),be=(0,x.Z)("button",{target:"e9ly1o67"})((({theme:e,active:t,cancel:i})=>({width:"164px",height:"46px",flex:"0 1 auto",borderRadius:"4px",padding:"12px 0px",textAlign:"center",fontSize:"16px",cursor:"pointer",lineHeight:"16px",color:i?e.colors.TextPrimary:t?e.colors.ConstTextInverse:e.colors.TextQuaternary,backgroundColor:i?e.colors.BGSecondary2:t?e.colors.Primary:e.colors.BGInput2,border:i?`1px solid ${e.colors.LineSecondary2}`:"none"})),"label:ButtonC;"),ye=(0,x.Z)("div",{target:"e9ly1o68"})((({top:e})=>({textAlign:"center",margin:`${e}px auto 0px`})),"label:DivMid;"),fe=(0,x.Z)("div",{target:"e9ly1o69"})({position:"absolute",top:"18px",left:"0px",height:"20px",lineHeight:"20px"},"label:DivSvg;"),_e=(0,x.Z)("button",{target:"e9ly1o610"})((({theme:e})=>({width:"240px",height:"44px",margin:"80px auto 0px",border:`1px solid ${e.colors.LineSecondary2}`,borderRadius:"2px",textAlign:"center",cursor:"pointer",color:e.colors.TextPrimary,fontSize:"16px",lineHeight:"22px",padding:"11px 0px",background:e.colors.BGTertiary2,display:"block"})),"label:ButtonRetry;"),je=20,ke=e=>{var t,i,r,s;const d=(0,u.Q)(),{colors:c}=(0,T.u)(),[p,h]=(0,a.useState)(!1),[m,g]=(0,a.useState)([]),[v,x]=(0,a.useState)(!1),b=(0,n.qj)(l.bg),y=(0,n.mp)(l.bg,{selector:e=>{const{lastStatus:t,requesting:i,loading:o,PageState:n,PageStateData:a,UserData:r,reportTarget:l}=e;return{lastStatus:t,requesting:i,loading:o,PageState:n,PageStateData:a,UserData:r,reportTarget:l}},dependencies:[]}),f=(0,a.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),y.reportTarget&&b.getReasons(y.reportTarget)}),[b,y.reportTarget]),_=(0,a.useCallback)((e=>t=>{t.preventDefault(),t.stopPropagation();const i=m.indexOf(e);if(i>-1){const e=[...m];e.splice(i,1),g(e),h(e.length>0)}else{const t=[...m,e];g(t),x(0===t.length),h(t.length>0)}}),[m]),j=(0,a.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),m.length>0?b.postReport({reason:m,extraData:null}):x(!0)}),[b,m]),k=e=>0===e?(0,o.jsx)(fe,{children:(0,o.jsx)(O,{width:je,height:je},void 0)},void 0):1===e?(0,o.jsx)(fe,{children:(0,o.jsx)(B,{width:je,height:je},void 0)},void 0):(0,o.jsx)(fe,{children:(0,o.jsx)(z,{width:je,height:je},void 0)},void 0);return(0,o.jsx)(ue,{children:y.loading?(0,o.jsx)(te,{children:(0,o.jsx)(I.g,{},void 0)},void 0):0===(null===(i=null===(t=y.PageStateData)||void 0===t?void 0:t.reasons)||void 0===i?void 0:i.length)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ye,Object.assign({top:57},{children:(0,o.jsx)(w.Z,{width:72,height:72},void 0)}),void 0),(0,o.jsx)(ye,Object.assign({top:20,style:{fontSize:"18px",lineHeight:"24px",color:c.TextPrimary}},{children:d("pm_mt_live_page_sth_wrong")}),void 0),(0,o.jsx)(ye,Object.assign({top:12,style:{fontSize:"16px",lineHeight:"22px",color:c.TextSecondary}},{children:d("pm_mt_live_page_try_again")}),void 0),(0,o.jsxs)(_e,Object.assign({onClick:f},{children:[(0,o.jsx)(S.Z,{width:14,height:14,style:{verticalAlign:"middle",marginRight:"8px"}},void 0),d("report_inbox_retry_btn")]}),void 0)]},void 0):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(pe,{children:d("km_report_question")},void 0),null===(s=null===(r=y.PageStateData)||void 0===r?void 0:r.reasons)||void 0===s?void 0:s.map(((e,t)=>(0,o.jsxs)(me,Object.assign({onClick:_(e.reason_type)},{children:[k(t),(0,o.jsx)(ve,{children:e.text},void 0),(0,o.jsx)(V,{style:{position:"absolute",right:"-22px",top:"15px"},bordertype:"checkbox",label:"",value:m.includes(e.reason_type)},void 0)]}),e.reason_type))),v?(0,o.jsxs)(ge,{children:[(0,o.jsx)(he,{children:(0,o.jsx)(P.Z,{width:14,height:14},void 0)},void 0),(0,o.jsx)("span",{children:d("km_pick_reason")},void 0)]},void 0):null,(0,o.jsxs)(xe,{children:[(0,o.jsx)(be,Object.assign({cancel:!0,active:!1,onClick:e.onClose},{children:d("copyright_check_post_popup_cancel")}),void 0),(0,o.jsx)(be,Object.assign({cancel:!1,active:p,onClick:j},{children:d("choosepassword_button")}),void 0)]},void 0)]},void 0)},void 0)};var Ce=i(958),we=i(71108),Se=i(6075),Pe=i.n(Se),Te=i(54075);const Ie=(0,x.Z)("div",{target:"e1fkwyf80"})({position:"fixed",left:0,top:0,right:0,bottom:0,zIndex:1001},"label:DivPreviewImageContainer;"),De=(0,x.Z)("div",{target:"e1fkwyf81"})((({theme:e})=>({position:"absolute",left:0,top:0,right:0,bottom:0,background:e.colors.SDPrimary})),"label:DivMaskContainer;"),Oe=(0,x.Z)("div",{target:"e1fkwyf82"})({position:"absolute",zIndex:1,left:0,top:0,right:0,bottom:0},"label:DivImageContainer;"),Re=(0,x.Z)("div",{target:"e1fkwyf83"})({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"692px",height:"810px",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"contain"},"label:DivPreviewImage;"),Ze=(0,x.Z)("div",{target:"e1fkwyf84"})((({theme:e})=>({position:"absolute",top:"20px",right:"20px",width:"48px",height:"48px",borderRadius:"24px",backgroundColor:e.colors.ConstTextInverse5,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",":hover":{opacity:.7}})),"label:DivIconClose;"),Be={position:"absolute",top:"50%",transform:"translateY(-50%)",width:"48px",height:"48px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",opacity:.5,":hover":{opacity:1}},Me=(0,x.Z)("div",{target:"e1fkwyf85"})(Object.assign(Object.assign({},Be),{left:"32px"}),"label:DivIconPrev;"),Le=(0,x.Z)("div",{target:"e1fkwyf86"})(Object.assign(Object.assign({},Be),{left:"auto",right:"32px"}),"label:DivIconNext;"),ze=(0,a.memo)((function({imgList:e,defaultIndex:t,onClose:i}){const[n,l]=(0,a.useState)(t>e.length-1?e.length-1:t<0?0:t),{showModal:c,hideModal:u}=(0,r.J)();(0,a.useEffect)((()=>(c(),()=>{u()})),[c,u]);const p=(0,a.useCallback)((()=>{null==i||i()}),[i]),h=(0,a.useCallback)((()=>l((e=>e-1))),[]),m=(0,a.useCallback)((()=>l((e=>e+1))),[]);return(0,o.jsxs)(Ie,{children:[(0,o.jsx)(De,{},void 0),(0,o.jsxs)(Oe,{children:[(0,o.jsx)(Re,{style:{backgroundImage:`url(${e[n]})`}},void 0),(0,o.jsx)(Ze,Object.assign({onClick:p},{children:(0,o.jsx)(Ce.Z,{height:24,width:24,fill:"#fff"},void 0)}),void 0),n>0&&(0,o.jsx)(Me,Object.assign({onClick:h},{children:(0,o.jsx)(d.Z,{height:30,width:30,fill:"#fff"},void 0)}),void 0),n<e.length-1&&(0,o.jsx)(Le,Object.assign({onClick:m},{children:(0,o.jsx)(s.Z,{height:30,width:30,fill:"#fff"},void 0)}),void 0)]},void 0)]},void 0)})),Fe=(0,x.Z)("div",{target:"e183km5u0"})((({theme:e})=>({fontFamily:e.fontFamilies.Proxima,fontWeight:e.fontWeights.normal,display:"flex",flexWrap:"wrap"})),"label:DivUploadImageContainer;"),Ee=(0,x.Z)("div",{target:"e183km5u1"})((({theme:e,size:t})=>({boxSizing:"border-box",width:`${t}px`,height:`${t}px`,display:"flex",alignItems:"center",flexDirection:"column",background:e.colors.BGInput,borderRadius:"2px",overflow:"hidden",cursor:"pointer",paddingTop:(t-30)/2+"px"})),"label:DivImageUploadElement;"),Ae=(0,x.Z)("div",{target:"e183km5u2"})((({theme:e,size:t})=>({width:`${t}px`,height:`${t}px`,marginRight:"12px",position:"relative",borderRadius:"2px",overflow:"hidden",cursor:"pointer",":before":{content:'""',position:"absolute",width:"200%",height:"200%",borderRadius:"4px",border:`1px solid ${e.colors.LineSecondary}`,transform:"scale(.5)",left:"-50%",top:"-50%",boxSizing:"border-box"},img:{objectFit:"cover",zIndex:3,transform:"translateZ(10px)"}})),"label:DivImageItem;"),$e=(0,x.Z)("span",{target:"e183km5u3"})({position:"absolute",display:"flex",boxSizing:"border-box",padding:"5px",top:0,right:0,width:"16px",height:"16px",background:"rgba(22, 24, 35, 0.75)",borderBottomLeftRadius:"2px",cursor:"pointer"},"label:SpanClose;"),Ue=(0,x.Z)("span",{target:"e183km5u4"})((({theme:e})=>({fontSize:"12px",lineHeight:"15px",color:e.colors.TextTertiary,marginTop:"4px"})),"label:SpanImageNumber;"),Ve=(0,x.Z)("input",{target:"e183km5u5"})({display:"none",width:0,height:0},"label:InputImage;"),Ge=(0,x.Z)("div",{target:"e183km5u6"})({position:"absolute",left:"50%",top:"50%",transform:"translate(-50% , -50%)"},"label:DivMid;");let We=0;const qe=(e,t)=>e>=5242880?t?.1:.2:e>=1572864?t?.3:.5:e>=524288?t?.4:.6:t?.6:.8,He=(0,a.memo)((function({max:e,onChange:t,size:i=72}){const n=(0,m.fz)(Te.r),[r,l]=(0,a.useState)([]),[s,d]=(0,a.useState)(0),[c,u]=(0,a.useState)(!1),p=(0,a.useRef)([]),{colors:h}=(0,T.u)(),g=(0,a.useCallback)((t=>{const i=[],o=t.target.files,n=e-r.length;if(o){const e=o.length>n?n:o.length;for(let t=0;t<e;t++)if(o[t].type.match("image")){const n=new FileReader;n.readAsDataURL(o[t]),n.onload=t=>{i.push({id:We++,uri:t.target.result,uploaded:!1}),i.length===e&&l((e=>[...e,...i]))},p.current.push(o[t])}t.target.value=""}}),[e,r.length]),v=(0,a.useCallback)((e=>()=>{d(e),u(!0)}),[]),x=(0,a.useCallback)((e=>{const t=p.current[e];new(Pe())(t,{quality:qe(t.size),convertSize:1048576,success:i=>{p.current[e]=i,i.with=t.width,i.height=t.height,n.uploadImage([i]).subscribe((t=>{const o=[...r];o[e]=Object.assign(Object.assign(Object.assign({},o[e]),t.data[0]),{size:i.size,uploaded:!0}),l(o)}))}})}),[r,p,n]),b=e=>()=>{const t=r.slice();t.splice(e,1),l(t),p.current.splice(e,1)},y=(0,a.useCallback)((()=>{u(!1)}),[]);return(0,a.useEffect)((()=>{r.forEach(((e,t)=>{!1===r[t].uploaded&&x(t)})),t(r)}),[r,t,x]),(0,o.jsxs)("div",{children:[(0,o.jsxs)(Fe,{children:[r.map(((e,t)=>(0,o.jsxs)(Ae,Object.assign({size:i},{children:[(0,o.jsx)("img",{src:e.uri,width:i,height:i,style:e.uploaded?{}:{filter:"blur(1px)"},onClick:v(t)},void 0),(0,o.jsx)($e,Object.assign({className:"close",onClick:b(t)},{children:(0,o.jsx)(Ce.Z,{width:7,height:7,fill:"#fff"},void 0)}),void 0),e.uploaded?null:(0,o.jsx)(Ge,{children:(0,o.jsx)(I.g,{size:20},void 0)},void 0)]}),e.id))),c&&(0,o.jsx)(ze,{defaultIndex:s,imgList:r.map((e=>e.uri)),onClose:y},void 0),e<=r.length?null:(0,o.jsx)("label",Object.assign({htmlFor:"upload-image-file"},{children:(0,o.jsxs)(Ee,Object.assign({size:i},{children:[(0,o.jsx)(we.Z,{height:30,width:30,fill:h.TextTertiary},void 0),(0,o.jsxs)(Ue,Object.assign({className:"img-number"},{children:[r.length,"/",e]}),void 0)]}),void 0)}),void 0)]},void 0),(0,o.jsx)(Ve,{multiple:!0,className:"file-input",accept:"image/png,image/jpeg,image/jpg,image/bmp",type:"file",onChange:g,id:"upload-image-file"},void 0)]},void 0)})),Ne=(0,x.Z)("div",{target:"egyld0v0"})({height:"580px",padding:"0px",overflowY:"auto",overflowX:"hidden",paddingBottom:"84px"},"label:DivKopigContainer;"),Ye=(0,x.Z)("div",{target:"egyld0v1"})({display:"flex",flexDirection:"column",alignItems:"stretch",padding:"0px"},"label:DivScrollContainer;"),Qe=(0,x.Z)("div",{target:"egyld0v2"})({display:"flex",flexDirection:"row",justifyContent:"center",boxSizing:"border-box",padding:"16px 24px 12px"},"label:DivSectionHeader;"),Je=(0,x.Z)("div",{target:"egyld0v3"})((({theme:e})=>({display:"flex",flexDirection:"row",boxSizing:"border-box",fontSize:"16px",padding:"16px 24px",lineHeight:"22px",color:e.colors.TextSecondary,backgroundColor:e.colors.BGView,marginBottom:"8px"})),"label:DivSectionLine;"),Ke=(0,x.Z)("span",{target:"egyld0v4"})((({theme:e})=>({flex:1,fontSize:"18px",lineHeight:"24px",fontFamily:e.fontFamilies.Proxima,fontWeight:e.fontWeights.semiBold,color:e.colors.TextPrimary})),"label:SpanSectionTitle;"),Xe=(0,x.Z)("span",{target:"egyld0v5"})((({theme:e})=>({fontSize:"16px",lineHeight:"22px",color:e.colors.TextSecondary})),"label:SpanWordCount;"),et=e=>({borderStyle:"none",borderColor:"transparent",boxShadow:"none",outline:"none",margin:"0px 24px",borderRadius:"4px",fontSize:"16px",fontFamily:e.fontFamilies.Proxima,fontWeight:e.fontWeights.normal,color:e.colors.TextPrimary,":placeholder":{color:e.colors.TextTertiary}}),tt=(0,x.Z)("textarea",{target:"egyld0v6"})((({theme:e})=>Object.assign(Object.assign({},et(e)),{resize:"none",height:"80px"})),"label:TextareaDescription;"),it=(0,x.Z)("input",{target:"egyld0v7"})((({theme:e})=>Object.assign(Object.assign({},et(e)),{borderBottom:`1px solid ${e.colors.LineSecondary}`,height:"40px"})),"label:InputSignature;"),ot=(0,x.Z)("div",{target:"egyld0v8"})({margin:"4px 24px"},"label:DivImageUploader;"),nt=(0,x.Z)("div",{target:"egyld0v9"})((({theme:e})=>({marginTop:"4px",fontFamily:e.fontFamilies.Proxima,fontWeight:e.fontWeights.normal,fontSize:"12px",color:e.colors.Primary})),"label:DivFileSizeWarning;"),at=(0,x.Z)("div",{target:"egyld0v10"})({fontSize:"16px",lineHeight:"24px",padding:"16px 24px 0"},"label:DivCheckboxConfirm;"),rt=(0,x.Z)("div",{target:"egyld0v11"})((({theme:e})=>({marginTop:"20px",padding:"0px 24px",fontSize:"14px",lineHeight:"20px",color:e.colors.TextSecondary})),"label:DivInfo;"),lt=(0,a.memo)((function(){var e,t,i,r,s;const d=(0,u.Q)(),c=(0,n.qj)(l.bg),p=(0,n.mp)(l.bg,{selector:e=>{const{UserData:t,PreState:i}=e;return{UserData:t,PreState:i}},dependencies:[]}),[h,m]=(0,a.useState)(""),[g,v]=(0,a.useState)([]),[x,b]=(0,a.useState)(""),[y,f]=(0,a.useState)(!1),[_,j]=(0,a.useState)(!1),[k,C]=(0,a.useState)(!1);(0,a.useEffect)((()=>{!g.some((e=>!0!==e.uploaded))&&!_&&y&&x.length>0?C(!0):C(!1)}),[h,g,x,y,_]);const w=(0,a.useCallback)((e=>{j(!1);for(const t of e)t.size&&t.size>20971520&&j(!0);v(e)}),[]),S=(0,a.useCallback)((e=>{e.stopPropagation()}),[]),P=(0,a.useCallback)((e=>m(e.target.value)),[]),T=(0,a.useCallback)((e=>b(e.target.value)),[]),I=(0,a.useCallback)((e=>f(e)),[]),D=(0,a.useCallback)((e=>{var t,i,o,n;if(e.preventDefault(),e.stopPropagation(),(null===(i=null===(t=p.UserData)||void 0===t?void 0:t.selectedReason)||void 0===i?void 0:i.reason_type)&&k){const e={is_netzdg:1,report_desc:h,uri:g.map((e=>e.url)).join(","),report_signature:x};c.postReport({reason:null===(n=null===(o=p.UserData)||void 0===o?void 0:o.selectedReason)||void 0===n?void 0:n.reason_type,extraData:e})}}),[h,g,x,null===(t=null===(e=p.UserData)||void 0===e?void 0:e.selectedReason)||void 0===t?void 0:t.reason_type,k,c]),O=8===(null===(r=null===(i=p.UserData)||void 0===i?void 0:i.selectedReason)||void 0===r?void 0:r.special_type);return(0,o.jsxs)(Ne,{children:[(0,o.jsxs)(Ye,{children:[(0,o.jsx)(Je,{children:`${d("Web_report_reason_select")} ${null===(s=p.UserData.selectedReason)||void 0===s?void 0:s.text}`},void 0),(0,o.jsxs)(Qe,{children:[(0,o.jsx)(Ke,{children:d("Web_report_description")},void 0),(0,o.jsxs)(Xe,{children:[h.length,"/",200]},void 0)]},void 0),(0,o.jsx)(tt,{rows:5,maxLength:200,placeholder:d("Please provide as much detail as possible"),value:h,onChange:P,onKeyDown:S},void 0),(0,o.jsxs)(ot,{children:[(0,o.jsx)(He,{max:4,onChange:w},void 0),_&&(0,o.jsx)(nt,{children:d("attachment_upload_limit")},void 0)]},void 0),(0,o.jsx)(Qe,{children:(0,o.jsx)(Ke,{children:d("Signature")},void 0)},void 0),(0,o.jsx)(it,{placeholder:d("Sign_here"),value:x,maxLength:100,onChange:T,onKeyDown:S},void 0),(0,o.jsx)(at,{children:(0,o.jsx)(V,{label:d("Report_confirmation"),value:y,onChange:I},void 0)},void 0),O&&(0,o.jsx)(rt,{children:d("avia_law_false_report_warning")},void 0),(0,o.jsx)(rt,{children:d("Web_report_description_tips")},void 0)]},void 0),(0,o.jsx)(ae,{children:(0,o.jsx)(re,Object.assign({disabled:!k,onClick:D},{children:d("Submit")}),void 0)},void 0)]},void 0)}));var st=i(86987);const dt=(0,x.Z)("div",{target:"e10dth7g0"})((({top:e})=>({textAlign:"center",margin:`${e}px auto 0px`})),"label:DivMid;"),ct=(0,x.Z)("button",{target:"e10dth7g1"})((({theme:e})=>({width:"240px",height:"44px",margin:"133px auto 0px",border:`1px solid ${e.colors.LineSecondary2}`,borderRadius:"2px",textAlign:"center",cursor:"pointer",color:e.colors.TextPrimary,fontSize:"16px",lineHeight:"22px",padding:"11px 0px",background:e.colors.BGTertiary2,display:"block"})),"label:ButtonRetry;"),ut=()=>{var e,t,i,r,c;const p=(0,u.Q)(),{isRTL:m}=(0,h.Y)(),{$user:g}=null!==(e=(0,st.L)((()=>["$user","$region"]),[]))&&void 0!==e?e:{},v=(0,n.qj)(l.bg),{colors:x}=(0,T.u)(),b=(0,n.mp)(l.bg,{selector:e=>{const{lastStatus:t,requesting:i,loading:o,PageState:n,PageStateData:a,UserData:r,reportTarget:l}=e;return{lastStatus:t,requesting:i,loading:o,PageState:n,PageStateData:a,UserData:r,reportTarget:l}},dependencies:[]}),y=(0,a.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),b.reportTarget&&v.getReasons(b.reportTarget)}),[v,b.reportTarget]),f=(0,a.useCallback)((e=>t=>{var i,o,n,a,r,s,d,c,u,p,h,m;t.preventDefault(),t.stopPropagation();const x=null===(o=null===(i=b.PageStateData)||void 0===i?void 0:i.reasons)||void 0===o?void 0:o.find((t=>t.reason_type===e));if(x&&v.setUserData({selectedReason:x,HistoryReason:[...null!==(n=b.UserData.HistoryReason)&&void 0!==n?n:[],x]}),!x)return;const y=Boolean(g);let f=null;switch(x.special_type){case 2:f=(0,l.yM)({reportTarget:b.reportTarget});break;case 6:(!y&&"video"===(null===(a=b.reportTarget)||void 0===a?void 0:a.report_type)||!y&&"comment"===(null===(r=b.reportTarget)||void 0===r?void 0:r.report_type))&&(f=(0,l.Hx)({reportTarget:b.reportTarget}));break;case 8:(!y&&"video"===(null===(s=b.reportTarget)||void 0===s?void 0:s.report_type)||!y&&"comment"===(null===(d=b.reportTarget)||void 0===d?void 0:d.report_type))&&(f=(0,l.g0)({reportTarget:b.reportTarget}))}f?window.open(f,"_blank","noopener,noreferrer"):!x||(null===(c=x.next_reason)||void 0===c?void 0:c.length)?v.handleNextReason({nextReason:null!==(u=x.next_reason)&&void 0!==u?u:[],reason_id:x.reason_type}):[1,4].includes(x.special_type)&&(null===(p=b.PageStateData)||void 0===p?void 0:p.reasons)&&x.reason_type!==(null===(h=b.PageStateData)||void 0===h?void 0:h.reasons[0].reason_type)?v.handleNextForm(3):b.UserData.HistoryReason&&[...l.wC,...l.T].includes(null===(m=b.UserData.HistoryReason[0])||void 0===m?void 0:m.reason_type)||[8].includes(x.special_type)?v.handleNextForm(2):v.handleNextForm(1)}),[b.PageStateData,v,b.UserData.HistoryReason,g,b.reportTarget]);return(0,o.jsx)(J,{children:b.loading?(0,o.jsx)(te,{children:(0,o.jsx)(I.g,{},void 0)},void 0):0===(null===(i=null===(t=b.PageStateData)||void 0===t?void 0:t.reasons)||void 0===i?void 0:i.length)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(dt,Object.assign({top:57},{children:(0,o.jsx)(w.Z,{width:72,height:72},void 0)}),void 0),(0,o.jsx)(dt,Object.assign({top:20,style:{fontSize:"18px",lineHeight:"24px",color:x.TextPrimary}},{children:p("pm_mt_live_page_sth_wrong")}),void 0),(0,o.jsx)(dt,Object.assign({top:12,style:{fontSize:"16px",lineHeight:"22px",color:x.TextSecondary}},{children:p("pm_mt_live_page_try_again")}),void 0),(0,o.jsxs)(ct,Object.assign({onClick:y},{children:[(0,o.jsx)(S.Z,{width:14,height:14,style:{verticalAlign:"middle",marginRight:"8px"}},void 0),p("report_inbox_retry_btn")]}),void 0)]},void 0):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(K,{children:p("Please select a scenario")},void 0),null===(c=null===(r=b.PageStateData)||void 0===r?void 0:r.reasons)||void 0===c?void 0:c.map((e=>(0,o.jsxs)(ee,Object.assign({onClick:f(e.reason_type)},{children:[(0,o.jsx)(X,{children:e.text},void 0),m?(0,o.jsx)(d.Z,{style:{color:x.TextTertiary},width:20,height:20},void 0):(0,o.jsx)(s.Z,{style:{color:x.TextTertiary},width:20,height:20},void 0)]}),e.reason_type)))]},void 0)},void 0)};var pt=i(96510),ht=i(3624);const mt=(0,x.Z)("div",{target:"eshtx6u0"})((({theme:e})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,margin:"0 15px",paddingTop:"30px"})),"label:DivUserBlockSection;"),gt=(0,x.Z)("div",{target:"eshtx6u1"})((({theme:e})=>({fontSize:"13px",lineHeight:"17px",color:e.colors.TextTertiary,paddingLeft:"12px"})),"label:DivUserBlockTitle;"),vt=(0,x.Z)("div",{target:"eshtx6u2"})({marginTop:"13px",height:"46px",paddingLeft:"12px",marginBottom:"24px"},"label:DivUserBlock;"),xt=(0,x.Z)("div",{target:"eshtx6u3"})((({theme:e})=>({width:"46px",height:"46px",marginRight:"13px",display:"inline-block",float:"left",backgroundColor:e.colors.BGInput,padding:"11px",borderRadius:"50%"})),"label:DivUserBlockIcon;"),bt=(0,x.Z)("div",{target:"eshtx6u4"})((({theme:e})=>({lineHeight:"46px",height:"46px",fontSize:"15px",color:e.colors.TextPrimary,display:"inline-block",float:"left"})),"label:DivUserBlockName;"),yt=({onClose:e})=>{var t,i,r,s;const d=(0,u.Q)(),c=(0,n.qj)(l.bg),{colors:p}=(0,T.u)(),h=(0,n.mp)(l.bg,{selector:e=>{const{UserData:t,reportTarget:i}=e;return{reportTarget:i,UserData:t}},dependencies:[]}),m=(0,a.useCallback)((()=>{e()}),[e]),g=(0,a.useCallback)((()=>{c.handleNextForm(4)}),[c]),{submitresult:v}=h.UserData,{title:x="Thanks",content:b="We’ll review your report and if there is a violation of our Community Guidelines, we’ll take appropriate action.",button:y="Done",success:f=!0}=null!=v?v:{};return(0,o.jsxs)("div",{children:[(0,o.jsx)(le,Object.assign({top:f?25:20},{children:f?(0,o.jsx)(F.Z,{width:32,height:22,style:{color:p.Positive}},void 0):(0,o.jsx)(pt.Z,{width:32,height:32},void 0)}),void 0),(0,o.jsx)(se,{children:null!==(t=d(x))&&void 0!==t?t:x},void 0),(0,o.jsx)(de,{children:b},void 0),"user"===(null===(i=h.reportTarget)||void 0===i?void 0:i.report_type)?(0,o.jsxs)(mt,Object.assign({onClick:g},{children:[(0,o.jsx)(gt,{children:d("Web_report_you_can_also")},void 0),(0,o.jsxs)(vt,{children:[(0,o.jsx)(xt,{children:(0,o.jsx)(ht.Z,{width:24,height:24},void 0)},void 0),(0,o.jsxs)(bt,{children:[d("webdm_block")," ",null===(r=h.reportTarget)||void 0===r?void 0:r.nickname]},void 0)]},void 0)]}),void 0):null,(0,o.jsx)(ce,Object.assign({onClick:m},{children:null!==(s=d(y))&&void 0!==s?s:y}),void 0)]},void 0)},ft=()=>{var e,t;const i=(0,u.Q)(),r=(0,n.qj)(l.bg),s=(0,n.mp)(l.bg,{selector:e=>{const{UserData:t}=e;return{UserData:t}},dependencies:[]}),d=(0,a.useCallback)((e=>{var t,i,o,n;e.preventDefault(),e.stopPropagation(),(null===(i=null===(t=s.UserData)||void 0===t?void 0:t.selectedReason)||void 0===i?void 0:i.reason_type)&&r.postReport({reason:null===(n=null===(o=s.UserData)||void 0===o?void 0:o.selectedReason)||void 0===n?void 0:n.reason_type,extraData:null})}),[r,null===(t=null===(e=s.UserData)||void 0===e?void 0:e.selectedReason)||void 0===t?void 0:t.reason_type]);let c={title:"",subtitle:"",introduction:""};return s.UserData.selectedReason&&(c=(JSON.parse(s.UserData.selectedReason.option)||{}).intro||{}),(0,o.jsxs)(J,{children:[(0,o.jsx)(ie,{children:c.title},void 0),(0,o.jsx)(oe,{children:c.subtitle},void 0),(0,o.jsx)("ul",Object.assign({style:{margin:"0px",paddingInlineStart:"26px"}},{children:(c.introduction||"").split("\n").map((e=>(0,o.jsx)(ne,{children:(0,o.jsx)("span",{children:e},void 0)},e)))}),void 0),(0,o.jsx)(ae,{children:(0,o.jsx)(re,Object.assign({onClick:d},{children:i("Submit")}),void 0)},void 0)]},void 0)};var _t=i(8666),jt=i(69569),kt=i(79095);const Ct=(0,i(75246).F4)({"0%":{transform:"rotate(0deg)"},"50%":{transform:"rotate(180deg)"},"100%":{transform:"rotate(360deg)"}}),wt=(0,x.Z)("div",{target:"e1n5v3jy0"})({animation:`${Ct} 1s ease-out infinite`,width:"16px",height:"16px"},"label:DivRotate;"),St=(0,x.Z)("input",{target:"e1n5v3jy1"})((({theme:e})=>({borderTop:"0px",borderLeft:"0px",borderRight:"0px",borderBottom:`1px solid ${e.colors.LineSecondary}`,fontSize:"16px",width:"100%",padding:"14px 0px",lineHeight:"22px",outline:"none",marginTop:"14px"})),"label:InputUser;"),Pt=(0,x.Z)("div",{target:"e1n5v3jy2"})((({theme:e})=>({padding:"8px 0px",borderBottom:`1px solid ${e.colors.LineSecondary}`})),"label:DivUserCC;"),Tt=(0,x.Z)("div",{target:"e1n5v3jy3"})({width:"100%",height:"64px",position:"relative"},"label:DivC;"),It=(0,x.Z)("div",{target:"e1n5v3jy4"})({height:"48px",position:"relative"},"label:DivUserInfo;"),Dt=(0,x.Z)("img",{target:"e1n5v3jy5"})({width:"48px",height:"48px",borderRadius:"50%",position:"absolute",left:"0",top:"0"},"label:ImgUserAvator;"),Ot=(0,x.Z)("div",{target:"e1n5v3jy6"})((({theme:e})=>({position:"absolute",left:"60px",top:"0px",height:"25px",lineHeight:"25px",fontSize:"18px",color:e.colors.TextPrimary})),"label:DivUserName;"),Rt=(0,x.Z)("div",{target:"e1n5v3jy7"})((({theme:e})=>({position:"absolute",left:"60px",top:"27px",height:"20px",lineHeight:"20px",fontSize:"14px",color:e.colors.TextPrimary})),"label:DivUserId;"),Zt=(0,x.Z)("div",{target:"e1n5v3jy8"})({position:"absolute",right:"16px",bottom:"16px",width:"16px",height:"16px"},"label:DivCbutton;"),Bt=(0,x.Z)("li",{target:"e1n5v3jy9"})((({theme:e})=>({width:"100%",height:"64px",padding:"8px 16px",":hover":{background:e.colors.BGPlaceholderOpaque}})),"label:LiUser;"),Mt=(0,x.Z)("ul",{target:"e1n5v3jy10"})((({theme:e})=>({position:"relative",margin:"0px",width:"100%",maxHeight:"360px",overflowY:"scroll",padding:"0px",background:e.colors.BGPrimary,boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",borderRadius:"8px",zIndex:22})),"label:UlUser;");let Lt=null;const zt=(0,a.memo)((function({onChange:e}){const t=(0,u.Q)(),i=(0,m.fz)(kt.o),[n,r]=(0,a.useState)(!1),[l,s]=(0,a.useState)(""),[d,c]=(0,a.useState)(null),[p,h]=(0,a.useState)([]),[g,v]=(0,a.useState)(!1),[x,b]=(0,a.useState)(0),[y,f]=(0,a.useState)(!0),_=(0,a.useCallback)((t=>{d&&(c(null),b(0),s(""),h([]),e(null))}),[d,e]),j=(0,a.useCallback)((t=>i=>{i.preventDefault(),i.stopPropagation(),c(t),r(!1),e(t)}),[e]),k=(0,a.useCallback)(((e,t)=>{!g&&y&&(v(!0),i.getUserSearch({keyword:e,cursor:t}).subscribe((e=>{var i;if(v(!1),0===e.status_code||203===e.status_code){f(Boolean(e.has_more));const o=e.user_list,n=null!==(i=null==o?void 0:o.map((e=>({uid:e.user_info.uid,nickname:e.user_info.nickname,username:e.user_info.unique_id,avatar:e.user_info.avatar_thumb.url_list.find((e=>e.indexOf(".jpeg")>-1))||e.user_info.avatar_thumb.url_list[0],isVerify:Boolean(e.user_info.custom_verify||e.user_info.verify_info_tt||e.user_info.enterprise_verify_reason)}))))&&void 0!==i?i:[],a=[...0===t?[]:p,...n];b(a.length),h(a),r(!0)}})))}),[g,y,i,p]),C=(0,a.useCallback)((e=>{const t=e.target.value;s(t),Lt&&clearTimeout(Lt),Lt=setTimeout((()=>{t&&k(t,0)}),1e3)}),[k]),w=(0,a.useCallback)((e=>{const t=e.target;t.scrollHeight-t.scrollTop===t.clientHeight&&!g&&k(l,x)}),[l,x,k,g]);return(0,o.jsxs)("div",{children:[(0,o.jsxs)(Tt,{children:[d?(0,o.jsx)(Pt,{children:(0,o.jsxs)(It,{children:[(0,o.jsx)(Dt,{src:d.avatar},void 0),(0,o.jsxs)(Ot,{children:[(0,o.jsx)("span",Object.assign({style:{paddingRight:"4px"}},{children:d.nickname}),void 0),d.isVerify?(0,o.jsx)(_t.Z,{style:{verticalAlign:"middle"},width:14,height:14,"data-e2e":"user-bluev"},void 0):null]},void 0),(0,o.jsx)(Rt,{children:d.username},void 0)]},void 0)},void 0):(0,o.jsx)(St,{value:l,placeholder:t("Web_report_account_impersonated_search"),onChange:C},void 0),(0,o.jsx)(Zt,Object.assign({onClick:_},{children:d?(0,o.jsx)(jt.Z,{style:{fontSize:16}},void 0):g?(0,o.jsx)(wt,{children:(0,o.jsx)(S.Z,{style:{fontSize:16}},void 0)},void 0):null}),void 0)]},void 0),n?(0,o.jsx)(Mt,Object.assign({onScroll:w},{children:p.map((e=>(0,o.jsx)(Bt,{children:(0,o.jsxs)(It,Object.assign({onClick:j(e)},{children:[(0,o.jsx)(Dt,{src:e.avatar},void 0),(0,o.jsxs)(Ot,{children:[(0,o.jsx)("span",Object.assign({style:{paddingRight:"4px"}},{children:e.nickname}),void 0),e.isVerify?(0,o.jsx)(_t.Z,{style:{verticalAlign:"middle"},width:14,height:14,"data-e2e":"user-bluev"},void 0):null]},void 0),(0,o.jsx)(Rt,{children:e.username},void 0)]}),void 0)},e.username)))}),void 0):null]},void 0)})),Ft=(0,x.Z)("div",{target:"e1xsicpb0"})((({theme:e})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,height:"65vh",overflowY:"hidden",overflowX:"hidden"})),"label:DivRadioWrapper;"),Et=(0,x.Z)("div",{target:"e1xsicpb1"})((({theme:e})=>({height:"54px",width:"100%",backgroundColor:e.colors.BGView,padding:"16px 24px",color:e.colors.TextSecondary,fontSize:"16px",lineHeight:"22px"})),"label:DivReport;"),At=(0,x.Z)("div",{target:"e1xsicpb2"})((({theme:e})=>({marginTop:"24px",fontSize:"18px",lineHeight:"24px",height:"24px",padding:"0 24px",color:e.colors.TextPrimary})),"label:DivUTitle;"),$t=(0,x.Z)("div",{target:"e1xsicpb3"})((({theme:e})=>({marginTop:"10px",fontSize:"16px",lineHeight:"22px",height:"22px",color:e.colors.TextTertiary,padding:"0 24px"})),"label:DivUSubTitle;"),Ut=(0,x.Z)("div",{target:"e1xsicpb4"})((({theme:e})=>({position:"absolute",bottom:"96px",left:"0",width:"100%",fontSize:"14px",lineHeight:"20px",color:e.colors.TextSecondary,padding:"0 24px"})),"label:DivDesc;"),Vt=(0,x.Z)("div",{target:"e1xsicpb5"})({marginTop:"12px",padding:"0px 24px"},"label:DivUser;"),Gt=()=>{var e,t;const i=(0,u.Q)(),r=(0,n.qj)(l.bg),[s,d]=(0,a.useState)(null),[c,p]=(0,a.useState)(!0),h=(0,n.mp)(l.bg,{selector:e=>{const{UserData:t}=e;return{UserData:t}},dependencies:[]}),m=(0,a.useCallback)((e=>{e?(p(!1),d(e)):(p(!0),d(null))}),[]),g=(0,a.useCallback)((e=>{if(e.preventDefault(),e.stopPropagation(),h.UserData.selectedReason&&s){const e={related_username:s.username,related_ttid:s.uid};r.postReport({reason:h.UserData.selectedReason.reason_type,extraData:e})}}),[r,h.UserData.selectedReason,s]);let v="";if(h.UserData.HistoryReason){const i=(null===(e=h.UserData.HistoryReason)||void 0===e?void 0:e.length)||2;i>=2&&(v=(null===(t=h.UserData.HistoryReason[i-2])||void 0===t?void 0:t.text)||"")}return(0,o.jsxs)(Ft,{children:[(0,o.jsxs)(Et,{children:[i("Web_report_reason_select"),v]},void 0),(0,o.jsx)(At,{children:i("Web_report_account_impersonated")},void 0),(0,o.jsx)($t,{children:i("Web_report_account_impersonated_description")},void 0),(0,o.jsx)(Vt,{children:(0,o.jsx)(zt,{onChange:m},void 0)},void 0),(0,o.jsx)(Ut,{children:i("Web_report_description_tips")},void 0),(0,o.jsx)(ae,{children:(0,o.jsx)(re,Object.assign({disabled:c,onClick:g},{children:i("Submit")}),void 0)},void 0)]},void 0)},Wt=(0,a.memo)((function({onClose:e,visible:t}){const i=(0,u.Q)(),{isRTL:r}=(0,h.Y)(),m=(0,n.qj)(l.bg),g=(0,n.mp)(l.bg,{selector:e=>{const{PageState:t,PreState:i}=e;return{PageState:t,PreState:i}},dependencies:[]}),v=(0,a.useCallback)((()=>{m.resetState(),e()}),[e,m]),x=(0,a.useCallback)((()=>{m.handlePrevStep()}),[m]),b=i("Report"),y=g.PreState.length>0,f=()=>0===g.PageState?(0,o.jsx)(ut,{},void 0):1===g.PageState?(0,o.jsx)(ft,{},void 0):5===g.PageState?(0,o.jsx)(yt,{onClose:v},void 0):3===g.PageState?(0,o.jsx)(Gt,{},void 0):2===g.PageState?(0,o.jsx)(lt,{},void 0):4===g.PageState?(0,o.jsx)(k,{onClose:v},void 0):6===g.PageState?(0,o.jsx)(ke,{onClose:v},void 0):void 0;return(0,o.jsx)(p.u,Object.assign({visible:t,onClose:v,maskCloseable:6===g.PageState,keyboardCloseable:!1},{children:[0,1,2,3].includes(g.PageState)?(0,o.jsxs)(W,{children:[(0,o.jsxs)(H,Object.assign({isBackable:y},{children:[y&&(0,o.jsx)(N,Object.assign({onClick:x},{children:r?(0,o.jsx)(s.Z,{width:20,height:20},void 0):(0,o.jsx)(d.Z,{width:20,height:20},void 0)}),void 0),(0,o.jsx)(Q,{children:b},void 0),(0,o.jsx)(Y,Object.assign({"data-e2e":"report-card-cancel",onClick:v},{children:(0,o.jsx)(c.Z,{width:14,height:14},void 0)}),void 0)]}),void 0),f()]},void 0):(0,o.jsx)(q,{children:f()},void 0)}),void 0)}));function qt(e){const t=function(t){const i=function({onClose:e}={}){const{hideModal:t}=(0,r.J)(),[i,s]=(0,n.b7)(l.bg,{selector:({showing:e})=>e,dependencies:[]}),d=(0,a.useCallback)((()=>{null==e||e(),t(),s.hideReport()}),[s,t,e]);return(0,o.jsx)(Wt,{onClose:d,visible:i},void 0)}();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e,Object.assign({},t),void 0),i]},void 0)};var i,s,d;return t.displayName=`WithReport(${i=e,null!==(d=null!==(s=i.displayName)&&void 0!==s?s:i.name)&&void 0!==d?d:"UnknownComponent"})`,t}},42018:(e,t,i)=>{i.d(t,{P:()=>o,G:()=>n});const o={0:{forceMute:!1,defaultMute:!1},1:{forceMute:!0,defaultMute:!0},2:{forceMute:!1,defaultMute:!1},3:{forceMute:!1,defaultMute:!1},4:{forceMute:!1,defaultMute:!1}},n=.8},52970:(e,t,i)=>{i.d(t,{Fk:()=>p,Mz:()=>h,s_:()=>m,DZ:()=>g,$v:()=>v,ru:()=>b,A4:()=>y});var o=i(32321),n=i(24246),a=i(32735),r=i(59719),l=i(35370),s=i(11166),d=i(42018),c=i(99915),u=i(57852);function p({loadingThreshold:e=1e3,isCurrentVideo:t}){const[i,o]=(0,a.useState)(!1),n=(0,a.useRef)(0),r=(0,a.useCallback)((()=>{n.current&&window.clearTimeout(n.current),o(!1)}),[]),l=(0,a.useCallback)((()=>{e?(n.current&&window.clearTimeout(n.current),n.current=window.setTimeout((()=>{o(!0)}),e)):o(!0)}),[e]);return(0,a.useEffect)((()=>(t||(window.clearTimeout(n.current),o(!1)),()=>window.clearTimeout(n.current))),[t]),{loading:i,handleCanPlayWithLoading:r,handlePauseWithLoading:r,handlePlayingWithLoading:r,handleErrorWithLoading:r,handleWaitingWithLoading:l}}function h(){const[e,t]=(0,a.useState)(!0),i=(0,a.useCallback)((()=>{t(!1)}),[]),o=(0,a.useCallback)((()=>{t(!0)}),[]);return(0,a.useEffect)((()=>{const e=(0,r.Y8)(i,o);return()=>{null==e||e()}}),[o,i]),e}function m(e){const t=(0,o.fz)(c.B),[i,r]=(0,n.b7)(s.x,{selector:e=>e.mute,dependencies:[]}),l=(0,a.useCallback)(((i,o="click")=>{t.handleSwitchSound({muted:i,playMode:e,enter_method:o}),u.Bv.setItem("muted",i),r.setMute(i),i||0!==u.Bv.getItem("volume")||(u.Bv.setItem("volume",d.G),r.setVolume(d.G))}),[r,e,t]);return{mute:i,setMute:l}}function g(){const[{mute:e,volume:t},i]=(0,n.b7)(s.x,{selector:e=>({mute:e.mute,volume:e.volume}),dependencies:[]}),o=(0,a.useCallback)(((e,t)=>{u.Bv.setItem("volume",e),i.setVolume(e),0===e?(u.Bv.setItem("muted",!0),i.setMute(!0)):t&&(u.Bv.setItem("muted",!1),i.setMute(!1))}),[i]);return{mute:e,volume:t,setVolume:o}}function v(e){const{setMute:t,setVolume:i}=(0,n.qj)(s.x);(0,a.useEffect)((()=>{var o,n;t(null!==(o=u.Bv.getItem("muted"))&&void 0!==o?o:d.P[e].defaultMute),i(null!==(n=u.Bv.getItem("volume"))&&void 0!==n?n:d.G)}),[])}const x="video_playback_error";function b(){const e=(0,o.fz)(l.n);return(0,a.useCallback)((t=>{var i,o,n;const a=null!==(o=null===(i=null==t?void 0:t.nativeEvent)||void 0===i?void 0:i.target)&&void 0!==o?o:null===(n=null==t?void 0:t.nativeEvent)||void 0===n?void 0:n.srcElement;if(a){const{error:{code:t=-1,message:i="Empty message"}={},networkState:o,readyState:n,src:r="",currentTime:l=0}=a;e.emitEvent(x,{code:t},{errorMessage:i,errorCode:t,readyState:n,networkState:o,isXgPlayer:"0"});const s={errorCode:t,errorMessage:i,src:r,currentTime:l,networkState:o,readyState:n};e.captureMessage(`Video playback error: ${JSON.stringify(s)}`,"error")}}),[e])}function y(){const e=(0,o.fz)(l.n);return(0,a.useCallback)((t=>{if(t)try{const{error:i,readyState:o,networkState:n,currentTime:a=0,currentSrc:r=""}=t,{code:l=-1,message:s="Empty message"}=null!=i?i:{};e.emitEvent(x,{code:l},{errorMessage:s,errorCode:String(l),readyState:String(o),networkState:String(n),isXgPlayer:"1"});const d={errorCode:l,errorMessage:s,src:r,currentTime:a,networkState:n,readyState:o,isXgPlayer:!0};e.captureMessage(`Video playback error: ${JSON.stringify(d)}`,"error")}catch(e){}}),[e])}},18515:(e,t,i)=>{i.d(t,{S:()=>n});var o=i(32735);function n(e){const{direction:t="ltr",progressRef:i,circleRef:n,barRef:a,initialPercent:r=0,draggingPercentCb:l,draggingStateCb:s,progressReportCallback:d}=e,[c,u]=(0,o.useState)(r),p=(0,o.useRef)(0),h=(0,o.useRef)(null),m=(0,o.useCallback)(((e,t="original")=>{if("number"!=typeof e||e!=e)return;const i=Math.min(1,Math.max(0,e));u(i),("dragging"!==t&&"stop"!==t||i!==h.current)&&(null==l||l(i),h.current=i)}),[l]),g=(0,o.useCallback)(((e,o="original")=>{if(!n.current||!i.current||!a.current)return;let r;e.stopPropagation();const l="vertical"===t?i.current.getBoundingClientRect().height:i.current.getBoundingClientRect().width,{x:s,y:c,width:u,height:h}=i.current.getBoundingClientRect();switch(t){case"vertical":r=c+h-e.clientY;break;case"rtl":r=s+u-e.clientX;break;default:r=e.clientX-s}if("start"===o)switch(t){case"vertical":{const e=a.current.getBoundingClientRect().height;p.current=Math.min(1,Math.max(0,e/l));break}default:{const e=a.current.getBoundingClientRect().width;p.current=Math.min(1,Math.max(0,e/l));break}}else{if("stop"===o){const e=Math.min(1,Math.max(0,r/l)),t=p.current;null==d||d(t,e)}m(r/l,o)}}),[n,i,a,t,m,d]),v=(0,o.useRef)((e=>{null==s||s(!0),e.preventDefault(),g(e,"dragging")})),x=(0,o.useRef)((e=>{document.removeEventListener("mouseup",x.current),document.removeEventListener("mousemove",v.current),g(e,"stop"),null==s||s(!1)}));return{percent:c,bindDrag:(0,o.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),g(e,"start"),document.addEventListener("mouseup",x.current),document.addEventListener("mousemove",v.current)}),[g]),seek:g,update:u}}},66163:(e,t,i)=>{i.d(t,{y:()=>r});var o=i(31191),n=i(21296),a=i(3585);let r=class{constructor(){this.handleCommentLike=e=>{var{isLike:t}=e,i=(0,o.__rest)(e,["isLike"]);const n=t?"like_comment":"cancel_like_comment";a.WB.event(n,i)},this.handlePostComment=e=>{a.WB.event("post_comment",e)},this.handleShowMoreReply=e=>{a.WB.event("show_more_reply",e)},this.handleCommentShow=e=>{a.WB.event("video_comment_show",e)},this.handleEnterText=e=>{a.WB.event("enter_text",e)},this.handleCloseText=e=>{a.WB.event("close_text",e)},this.handleSearchAt=e=>{a.WB.event("search_comment_at",e)},this.handleSelectAt=e=>{a.WB.event("add_comment_at",e)},this.handleEmojiSelect=e=>{a.WB.event("search_comment_emoji",e)},this.handleClose=e=>{a.WB.event("close_comment",e)},this.handleLeaveComment=e=>{a.WB.event("leave_comment_page",e)},this.handleKeepComment=e=>{a.WB.event("keep_editing_comment",e)},this.handleCopyCommentUrl=e=>{a.WB.event("web_comment_url",e)},this.handleMentionItemShow=e=>{a.WB.event("tag_mention_head_show",Object.assign(Object.assign({},e),{function:"mention"}))},this.handleTapComment=e=>{a.WB.event("tap_comment",e)},this.handleCloseCommentTab=()=>{a.WB.event("close_comment_tab",{enter_method:"click_cancel"})}}};r=(0,o.__decorate)([(0,n.G)()],r)},54701:(e,t,i)=>{i.d(t,{y:()=>r});var o=i(31191),n=i(21296),a=i(3585);let r=class{handleShowReport(e){a.WB.event("click_report",Object.assign(Object.assign({},e),{channel:"web"}))}handleReportSubmit(e){a.WB.event("web_report_submit",e)}handleReportNext(e){a.WB.event("web_choose_report_reason_next",e)}};r=(0,o.__decorate)([(0,n.G)()],r)},49449:(e,t,i)=>{i.d(t,{m:()=>o,x:()=>n});const o=e=>10229===e||10230===e,n=e=>isNaN(e)?"00:00":`${`0${Math.floor(e/60%60)}`.slice(-2)}:${`0${Math.floor(e%60)}`.slice(-2)}`},69971:(e,t,i)=>{i.d(t,{B:()=>h});var o=i(32735),n=i(12788),a=i(74512),r=i(63261),l=i(75246),s=i(40200);const d=(0,s.Z)("div",{target:"exhfy940"})({pointerEvents:"none",position:"fixed",zIndex:1e3},"label:DivDoubleTapContainer;"),c=(0,l.F4)({"0%":{opacity:"1",transform:"scale(1.18)"},"14%":{opacity:"1",transform:"scale(.9)"},"21%":{opacity:"1",transform:"scale(1)"},"58%":{opacity:"1",transform:"scale(1)"},"100%":{opacity:"0",transform:"scale(1.93)"}}),u=(0,s.Z)(r.Z,{target:"exhfy941"})({animation:`${c} 1400ms`,width:"120px",height:"120px"},"label:StyledLikeIcon;"),p=function({x:e,y:t}){const i=Math.floor(61*Math.random()-30);return(0,a.jsx)(d,Object.assign({style:{left:e-60,top:t-60,transform:`rotate(${i}deg)`}},{children:(0,a.jsx)(u,{},void 0)}),void 0)};class h{constructor(e,t){this.x=e,this.y=t,this.el=document.createElement("div")}emit(){document.body.appendChild(this.el),(0,n.render)((0,o.createElement)(p,{x:this.x,y:this.y}),this.el),window.setTimeout((()=>{this.destroy()}),1400)}destroy(){(0,n.unmountComponentAtNode)(this.el),document.body.removeChild(this.el)}}},99583:(e,t,i)=>{i.d(t,{V:()=>n});var o=i(32735);const n=()=>{const e=(0,o.useRef)(-1),[t,i]=(0,o.useState)(!1);return{showing:t,handleItemEnter:(0,o.useCallback)((()=>{e.current=window.setTimeout((()=>{i(!0)}),1e3)}),[]),handleItemLeave:(0,o.useCallback)((()=>{window.clearTimeout(e.current),i(!1)}),[]),handleCardEnter:(0,o.useCallback)((()=>{window.clearTimeout(e.current),i(!0)}),[]),handleCardLeave:(0,o.useCallback)((()=>{e.current=window.setTimeout((()=>{i(!1)}),500)}),[])}}},16572:(e,t,i)=>{i.d(t,{Y:()=>a});var o=i(17941),n=i(86987);const a=()=>{const{$language:e}=(0,o.m7)((0,n.L)((()=>["$language"]),[]));return{isRTL:"ar"===e||"ur"===e||"he-IL"===e}}},53337:(e,t,i)=>{i.d(t,{vr:()=>De});var o,n=i(74512),a=i(24246),r=i(32735),l=i(66164),s=i(59719),d=i(65768),c=i(77593),u=i(958),p=i(8562),h=i(22538);function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},m.apply(this,arguments)}const g=function(e){return r.createElement("svg",m({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 21 19",width:"1em",height:"1em"},e),o||(o=r.createElement("path",{fill:"#161823",d:"M12.601 17h2.52a.84.84 0 110 1.68h-9.24a.84.84 0 110-1.68h2.1v-2.1h-6.3A1.682 1.682 0 010 13.22V1.88C0 .952.754.199 1.68.199h17.642c.927 0 1.68.753 1.68 1.68V13.22c0 .927-.753 1.68-1.68 1.68h-6.72V17zm-.84 0v-2.1h-2.94V17h2.94zM1.681 1.88v11.34h17.641V1.88H1.68z"})))};var v=i(90938),x=i(90674),b=i(45257),y=i(31191),f=i(32321),_=i(60871),j=i(21296),k=i(3585);let C=class{constructor(){this.handleSendSms=()=>{k.WB.event("send_download_link")},this.handleSmsResult=e=>{const t=e?"send_download_link_success":"send_download_link_error";k.WB.event(t)},this.handleClickAppStore=e=>{k.WB.event("click_app_store",{channel:e,enter_from:"webapp_download_modal"})}}};C=(0,y.__decorate)([(0,j.G)()],C);const w=["ast","de","en","fr","it","ja","pt"],S=["microsoft","apple","amazon","google","download"],P={apple:"ios_app_store",google:"google_play",amazon:"amazon_store",download:"download_apk",microsoft:"microsoft_store"};var T=i(40200),I=i(29984),D=i(59126),O=i(6998),R=i(25555),Z=i(22745),B=i(24400),M=i(11723),L=i(9493);const z=(0,T.Z)("div",{target:"e1obx3ji0"})((({region:e})=>({marginTop:"US"===e?"40px":"16px",display:"flex",flexDirection:"row",width:"288px",flexWrap:"wrap",justifyContent:"space-between"})),"label:DivDownloadContainer;"),F={amazon:{backgroundPosition:"0 0"},apple:{backgroundPosition:"0 -43px"},google:{backgroundPosition:"0 -86px"}},E=(0,T.Z)("a",{target:"e1obx3ji1"})({":nth-of-type(-n+2)":{marginBottom:"8px"}},"label:AIconContainer;"),A=(0,T.Z)("img",{target:"e1obx3ji2"})((({platform:e,lang:t})=>function(e,t){return"download"===e?{backgroundImage:"url('https://p16-ttug-sg.ibyteimg.com/img/ttfe-malisg/tiktok_web/store-badge/download.png~296x0.image')"}:"microsoft"!==e?Object.assign(Object.assign({},F[e]),{backgroundImage:`url(https://p16-ttug-sg.ibyteimg.com/img/ttfe-malisg/tiktok_web/store-badge/${t}.png~296x0.image)`}):void 0}(e,t)),{width:"138px",height:"40px",backgroundSize:"138px",objectFit:"cover",borderRadius:"4px"},"label:ImgIcon;"),$=(0,T.Z)("p",{target:"e1obx3ji3"})((({theme:e})=>(0,I.GI)({theme:e,typography:"P1",fontWeight:"semiBold"})),"label:PSubTitle;"),U={ast:D,de:O,en:R,fr:Z,it:B,ja:M,pt:L},V=(0,r.memo)((function(e){const{iconLanguage:t,iconConfig:i}=(0,r.useMemo)((()=>function({lang:e,$downloadLink:t={},$isIOS:i=!1,$isAndroid:o=!1}){var n;const a=e.split("-")[0],r=w.includes(a)&&!(null===(n=t.download)||void 0===n?void 0:n.visible)?a:"en";return{iconLanguage:r,iconConfig:S.reduce(((e,n)=>{const a=t[n];return(null==a?void 0:a.visible)&&function({platform:e,$isIOS:t,$isAndroid:i}){switch(e){case"apple":return!i;case"google":case"download":case"amazon":return!t;default:return!0}}({platform:n,$isAndroid:o,$isIOS:i})&&e.push({platform:n,language:r,href:a.officewebshare||a.normal,alt:`${n}-store`,target:P[n]||n}),e}),[])}}(e)),[e]),o=(0,f.fz)(C),{region:a=""}=e,l=(0,v.Q)()("add_windows_store_badge_download_app_stores"),s=(0,r.useCallback)((e=>{o.handleClickAppStore(e)}),[o]);return(0,n.jsxs)(r.Fragment,{children:[(0,n.jsx)($,{children:l},void 0),(0,n.jsx)(z,Object.assign({region:a},{children:i.map((({alt:e,href:i,platform:o})=>{return(0,n.jsx)(E,Object.assign({href:i,target:"_blank",rel:"nofollow noopener noreferrer",onClick:s.bind(null,o)},{children:(0,n.jsx)(A,{src:"microsoft"===o?(a=t,U[a]):_,platform:o,alt:e,lang:t},void 0)}),o);var a}))}),void 0)]},void 0)}));var G=i(473),W=i(88916),q=i(4825),H=i(50121);const N=(0,i(87308).ZP)({resolved:{},chunkName:()=>"qrcode.react",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!i.m[t]},importAsync:()=>Promise.resolve().then(i.t.bind(i,36751,23)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>36751});var Y,Q,J,K,X,ee;function te(){return te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},te.apply(this,arguments)}const ie=function(e){return r.createElement("svg",te({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 200 200",width:"1em",height:"1em"},e),Y||(Y=r.createElement("path",{fill:"#161823",fillRule:"evenodd",d:"M189.562 1.164a9.278 9.278 0 019.279 9.279v11.546a1.031 1.031 0 01-2.062 0V10.443a7.217 7.217 0 00-7.217-7.217h-11.546a1.031 1.031 0 010-2.062h11.546z",clipRule:"evenodd"})),r.createElement("path",{fill:"#25F4E8",fillRule:"evenodd",d:"M188.394 0a9.278 9.278 0 019.279 9.278v11.547a1.031 1.031 0 01-2.062 0V9.278a7.217 7.217 0 00-7.217-7.216h-11.546a1.031 1.031 0 010-2.062h11.546z",clipRule:"evenodd",style:{mixBlendMode:"multiply"}}),r.createElement("path",{fill:"#FE2C55",fillRule:"evenodd",d:"M190.722 2.328A9.278 9.278 0 01200 11.606v11.547a1.03 1.03 0 11-2.061 0V11.606a7.217 7.217 0 00-7.217-7.216h-11.546a1.03 1.03 0 110-2.062h11.546z",clipRule:"evenodd",style:{mixBlendMode:"multiply"}}),Q||(Q=r.createElement("path",{fill:"url(#qr-code-wrapper_svg__pattern0)",d:"M12.675 12.674h174.656v174.651H12.675V12.674z"})),J||(J=r.createElement("path",{fill:"white",d:"M80.931 81.443h38.146v38.144H80.931V81.443z"})),K||(K=r.createElement("path",{fill:"#161823",fillRule:"evenodd",d:"M1.163 10.443a9.278 9.278 0 019.279-9.279h11.546a1.03 1.03 0 110 2.062H10.442a7.216 7.216 0 00-7.217 7.217v11.546a1.031 1.031 0 11-2.062 0V10.443z",clipRule:"evenodd"})),r.createElement("path",{fill:"#25F4E8",fillRule:"evenodd",d:"M0 9.278A9.278 9.278 0 019.277 0h11.546a1.031 1.031 0 110 2.062H9.278A7.216 7.216 0 002.06 9.278v11.547a1.03 1.03 0 01-2.062 0V9.278z",clipRule:"evenodd",style:{mixBlendMode:"multiply"}}),r.createElement("path",{fill:"#FE2C55",fillRule:"evenodd",d:"M2.327 11.606a9.278 9.278 0 019.279-9.278h11.546a1.031 1.031 0 110 2.062H11.606a7.216 7.216 0 00-7.217 7.216v11.547a1.03 1.03 0 01-2.062 0V11.606z",clipRule:"evenodd",style:{mixBlendMode:"multiply"}}),X||(X=r.createElement("path",{fill:"#161823",fillRule:"evenodd",d:"M198.841 189.558a9.278 9.278 0 01-9.279 9.278h-11.546a1.03 1.03 0 110-2.062h11.546a7.217 7.217 0 007.217-7.216v-11.547a1.03 1.03 0 012.062 0v11.547z",clipRule:"evenodd"})),r.createElement("path",{fill:"#25F4E8",fillRule:"evenodd",d:"M197.673 188.393a9.278 9.278 0 01-9.278 9.278h-11.547a1.03 1.03 0 110-2.061h11.547a7.217 7.217 0 007.216-7.217v-11.546a1.03 1.03 0 112.062 0v11.546z",clipRule:"evenodd",style:{mixBlendMode:"multiply"}}),r.createElement("path",{fill:"#FE2C55",fillRule:"evenodd",d:"M200.001 190.722a9.278 9.278 0 01-9.279 9.278h-11.546a1.032 1.032 0 010-2.062h11.546a7.217 7.217 0 007.217-7.216v-11.547a1.03 1.03 0 112.062 0v11.547z",clipRule:"evenodd",style:{mixBlendMode:"multiply"}}),ee||(ee=r.createElement("path",{fill:"#161823",fillRule:"evenodd",d:"M10.442 198.836a9.278 9.278 0 01-9.279-9.278v-11.546a1.03 1.03 0 112.062 0v11.546a7.216 7.216 0 007.217 7.216h11.546a1.031 1.031 0 010 2.062H10.442z",clipRule:"evenodd"})))},oe=(0,T.Z)("div",{target:"eamnwhk0"})({textAlign:"center"},"label:DivLargeContentContainer;"),ne=(0,T.Z)("div",{target:"eamnwhk1"})((({theme:{direction:e,colors:t}})=>[{height:"72px",borderBottom:`0.5px solid ${t.LinePrimary}`,paddingTop:"24px"},(0,I.YJ)({direction:e,paddingStart:"24px"})]),"label:DivModalHeader;"),ae=(0,T.Z)("p",{target:"eamnwhk2"})((({theme:e})=>(0,I.GI)({theme:e,typography:"P0",fontWeight:"bold"})),"label:PTitle;"),re=(0,T.Z)("p",{target:"eamnwhk3"})((({theme:e})=>(0,I.GI)({theme:e,typography:"P1",fontWeight:"semiBold"})),{margin:"32px 0 24px 0",width:"auto"},"label:PSubTitle;"),le=(0,T.Z)("div",{target:"eamnwhk4"})({position:"relative",display:"flex",flexDirection:"column",alignItems:"center"},"label:DivQRContainer;"),se=(0,T.Z)(ie,{target:"eamnwhk5"})({display:"block"},"label:StyledQrBg;"),de=(0,T.Z)("div",{target:"eamnwhk6"})({position:"absolute",width:"174px",height:"174px",left:"50%",top:"50%",transform:"translate(-50%, -50%)",borderRadius:"4px",overflow:"hidden"},"label:DivQRCodeWrapper;"),ce=(0,T.Z)("img",{target:"eamnwhk7"})({width:"100%"},"label:ImgQRCode;"),ue=(0,T.Z)("div",{target:"eamnwhk12"})({display:"flex",flexDirection:"column",alignItems:"center",width:"400px",padding:"24px 24px 60px 24px"},"label:DivDownloadLContainer;"),pe=(0,r.memo)((function({$appType:e,text:t,style:i={}}){const o="t"===e?H:q;return(0,n.jsxs)(le,Object.assign({style:i},{children:[(0,n.jsx)(se,{width:"176",height:"176"},void 0),(0,n.jsx)(de,{children:t?(0,n.jsx)(N,{size:174,value:t},void 0):(0,n.jsx)(ce,{src:o},void 0)},void 0)]}),void 0)})),he=(0,r.memo)((function(e){var t,i;const{visible:o,qrCodeText:r}=e,l=(0,v.Q)(),s=null!==(t=e.title)&&void 0!==t?t:l("add_windows_store_badge_get_tiktok_app"),d=null!==(i=e.subTitle)&&void 0!==i?i:l("add_windows_store_badge_scan_qr"),c=(0,a.mp)(W.G,{selector:e=>{var t,i,o,n,a,r;return{region:null===(t=e.appContext)||void 0===t?void 0:t.$region,lang:e.lang,$isIOS:null===(i=e.appContext)||void 0===i?void 0:i.$isIOS,$isAndroid:null===(o=e.appContext)||void 0===o?void 0:o.$isAndroid,$downloadLink:null!==(a=null===(n=e.appContext)||void 0===n?void 0:n.$downloadLink)&&void 0!==a?a:{},$appType:null===(r=e.appContext)||void 0===r?void 0:r.$appType}},dependencies:[]}),{region:u,$appType:p}=c,h=(0,y.__rest)(c,["region","$appType"]);return(0,n.jsxs)(G.u,Object.assign({visible:o,onClose:e.onClose,closeStyle:3},{children:[(0,n.jsx)(ne,{children:(0,n.jsx)(ae,{children:s},void 0)},void 0),(0,n.jsxs)(oe,{children:[(0,n.jsxs)(le,{children:[(0,n.jsx)(re,{children:d},void 0),(0,n.jsx)(pe,{$appType:p,text:r},void 0)]},void 0),(0,n.jsx)(ue,{children:(0,n.jsx)(V,Object.assign({},h,{region:u}),void 0)},void 0)]},void 0)]}),void 0)}));var me=i(44141);const ge=(0,T.Z)("div",{target:"ejkrawn0"})({marginBottom:"12px",display:"flex",position:"relative"},"label:DivPromotionContainer;"),ve=(0,T.Z)("button",{target:"ejkrawn1"})(I.Ph,(({isExpand:e,theme:t})=>{const i=(0,I.$K)(t.direction,"end");return[(0,I.GI)({theme:t,typography:"P3",fontWeight:"bold",color:"TextSecondary",fontFamily:"Proxima"}),{position:e?"absolute":"relative",right:0,bottom:0,padding:"0 8px",minWidth:"90px",height:"32px",boxShadow:`0 2px 8px ${t.colors.ShadowSecondary}`,borderRadius:"52px",cursor:"pointer",lineHeight:"30px",textAlign:"center",whiteSpace:"nowrap",borderWidth:"1px",borderStyle:"solid",borderColor:t.colors.LineSecondary2,backgroundColor:t.colors.BGSecondary2,":hover":{borderColor:t.colors.LinePrimary,backgroundColor:t.colors.BGView},":active":{borderColor:t.colors.LinePrimary,backgroundColor:t.colors.BGInput},transition:"transform 0.3s cubic-bezier(.4,.14,.3,1)",transformOrigin:`${i} bottom`,transform:e?"scale(0)":"none"}]}),"label:ButtonGetAppText;"),xe=(0,T.Z)("div",{target:"ejkrawn3"})((({isExpand:e,theme:t})=>{const i=(0,I.$K)(t.direction,"end");return[(0,I.GI)({theme:t,typography:"P2",fontWeight:"bold"}),{position:e?"relative":"absolute",bottom:"-1px",background:t.colors.BGPrimary,boxShadow:`0 2px 8px ${t.colors.ShadowSecondary}`,border:`1px solid ${t.colors.LineSecondary3}`,borderRadius:"8px",transition:"all 0.3s cubic-bezier(.4,.14,.3,1)",transformOrigin:`${i} bottom`,transform:e?"none":"scale(0)"},(0,I.YJ)({direction:t.direction,end:"-1px"})]}),"label:DivExpandContainer;"),be=(0,T.Z)("div",{target:"ejkrawn4"})((({theme:{direction:e}})=>(0,I.YJ)({direction:e,end:"16px"})),{position:"absolute",top:16,cursor:"pointer"},"label:DivXMarkWrapper;"),ye=(0,T.Z)("div",{target:"ejkrawn5"})((({theme:{direction:e}})=>(0,I.YJ)({direction:e,marginEnd:48,marginStart:16})),"label:DivExpandWrapper;"),fe=(0,T.Z)("div",{target:"ejkrawn6"})((({theme:{colors:e}})=>({margin:"6px 0",display:"flex",flexDirection:"row",padding:"8px",borderRadius:"8px",cursor:"pointer",":hover":{background:e.BGView}})),"label:DivItemContainer;"),_e=(0,T.Z)("span",{target:"ejkrawn7"})((({theme:{direction:e}})=>(0,I.YJ)({direction:e,marginStart:"8px"})),{whiteSpace:"nowrap"},"label:SpanText;"),je=(0,T.Z)("div",{target:"ejkrawn8"})((({theme:{colors:e,direction:t}})=>[{width:"calc(100% - 16px)",height:"1px",position:"relative",background:e.LineSecondary2,transform:"scaleY(0.5)"},(0,I.YJ)({direction:t,start:"8px"})]),"label:DivSplit;"),ke=(0,r.memo)((function(){const e=(0,v.Q)(),{hideModal:t,showModal:i}=(0,b.J)(),[{isExpand:o,isModalShow:l,isPwaInstallable:d},c]=(0,a.b7)(me.D),m=(0,r.useCallback)((()=>{c.handleShowSnack(!1),c.setIsExpand(!0)}),[c]),y=(0,r.useCallback)((()=>{c.setIsExpand(!1),(0,s.le)(x.OV)||(0,s.D$)(x.OV,"1")}),[c]),f=(0,r.useCallback)((()=>{l||(i(),c.setIsModalShow(!0))}),[c,l,i]),_=(0,r.useCallback)((()=>{t(),c.setIsModalShow(!1)}),[c,t]),j=(0,r.useCallback)((()=>{d?m():f()}),[m,f,d]),k=(0,r.useCallback)((()=>{f(),y(),c.handleClickDownload()}),[c,y,f]),C=(0,r.useCallback)((()=>{y(),c.handleInstallationClick()}),[c,y]),w=(0,r.useMemo)((()=>!!navigator.standalone||window.matchMedia("(display-mode: standalone), (display-mode: minimal-ui)").matches),[]),{search:S}=(0,h.TH)();return(0,r.useMemo)((()=>"twa"===(0,s.St)(x.hw)||"twa"===new URLSearchParams(S).get("source")),[S])?null:(0,n.jsxs)(ge,{children:[(0,n.jsx)(ve,Object.assign({isExpand:o,onClick:j},{children:e("get_app")}),void 0),(0,n.jsxs)(xe,Object.assign({isExpand:o},{children:[(0,n.jsx)(be,Object.assign({onClick:y},{children:(0,n.jsx)(u.Z,{width:20,height:20},void 0)}),void 0),(0,n.jsxs)(ye,{children:[!w&&d&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(fe,Object.assign({onClick:C,"data-e2e":"pwa-pc"},{children:[(0,n.jsx)(g,{width:"21",height:"21"},void 0),(0,n.jsx)(_e,{children:e("get_tt_desktop")},void 0)]}),void 0),(0,n.jsx)(je,{},void 0)]},void 0),(0,n.jsxs)(fe,Object.assign({onClick:k,"data-e2e":"pwa-mobile"},{children:[(0,n.jsx)(p.Z,{width:21,height:21},void 0),(0,n.jsx)(_e,{children:e("get_tt_app")},void 0)]}),void 0)]},void 0)]}),void 0),(0,n.jsx)(he,{onClose:_,visible:l},void 0)]},void 0)}));var Ce=i(3192);const we=(0,T.Z)("div",{target:"ew8lpw50"})((({showTop:e,bottom:t=0,theme:{direction:i}})=>[(0,I.YJ)({direction:i,end:"24px"}),{position:"fixed",bottom:`${t}px`,zIndex:7,display:"flex",flexDirection:"column",alignItems:"flex-end",marginBottom:"8px",transform:e?"none":"translateY(40px)",transition:"all 400ms cubic-bezier(0.65, 0, 0.35, 1)"}]),"label:DivBottomContainer;");var Se=i(21742),Pe=i(90883);const Te=(0,T.Z)("button",{target:"ejylfo50"})(I.Ph,(({theme:{colors:e}})=>({cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",borderRadius:"52px",background:e.Primary,boxShadow:`0 2px 8px ${e.ShadowSecondary}`,":hover":{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.06), rgba(0, 0, 0, 0.06)), #FE2C55"},":active":{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.12), rgba(0, 0, 0, 0.12)), #FE2C55"}})),"label:ButtonIconContainer;"),Ie=(0,r.memo)((function(){const e=(0,f.fz)(Pe._),t=(0,r.useCallback)((()=>{(0,s.YZ)(),e.handleToTop()}),[e]);return(0,n.jsx)(Te,Object.assign({onClick:t},{children:(0,n.jsx)(Se.Z,{width:"16",height:"16",fill:"#FFF"},void 0)}),void 0)})),De=(0,r.memo)((function(){const[e,t]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!0),u=(0,l.fB)((()=>{t(0!==(0,s.cx)())}),[],200),{isInVideoFeedRedesign:p}=(0,d.y7)(),[h,m]=(0,r.useState)(0),{isCookieBannerShowing:g}=(0,a.mp)(Ce.X);(0,r.useEffect)((()=>{var e,t;if(!g)return void m(0);const i=null!==(t=null===(e=document.querySelector("div[class*=DivCookieBannerContainer]"))||void 0===e?void 0:e.offsetHeight)&&void 0!==t?t:0;m(i)}),[g]);const v=(0,r.useCallback)((()=>{o(!1)}),[]);return(0,r.useEffect)((()=>{if(!p)return window.addEventListener("scroll",u),()=>{window.removeEventListener("scroll",u)};t(!0)}),[u,p]),(0,n.jsxs)(we,Object.assign({showTop:e,bottom:h},{children:[i&&(0,n.jsx)(c.e,{onClose:v},void 0),(0,n.jsx)(ke,{},void 0),!p&&(0,n.jsx)(Ie,{},void 0)]}),void 0)}))},17425:(e,t,i)=>{i.d(t,{J:()=>pe});var o=i(31191),n=i(74512),a=i(958),r=i(69569),l=i(24246),s=i(32321),d=i(32735),c=i(66164),u=i(90938),p=i(41107),h=i(473),m=i(16572),g=i(88916),v=i(24448),x=i(54032),b=i(55643),y=i(70018),f=i(55917),_=i(8666),j=i(20628),k=i(96515),C=i(40200),w=i(29984),S=i(80829),P=i(48504);const T=(0,C.Z)("div",{target:"e140z3d00"})({position:"relative",width:400},"label:DivSendMessagePanelContainer;"),I=(0,C.Z)("div",{target:"e140z3d01"})((({theme:{direction:e}})=>[{position:"absolute",top:36,cursor:"pointer"},(0,w.YJ)({direction:e,end:32})]),"label:DivCloseButtonWrapper;"),D=(0,C.Z)("h2",{target:"e140z3d02"})((({theme:e,theme:{direction:t}})=>[(0,w.GI)({theme:e,fontFamily:"Proxima",typography:"P0",fontWeight:"bold"}),{padding:"32px 0 0"},(0,w.YJ)({direction:t,paddingStart:32,paddingEnd:62})]),"label:H2ModalTitle;"),O=(0,C.Z)("div",{target:"e140z3d03"})((({theme:e})=>({display:"flex",alignItems:"center",width:336,height:36,margin:"24px 32px 0",borderRadius:"4px",backgroundColor:e.colors.BGPlaceholderDefault})),"label:DivSearchContainer;"),R=(0,C.Z)(f.Z,{target:"e140z3d04"})((({theme:{direction:e}})=>[(0,w.YJ)({direction:e,marginStart:16,marginEnd:12})]),"label:StyledMagnifyingGlass;"),Z=(0,C.Z)("input",{target:"e140z3d05"})((({theme:e,theme:{colors:t}})=>[(0,w.GI)({theme:e,fontFamily:"Proxima",typography:"P2"}),{width:240,height:22,border:"none",outline:"none",background:"transparent",caretColor:t.Primary,"::placeholder":{color:t.TextTertiary}}]),"label:InputUser;"),B=(0,C.Z)("div",{target:"e140z3d06"})((({theme:{direction:e}})=>[{width:16,height:16,cursor:"pointer"},(0,w.YJ)({direction:e,marginStart:8})]),"label:DivClearButton;"),M=(0,C.Z)("div",{target:"e140z3d07"})({minHeight:200,marginTop:24},"label:DivUserListContainer;"),L=(0,C.Z)("p",{target:"e140z3d08"})((({theme:e})=>[(0,w.GI)({theme:e,fontFamily:"Proxima",typography:"P1",color:"TextQuaternary"}),{marginTop:74,textAlign:"center"}]),"label:PNoResult;"),z=(0,C.Z)(S.g,{target:"e140z3d09"})({width:36,height:36,margin:"6px auto 12px"},"label:StyledLoading;"),F=(0,C.Z)("p",{target:"e140z3d010"})((({theme:e,theme:{direction:t}})=>[(0,w.GI)({theme:e,fontFamily:"Proxima",typography:"P4",color:"TextTertiary"}),{marginBottom:4,fontSize:"13px"},(0,w.YJ)({direction:t,marginStart:32})]),"label:PUserTitle;"),E=(0,C.Z)("div",{target:"e140z3d011"})((({long:e,isSearching:t})=>({position:"relative",boxSizing:"border-box",overflowY:"auto",width:"100%",minHeight:t?e?578:472:200,maxHeight:e?578:472,paddingBottom:e?210:102,"::-webkit-scrollbar":{display:"none"}})),"label:DivUserListInnerContainer;"),A=(0,C.Z)("div",{target:"e140z3d012"})((({theme:e})=>({boxSizing:"border-box",display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",padding:"8px 32px",cursor:"pointer",":hover":{backgroundColor:e.colors.BGView}})),"label:DivUserItemContainer;"),$=(0,C.Z)("div",{target:"e140z3d013"})({display:"flex",flex:1,alignItems:"center",height:48},"label:DivUserItem;"),U=(0,C.Z)("div",{target:"e140z3d014"})((({theme:{direction:e}})=>(0,w.YJ)({direction:e,marginStart:12})),"label:DivRightPart;"),V=(0,C.Z)("div",{target:"e140z3d015"})([{display:"flex",alignItems:"center"}],"label:DivNicknameContainer;"),G=(0,C.Z)("span",{target:"e140z3d016"})((({theme:e})=>[(0,w.GI)({theme:e,fontFamily:"Proxima",typography:"P1",fontWeight:"bold"}),{maxWidth:220},w.wj]),"label:SpanNickname;"),W=(0,C.Z)(_.Z,{target:"e140z3d017"})((({theme:{direction:e}})=>[{flexShrink:0},(0,w.YJ)({direction:e,marginStart:4})]),"label:StyledVerifiedBadgeColor;"),q=(0,C.Z)("p",{target:"e140z3d018"})((({theme:e})=>[(0,w.GI)({theme:e,fontFamily:"Proxima",typography:"P3",color:"TextTertiary"}),{maxWidth:240,marginTop:2},w.wj]),"label:PUniqueId;"),H=(0,C.Z)("div",{target:"e140z3d019"})((({theme:{direction:e}})=>[{flexShrink:0,width:22,height:22},(0,w.YJ)({direction:e,marginStart:12})]),"label:DivCheckboxContainer;"),N=(0,C.Z)("div",{target:"e140z3d020"})({position:"absolute",bottom:0,left:0,right:0,padding:"12px 32px 32px 32px",backgroundColor:"#fff",borderRadius:"0 0 8px 8px",":before":{position:"absolute",top:0,left:0,right:0,content:'""',transform:"scaleY(.5)",width:"100%",height:1,backgroundColor:"rgba(22, 24, 35, .12)"}},"label:DivSendContainer;"),Y=(0,C.Z)(P.W,{target:"e140z3d021"})({width:336,height:46,marginTop:12},"label:StyledSendButton;"),Q=(0,C.Z)("div",{target:"e140z3d022"})({display:"flex",marginTop:12},"label:DivMessageContainer;"),J=(0,C.Z)("textarea",{target:"e140z3d023"})((({theme:e,theme:{direction:t,colors:i}})=>[(0,w.GI)({theme:e,fontFamily:"Proxima",typography:"P2"}),{display:"block",width:268,height:98,border:"none",resize:"none",outline:"none",wordBreak:"break-word",overflowWrap:"break-word",caretColor:i.Primary,"::placeholder":{color:i.TextTertiary}},(0,w.YJ)({direction:t,marginEnd:12})]),"label:Textarea;"),K=(0,C.Z)("img",{target:"e140z3d024"})({width:56,height:74},"label:ImgCover;"),X=(0,C.Z)("div",{target:"e140z3d025"})((({theme:e,theme:{direction:t}})=>[{display:"flex",alignItems:"center",width:336,padding:"12px 0 12px",margin:"16px 32px 0",borderRadius:"4px",backgroundColor:e.colors.BGView},(0,w.YJ)({direction:t,paddingStart:16,paddingEnd:4})]),"label:DivTipContainer;"),ee=(0,C.Z)(j.Z,{target:"e140z3d026"})({width:24,height:24,flexShrink:0},"label:StyledPersonArrowLeftRight;"),te=(0,C.Z)(k.Z,{target:"e140z3d027"})({width:24,height:24,flexShrink:0},"label:StyledTwoPerson;"),ie=(0,C.Z)("p",{target:"e140z3d028"})((({theme:e,theme:{direction:t}})=>[(0,w.GI)({theme:e,fontFamily:"Proxima",typography:"P4",color:"TextSecondary"}),{fontSize:"13px"},(0,w.YJ)({direction:t,marginStart:12})]),"label:PTip;");var oe=i(18654),ne=i(66036);const ae=(0,C.Z)("label",{target:"e8efyri0"})((({theme:e})=>({display:"flex",fontFamily:e.fontFamilies.Proxima,fontWeight:e.fontWeights.normal,fontSize:"14px",color:e.colors.TextPrimary,cursor:"pointer"})),"label:LabelCheckbox;"),re=(0,C.Z)("div",{target:"e8efyri1"})({color:"#fff",position:"relative"},"label:DivCheckboxSymbol;"),le=(0,C.Z)("input",{target:"e8efyri2"})((({selected:e,theme:t,theme:{direction:i}})=>[Object.assign({appearance:"none",border:`1.5px solid ${t.colors.LineSecondary}`,margin:"0 0 -2.5px 0",cursor:"pointer"},e?{border:"none",backgroundColor:t.colors.Primary}:{}),(0,w.YJ)({direction:i,marginEnd:4})]),"label:InputCheckbox;"),se=(0,C.Z)("div",{target:"e8efyri3"})((({theme:{direction:e}})=>[{pointerEvents:"none",position:"absolute",top:"3px"},(0,w.YJ)({direction:e,start:3})]),"label:DivCheckboxIcon;"),de=(0,d.memo)((function({id:e,value:t,label:i,size:o=16,isCircle:a=!0,onChange:r}){const l=o,s=o-6,c=(0,d.useCallback)((e=>{null==r||r(e.target.checked)}),[r]);return(0,n.jsxs)(ae,Object.assign({htmlFor:e},{children:[(0,n.jsxs)(re,Object.assign({className:"checkbox-symbol"+(t?" selected":"")},{children:[(0,n.jsx)(le,{style:{width:l,height:l,borderRadius:a?l/2:0},selected:t,id:e,checked:t,type:"checkbox",onChange:c},void 0),t&&(0,n.jsx)(se,Object.assign({style:{width:s,height:s}},{children:(0,n.jsx)(ne.Z,{width:s,height:s},void 0)}),void 0)]}),void 0),i]}),void 0)}));var ce=i(17941);const ue=(0,d.forwardRef)((function({uniqueId:e,isSelected:t=!1,searchValue:i="",selectedCount:o,onUserSelected:a},r){const s=(0,l.mp)(v.z,{selector:t=>t.users[e],dependencies:[e]}),c=(0,d.useRef)(null);(0,d.useImperativeHandle)(r,(()=>({get offsetTop(){var e,t;return null!==(t=null===(e=c.current)||void 0===e?void 0:e.offsetTop)&&void 0!==t?t:0}})),[]);const u=(0,d.useCallback)((()=>{o>=15&&!t||a(s,!t)}),[t,s,o,a]),{avatarThumb:p,nickname:h="",verified:m}=(0,ce.m7)(s),g=h.toLocaleLowerCase().indexOf(i.toLocaleLowerCase()),x=-1===g?0:i.length;if(!e||!s)return null;const b=h.slice(0,g),y=h.slice(g,g+x),f=h.slice(g+x);return(0,n.jsxs)(A,Object.assign({ref:c,onClick:u},{children:[(0,n.jsxs)($,{children:[(0,n.jsx)(oe.q,{size:48,src:p},void 0),(0,n.jsxs)(U,{children:[(0,n.jsxs)(V,{children:[(0,n.jsx)(G,{dangerouslySetInnerHTML:{__html:`<span>${b}<span style="color: #fe2c55">${y}</span>${f}</span>`}},void 0),m&&(0,n.jsx)(W,{width:14,height:14,style:{verticalAlign:"middle",marginLeft:4}},void 0)]},void 0),(0,n.jsx)(q,{children:e},void 0)]},void 0)]},void 0),(0,n.jsx)(H,{children:(0,n.jsx)(de,{size:22,isCircle:!1,value:t},void 0)},void 0)]}),void 0)})),pe=(0,d.memo)((function({visible:e,videoId:t,onClose:i}){const f=(0,u.Q)(),_=(0,l.mp)(g.G,{dependencies:[],selector:e=>{var t;return null===(t=e.appContext)||void 0===t?void 0:t.$user}}),j=(0,l.mp)(x.A,{selector:e=>e[t],dependencies:[t]}),{video:k,forFriend:C,author:w="",authorId:S=""}=(0,d.useMemo)((()=>null!=j?j:{}),[j]),[P,A]=(0,l.b7)(v.z,{selector:e=>e.users[w],dependencies:[t]}),{privateAccount:$,nickname:U}=(0,d.useMemo)((()=>null!=P?P:{}),[P]),[{recentUserList:V,recentUserNameList:G,recentUidList:W,followingUser:q,isFollowingLoading:H,isSendMessageLoading:oe},ne]=(0,l.b7)(y.O),ae=(0,s.fz)(p.R),re=(0,d.useRef)({recent:!1,following:!1}),le=(0,d.useRef)({recent:{list:[],hasShown:[]},following:{list:[],hasShown:[]}}),se=(0,d.useCallback)(((e,t)=>i=>{le.current[t].list[e]=i}),[]),{isRTL:de}=(0,m.Y)(),[ce,pe]=(0,d.useState)(""),[he,me]=(0,d.useState)(""),[ge,ve]=(0,d.useState)([]),[xe,be]=(0,d.useState)([]),[ye,fe]=(0,d.useState)([]),_e=ge.length,je=V.length,{list:ke,nicknameList:Ce,uidList:we,hasMore:Se}=q,Pe=ke.length,Te=_e>0,Ie=""!==ce,De=$||C;(0,d.useEffect)((()=>{e||(pe(""),me(""),ve([]),ne.setSendMessageStatus({isFailed:!1,isLoading:!1}))}),[e,ne]),(0,d.useEffect)((()=>{if(!Pe&&Se){if(_){const{uid:e,avatarUri:t,nickName:i}=_,n=(0,o.__rest)(_,["uid","avatarUri","nickName"]),a=Object.assign({id:e,nickname:i,verified:!1,relation:0,avatarThumb:t[0],avatarMedium:t[0],avatarLarger:t[0]},n);A.setUser(a),ne.updateFollowingUserList({list:[_.uniqueId],nicknameList:[i],uidList:[e],hasMore:!0,maxCursor:0,minCursor:0})}ne.getFollowingUserListWithCanShare({count:90})}}),[]),(0,d.useEffect)((()=>{Promise.resolve().then((()=>{const e=le.current.recent,t=le.current.following;if(je&&!re.current.recent&&(re.current.recent=!0,V.slice(0,5).forEach(((t,i)=>{var o,n;(null!==(n=null===(o=e.list[i])||void 0===o?void 0:o.offsetTop)&&void 0!==n?n:1/0)<354&&(ae.handleShareHeadShow({user_type:"recent",rank_index:i,is_self:t===(null==_?void 0:_.uniqueId)?1:0,to_user_id:W[i]}),e.hasShown[i]=!0)}))),Pe&&!re.current.following){if(1===Pe&&Se)return;re.current.following=!0,ke.slice(0,5).forEach(((e,i)=>{var o,n;(null!==(n=null===(o=t.list[i])||void 0===o?void 0:o.offsetTop)&&void 0!==n?n:1/0)<354&&(ae.handleShareHeadShow({user_type:"following",rank_index:i,is_self:e===(null==_?void 0:_.uniqueId)?1:0,to_user_id:we[i]}),t.hasShown[i]=!0)}))}})).catch((()=>{}))}),[null==_?void 0:_.uniqueId,ke,Pe,V,je,ae,W,we,Se]),(0,d.useEffect)((()=>{if(!ce)return;const e=[],t=[],i=ce.toLocaleLowerCase();G.forEach(((t,o)=>{(t.toLocaleLowerCase().indexOf(i)>-1||V[o].toLocaleLowerCase().indexOf(i)>-1)&&e.push(V[o])})),Ce.forEach(((o,n)=>{e.indexOf(ke[n])<0&&(o.toLocaleLowerCase().indexOf(i)>-1||ke[n].toLocaleLowerCase().indexOf(i)>-1)&&t.push(ke[n])})),be(e),fe(t)}),[ce,G,V,ke,Ce]);const Oe=(0,d.useCallback)((()=>{i()}),[i]),Re=(0,d.useCallback)(((e,t)=>{var i;if(t)e&&ve([...ge,e]),ae.handleShareVideo({platform:"chat_head",enter_method:Ie?"search":"normal",is_self:(null==e?void 0:e.id)===(null==_?void 0:_.uid)?1:0,group_id:k.id,author_id:S,to_user_id:null!==(i=null==e?void 0:e.id)&&void 0!==i?i:""});else{let t=-1;ge.some(((i,o)=>{if(i.uniqueId===(null==e?void 0:e.uniqueId))return t=o,!0})),t>-1&&(ge.splice(t,1),ve([...ge]))}}),[ge,ae,Ie,null==_?void 0:_.uid,k.id,S]),Ze=(0,d.useCallback)((e=>{const t=e.target.value;pe(t)}),[]),Be=(0,d.useCallback)((()=>{ae.handleSearchContact()}),[ae]),Me=(0,d.useCallback)((()=>{pe("")}),[]),Le=(0,d.useCallback)((e=>{const t=e.target.value;me(t)}),[]),ze=function({selectedUserList:e,messageText:t,videoId:i}){const[{conversationMap:o},n]=(0,l.b7)(y.O),a=(0,l.mp)(g.G,{dependencies:[],selector:e=>{var t;return null===(t=e.appContext)||void 0===t?void 0:t.$user}}),r=(0,l.mp)(x.A,{selector:e=>e[i],dependencies:[i]}),c=(0,s.fz)(p.R);return(0,d.useCallback)((()=>{var l;const{authorId:s="",nickname:d,authorSecId:u,avatarThumb:p,video:h}=null!=r?r:{},m=[];let g=!1;e.forEach((e=>{(null==e?void 0:e.id)===(null==a?void 0:a.uid)&&(g=!0),m.push(null==e?void 0:e.id)})),c.handleShareVideoToChat({platform:"chat_head",is_self:g?1:0,group_id:null!==(l=null==h?void 0:h.id)&&void 0!==l?l:"",author_id:s,is_with_text:t.trim()?1:0,chat_cnt:e.length,to_user_id:String(m)}),n.setSendMessageStatus({isLoading:!0,isFailed:!1}),e.forEach((e=>{const{id:a,relation:r}=e,l=!!(null==o?void 0:o[a]);n.sendMessage({uid:a,relation:r,type:8,content:{aweType:800,itemId:i,uid:s,secUID:u,content_thumb:{url_list:[p],uri:p},content_name:d,cover_url:{url_list:[null==h?void 0:h.cover],uri:null==h?void 0:h.cover},cover_width:null==h?void 0:h.width,cover_height:null==h?void 0:h.height},hasConversation:l}),t.trim()&&n.sendMessage({uid:a,relation:r,type:7,content:{aweType:0,text:t},hasConversation:l})}))}),[r,e,c,t,n,null==a?void 0:a.uid,o,i])}({selectedUserList:ge,messageText:he,videoId:t});!function({selectedUserList:e,messageText:t,handleSuccess:i,isRTL:o}){const n=(0,u.Q)(),[{isSendMessageFailed:a,successSentMessageCount:r},s]=(0,l.b7)(y.O),c=e.length;(0,d.useEffect)((()=>{var l,d,u,p;if(a&&(b.h.open({content:n("support_webapp_sharing_error_message"),duration:3,widthType:"half"}),s.setSendMessageStatus({isLoading:!1,isFailed:!1,successCount:0})),0!==r&&r===c*(t.trim()?2:1)){const t=null!==(d=null===(l=e[c-1])||void 0===l?void 0:l.nickname)&&void 0!==d?d:"",a=null!==(p=null===(u=e[c-2])||void 0===u?void 0:u.nickname)&&void 0!==p?p:"";switch(c){case 1:b.h.open({content:n("support_webapp_sharing_sent_toast_1",{username:t}),type:"success",duration:3,widthType:"half",isRTL:o});break;case 2:b.h.open({content:n("support_webapp_sharing_sent_toast_2",{username:t,username2:a}),type:"success",duration:3,widthType:"half",isRTL:o});break;default:b.h.open({content:n("support_webapp_sharing_sent_toast_3",{username:t,number:c-1}),type:"success",duration:3,widthType:"half",isRTL:o})}s.setSendMessageStatus({isLoading:!1,successCount:0}),i()}}),[a,r,e,t,c,n,s,i,o])}({selectedUserList:ge,messageText:he,handleSuccess:()=>{i()},isRTL:de});const Fe=(0,c.fB)((e=>{if(Ie)return;const t=e.target,{scrollHeight:i,scrollTop:o,clientHeight:n}=t;i-o===n&&!H&&Se&&ne.getFollowingUserListWithCanShare({count:30});const a=le.current.recent,r=le.current.following;a.list.forEach(((e,t)=>{var i;a.hasShown[t]||(null!==(i=null==e?void 0:e.offsetTop)&&void 0!==i?i:1/0)<o+n&&(ae.handleShareHeadShow({user_type:"recent",rank_index:t,is_self:V[t]===(null==_?void 0:_.uniqueId)?1:0,to_user_id:W[t]}),a.hasShown[t]=!0)})),r.list.forEach(((e,t)=>{var i;r.hasShown[t]||(null!==(i=null==e?void 0:e.offsetTop)&&void 0!==i?i:1/0)<o+n&&(ae.handleShareHeadShow({user_type:"following",rank_index:t,is_self:ke[t]===(null==_?void 0:_.uniqueId)?1:0,to_user_id:we[t]}),r.hasShown[t]=!0)}))}),[H,Se,ne,ae,V,null==_?void 0:_.uniqueId,ke,Ie,W,we],100),Ee=(0,d.useCallback)(((e,t,i)=>{const o=ge.some((t=>t.uniqueId===e));return(0,n.jsx)(ue,{uniqueId:e,isSelected:o,searchValue:ce,selectedCount:_e,onUserSelected:Re,ref:se(t,i)},t)}),[ce,_e,ge,se,Re]);return(0,n.jsx)(h.u,Object.assign({visible:e,maskCloseable:!1},{children:(0,n.jsxs)(T,{children:[(0,n.jsx)(I,Object.assign({onClick:Oe},{children:(0,n.jsx)(a.Z,{width:24,height:24},void 0)}),void 0),(0,n.jsx)(D,{children:f("support_webapp_sharing_option_button")},void 0),De&&(0,n.jsxs)(X,{children:[$?(0,n.jsx)(te,{fill:"rgba(22, 24, 35, .75)"},void 0):(0,n.jsx)(ee,{fill:"rgba(22, 24, 35, .75)"},void 0),(0,n.jsx)(ie,{children:f($?"support_webapp_sharing_toast_2":"support_webapp_sharing_toast_1",{username:U})},void 0)]},void 0),(0,n.jsxs)(O,{children:[(0,n.jsx)(R,{width:24,height:24,fill:Ie?"":"rgba(22, 24, 35, .34)"},void 0),(0,n.jsx)(Z,{value:ce,placeholder:f("support_webapp_sharing_searchbar_ghosttext"),onChange:Ze,onClick:Be},void 0),Ie&&(0,n.jsx)(B,Object.assign({onClick:Me},{children:(0,n.jsx)(r.Z,{width:16,height:16,fill:"rgba(22, 24, 35, .34)"},void 0)}),void 0)]},void 0),(0,n.jsx)(M,{children:(0,n.jsx)(E,Object.assign({long:Te,isSearching:Ie,onScroll:Fe},{children:(()=>{if(Ie){const e=xe.length>0||ye.length>0;return(0,n.jsxs)(n.Fragment,{children:[xe.map(((e,t)=>Ee(e,t,"recent"))),ye.map(((e,t)=>Ee(e,t,"following"))),!e&&(0,n.jsx)(L,{children:f("support_webapp_sharing_search_results")},void 0)]},void 0)}return(0,n.jsxs)(n.Fragment,{children:[0!==je&&(0,n.jsx)(F,{children:f("support_webapp_sharing_recent")},void 0),V.map(((e,t)=>Ee(e,t,"recent"))),(0,n.jsx)(F,Object.assign({style:{marginTop:je?12:0}},{children:f("support_webapp_sharing_following")}),void 0),ke.map(((e,t)=>Ee(e,t,"following"))),H&&(0,n.jsx)(z,{},void 0)]},void 0)})()}),void 0)},void 0),(0,n.jsxs)(N,{children:[Te&&(0,n.jsxs)(Q,{children:[(0,n.jsx)(J,{value:he,placeholder:f("support_webapp_sharing_write_a_message"),maxLength:6e3,onChange:Le},void 0),(0,n.jsx)(K,{src:null==k?void 0:k.cover},void 0)]},void 0),(0,n.jsxs)(Y,Object.assign({buttonTheme:"primary",disabled:!Te,onClick:ze,loading:oe},{children:[f("support_webapp_sharing_send_button"),_e>1?`(${_e})`:""]}),void 0)]},void 0)]},void 0)}),void 0)}))},27721:(e,t,i)=>{i.d(t,{g:()=>v});var o=i(74512),n=i(78387),a=i(66990),r=i(46063),l=i(24246),s=i(32735),d=i(90938),c=i(86987);const u={general_sensitive:"masklayer_general_title",photo_sensitive:"photosensitive_masklayer_title",photo_sensitive_denied:"photosensitive_masklayer_removed"},p={general_sensitive:["masklayer_general_body"],photo_sensitive:["photosensitive_masklayer_body1","photosensitive_masklayer_body2"],photo_sensitive_denied:["photosensitive_masklayer_removed_body1","photosensitive_masklayer_removed_body3"]},h={general_sensitive:"masklayer_general_skip",photo_sensitive:"photosensitive_masklayer_watch",photo_sensitive_denied:""},m={general_sensitive:"masklayer_general_watch",photo_sensitive:"photosensitive_masklayer_skipall",photo_sensitive_denied:""};var g=i(70221);const v=({playMode:e,item:t})=>{var i;const v=(0,d.Q)(),{$user:x}=null!==(i=(0,c.L)((()=>["$user"]),[]))&&void 0!==i?i:{},{photoSensitiveVideosSetting:b,uid:y}=null!=x?x:{},{photoSensitiveVideosSetting:f}=(0,l.mp)(g.P);return(0,s.useMemo)((()=>{const{maskType:i,authorId:l}=t,s=3===i,d=4===i;if(!d&&!s)return{showVideoMask:!1};if(d&&(2===b||2===f||l===y&&0!==b))return{showVideoMask:!1};let c;c=s?"general_sensitive":1===f?"photo_sensitive_denied":"photo_sensitive";const g=v(u[c]),x=p[c].map((e=>v(e))).join(""),_=((e,t)=>{let i=null,l=48;switch(e){case"general_sensitive":l=0===t?36:53,i=(0,o.jsx)(n.Z,{width:l,height:l,fill:"rgba(255, 255, 255, .75)"},void 0);break;case"photo_sensitive":l=0===t?32:48,i=(0,o.jsx)(a.Z,{width:l,height:l,fill:"#fff"},void 0);break;case"photo_sensitive_denied":l=0===t?32:48,i=(0,o.jsx)(r.Z,{width:l,height:l,fill:"#0BE09B"},void 0)}return i})(c,e),j=v(((e,t)=>2===t||3===t||0===t&&"photo_sensitive"===e?h[e]:"")(c,e)),k=v(((e,t)=>2===t||3===t||0===t&&"general_sensitive"===e?m[e]:"")(c,e));return{showVideoMask:!0,maskType:c,videoMaskTitle:g,videoMaskDesc:x,icon:_,videoMaskFirstButtonText:j,videoMaskSecondButtonText:k}}),[t,b,f,y,v,e])}},91538:(e,t,i)=>{i.d(t,{a:()=>y});var o=i(74512),n=i(32735),a=i(59719),r=i(40200),l=i(29984),s=i(48504);const d=(0,r.Z)("div",{target:"e4uoj5v0"})((({theme:e,playMode:t})=>[{position:"absolute",zIndex:3===t?0:1,width:"100%",height:"100%",left:"0",top:"0",backdropFilter:"blur(50px)",backgroundColor:e.colors.SDSecondary},2===t?{left:"-80px",right:"-80px",width:"unset"}:null]),"label:DivVideoMask;"),c=(0,r.Z)("div",{target:"e4uoj5v1"})((({playMode:e})=>[{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:2===e?"calc(100% - 160px)":"100%",maxWidth:"515px",padding:0===e?"32px":"48px"},3===e?{width:"463px"}:{}]),"label:DivVideoMaskContainer;"),u=(0,r.Z)("div",{target:"e4uoj5v2"})({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},"label:DivVideoMaskInfo;"),p=(0,r.Z)("div",{target:"e4uoj5v3"})((({theme:e,playMode:t})=>({display:"flex",justifyContent:"center",alignItems:"center",width:0===t?"72px":"106px",height:0===t?"72px":"106px",borderRadius:"50%",backgroundColor:e.colors.ConstBGContainer2,color:e.colors.Positive})),"label:DivVideoMaskIcon;"),h=(0,r.Z)("p",{target:"e4uoj5v4"})((({theme:e,theme:{colors:t},playMode:i})=>[(0,l.GI)({theme:e,fontFamily:"Proxima",fontWeight:"semiBold"}),{fontSize:0===i?"17px":"24px",lineHeight:0===i?"20px":"32px",textAlign:"center",color:t.ConstTextInverse2,marginTop:0===i?"20px":"24px"}]),"label:PVideoMaskTitle;"),m=(0,r.Z)("p",{target:"e4uoj5v5"})((({theme:e,playMode:t})=>[(0,l.GI)({theme:e,typography:0===t?"H6":"P1",fontFamily:"Proxima",fontWeight:"normal"}),{textAlign:"center",color:"rgba(255, 255, 255, .75)",marginTop:0===t?"12px":"16px"}]),"label:PVideoMaskDesc;"),g=(0,r.Z)("div",{target:"e4uoj5v6"})((({playMode:e,horizontal:t})=>({marginTop:0===e?t?"20px":"80px":"180px"})),"label:DivBtnWrapper;");function v(e){const{theme:t,second:i,playMode:o}=e;return[l.wj,(0,l.GI)({theme:t,typography:"P1",fontFamily:"Proxima",fontWeight:"semiBold"}),{display:"block",minWidth:"unset",width:"100%",height:0===o?"36px":"56px",marginBottom:i?"0":"8px",background:i?t.colors.ConstBGContainer:t.colors.Primary},i?{"&:hover":{background:t.colors.ConstBGContainer2},"&:active":{background:t.colors.ConstBGContainer3}}:null,0===o?{fontSize:"14px",lineHeight:"17px"}:null]}const x=(0,r.Z)(s.W,{target:"e4uoj5v7"})((e=>v(e)),"label:StyledButtonFirst;"),b=(0,r.Z)(s.W,{target:"e4uoj5v8"})((e=>v(e)),"label:StyledButtonSecond;"),y=(0,n.memo)((e=>{const{playMode:t,icon:i,title:r,desc:l,horizontal:s=!1,firstButtonText:v,secondButtonText:y,canClickPropagation:f=!1,onClickFirstButton:_,onClickSecondButton:j}=e,k=Boolean(v),C=Boolean(y),w=(0,n.useCallback)((e=>{!f&&(0,a.NS)(e)}),[f]);return(0,o.jsx)(d,Object.assign({playMode:t,onClick:w},{children:(0,o.jsxs)(c,Object.assign({playMode:t},{children:[(0,o.jsxs)(u,{children:[Boolean(i)&&(0,o.jsx)(p,Object.assign({playMode:t},{children:i}),void 0),Boolean(r)&&(0,o.jsx)(h,Object.assign({playMode:t},{children:r}),void 0),Boolean(l)&&(0,o.jsx)(m,Object.assign({playMode:t},{children:l}),void 0)]},void 0),(0,o.jsxs)(g,Object.assign({horizontal:s,playMode:t},{children:[k&&(0,o.jsx)(x,Object.assign({type:"button",buttonTheme:"primary",playMode:t,onClick:_},{children:v}),void 0),C&&(0,o.jsx)(b,Object.assign({type:"button",buttonTheme:"primary",playMode:t,second:!0,onClick:j},{children:y}),void 0)]}),void 0)]}),void 0)}),void 0)}))},56749:(e,t,i)=>{i.d(t,{S:()=>E});var o=i(31191),n=i(74512),a=i(32735),r=i(65597),l=i(24246),s=i(32321),d=i(73895),c=i(48214),u=i(79006),p=i(52970),h=i(17941),m=i(42018),g=i(11166),v=i(40200),x=i(80829);const b=(0,v.Z)("div",{target:"e1yey0rl0"})((({horizontal:e,mode:t})=>[{width:"100%",height:"100%",overflow:"hidden",position:"relative",backgroundColor:"rgba(22, 24, 35, .06)",backgroundSize:e?"contain":"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},2===t||1===t||3===t?{display:"flex",alignItems:"center",justifyContent:"center"}:null]),"label:DivContainer;"),y=(0,v.Z)("img",{target:"e1yey0rl1"})((({horizontal:e,mode:t})=>2!==t&&3!==t&&4!==t?{width:"100%",height:"100%",objectFit:"cover"}:{width:"100%",height:"100%",objectFit:e?"contain":"cover"}),"label:ImgPoster;"),f=(0,v.Z)("div",{target:"e1yey0rl2"})((({horizontal:e=!0})=>({position:"absolute",left:0,top:0,width:"100%",height:"100%","& .xgplayer video":{display:"block",width:"100%",height:"100%",objectFit:e?"contain":"cover"}})),"label:DivBasicPlayerWrapper;"),_=(0,v.Z)(x.g,{target:"e1yey0rl3"})({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},"label:StyledLoading;"),j=(0,v.Z)("video",{target:"e1yey0rl4"})((({horizontal:e})=>({display:"block",width:"100%",height:"100%",objectFit:e?"contain":"cover"})),"label:VideoBasic;"),k=e=>({buffered:null==e?void 0:e.buffered,currentSrc:null==e?void 0:e.currentSrc,currentTime:null==e?void 0:e.currentTime,duration:null==e?void 0:e.duration,readyState:null==e?void 0:e.readyState,error:null==e?void 0:e.error}),C=(0,a.memo)((0,a.forwardRef)((function(e,t){var{playProgress:i,horizontal:r,muteSetting:s,onUnmount:d,onEnded:c,onWaiting:u}=e,p=(0,o.__rest)(e,["playProgress","horizontal","muteSetting","onUnmount","onEnded","onWaiting"]);const h=(0,a.useRef)(null),m=(0,a.useRef)(!1),[{mute:v,volume:x},{setMute:b,setMuteSetting:y}]=(0,l.b7)(g.x,{selector:e=>({mute:e.muteSetting||e.mute,volume:e.volume}),dependencies:[]}),f=(0,l.mp)(g.x,{selector:e=>e.playing,dependencies:[]});(0,a.useImperativeHandle)(t,(()=>{const e=h.current;return{play:null==e?void 0:e.play.bind(e),pause:null==e?void 0:e.pause.bind(e),seek:t=>{if(e){const i=e.duration;e.currentTime=i*t}},seekTime:t=>{e&&(e.currentTime=t)},onSeeked:t=>{null==e||e.addEventListener("seeked",t)},onSeeking:t=>{null==e||e.addEventListener("seeking",t)},onTimeUpdate:t=>{null==e||e.addEventListener("timeupdate",(()=>{var i,o;const n=null!==(i=e.currentTime)&&void 0!==i?i:0,a=null!==(o=e.duration)&&void 0!==o?o:0;t(n/a,n,a)}))},onCanPlay:t=>{null==e||e.addEventListener("canplay",t)},getPlayerAttributes:()=>k(e)}}));const _=(0,a.useCallback)(((e=0)=>(0,o.__awaiter)(this,void 0,void 0,(function*(){var t,i,o;if(!(e>=3))try{yield null===(t=h.current)||void 0===t?void 0:t.play()}catch(t){const n=null!==(i=null==t?void 0:t.message)&&void 0!==i?i:"";(null!==(o=n.match("failed because the user didn't interact with the document first."))&&void 0!==o?o:n.match("The request is not allowed by the user agent or the platform in the current context"))?(b(!0),setTimeout((()=>{_(e+1)}),0)):_(e+1)}}))),[b]);(0,a.useEffect)((()=>{h.current&&(h.current.volume=x)}),[x]),(0,a.useEffect)((()=>{y(s),_(),h.current&&Math.abs(h.current.currentTime-i)>.2&&(h.current.currentTime=i)}),[s,i,y,_]),(0,a.useEffect)((()=>{var e;f?m.current&&(m.current=!1,_()):(m.current=!0,null===(e=h.current)||void 0===e||e.pause())}),[f,_]),(0,a.useEffect)((()=>{const e=h.current;return()=>{null==d||d(k(e))}}),[]);const C=(0,a.useCallback)((e=>{null==u||u(e)}),[u]),w=(0,a.useCallback)((e=>{null==c||c(e),_()}),[c,_]);return(0,n.jsx)(j,Object.assign({horizontal:r,ref:h},p,{muted:v,playsInline:!0,autoPlay:!0,onEnded:w,onWaiting:C}),void 0)})));var w=i(73323);const S=(0,a.memo)((0,a.forwardRef)((function({poster:e,lazyLoading:t=!0,horizontal:i,playUrl:o,id:r,teaParams:v,index:x,mode:j,itemMute:k,desc:S,onVideoPause:P,onVideoPlaying:T,onVideoPlay:I,onVideoEnded:D,onVideoError:O,e2eTag:R,onTimeUpdate:Z,subtitleStruct:B},M){const{currentVideo:L,playProgress:z}=(0,l.mp)(w.f),{updateVVTime:F}=(0,l.qj)(w.f),E=(0,a.useRef)(null),A=(0,a.useRef)(null),$=(0,s.fz)(d.e),U=(0,s.fz)(c.k),V=(0,s.fz)(u.KF),[G,W]=(0,a.useState)(!1),q=(0,a.useCallback)((()=>{var e,t;null===(t=null===(e=E.current)||void 0===e?void 0:e.play)||void 0===t||t.call(e)}),[]),H=(0,a.useCallback)((()=>{var e,t;null===(t=null===(e=E.current)||void 0===e?void 0:e.pause)||void 0===t||t.call(e)}),[]),N=(0,a.useMemo)((()=>{if(!L)return!1;const{id:e,index:t,mode:i}=L;return e===r&&t===x&&i===j}),[r,x,j,L]);(0,a.useImperativeHandle)(M,(()=>({play:()=>{q(),A.current=!0},pause:()=>{H(),A.current=!1,$.triggerPause({enter_method:"click_pause",playMode:j})},seek:e=>{var t;null===(t=E.current)||void 0===t||t.seek(e)},seekTime:e=>{var t;null===(t=E.current)||void 0===t||t.seekTime(e)},onSeeked:e=>{var t;null===(t=E.current)||void 0===t||t.onSeeked(e)},onSeeking:e=>{var t;null===(t=E.current)||void 0===t||t.onSeeking(e)},onTimeUpdate:e=>{var t;null===(t=E.current)||void 0===t||t.onTimeUpdate(e)},get currentTime(){var e,t;return null!==(t=null===(e=E.current)||void 0===e?void 0:e.getPlayerAttributes().currentTime)&&void 0!==t?t:0},get duration(){var e,t;return null!==(t=null===(e=E.current)||void 0===e?void 0:e.getPlayerAttributes().duration)&&void 0!==t?t:0},get currentCanPlay(){return N&&G}})),[q,H,$,j,N,G]),(0,a.useEffect)((()=>{N||W(!1)}),[N]);const Y=(0,p.Mz)();(0,a.useEffect)((()=>{const e=null===A.current||A.current;Y&&e?q():(H(),N&&!Y&&$.triggerPause({enter_method:"switch_tab",playMode:j}))}),[Y,q,H,$,N,j]);const Q=(0,a.useCallback)((()=>{var e;const t=(0,h.m7)(null===(e=E.current)||void 0===e?void 0:e.getPlayerAttributes()),{bitrate:i,author_id:o,format:n,encodedType:a,videoQuality:l,encodeUserTag:s,codecType:d,definition:c,secret:u,forFriend:p}=v;return Object.assign({id:r,authorId:o,playMode:j,bitrate:i,format:n,encodedType:a,videoQuality:l,encodeUserTag:s,codecType:d,definition:c,secret:u,forFriend:p},null!=t?t:{})}),[r,j,v]),{mute:J}=(0,l.mp)(g.x),K=(0,a.useMemo)((()=>{const{group_id:e="",author_id:t="",is_scheduled:i,search_id:o,search_keyword:n,search_result_id:a,question_id:r}=v||{};return{itemId:e,authorId:t,isScheduled:Boolean(i),autoplayStatus:1,searchId:o,searchKeyword:n,searchResultId:a,questionId:r,playMode:j,isMute:J}}),[j,J,v]),X=(0,a.useCallback)((()=>{var e;const{currentTime:t=0,duration:i=0}=(0,h.m7)(null===(e=E.current)||void 0===e?void 0:e.getPlayerAttributes());return Object.assign(Object.assign({},K),{currentTime:t,duration:i})}),[K]),{loading:ee,handleCanPlayWithLoading:te,handlePauseWithLoading:ie,handlePlayingWithLoading:oe,handleWaitingWithLoading:ne}=(0,p.Fk)({isCurrentVideo:N}),ae=(0,a.useCallback)((()=>{U.handleLoadStart(Q())}),[U,Q]),re=(0,a.useCallback)((()=>{U.handleLoadedData(Q())}),[U,Q]),le=(0,a.useCallback)((()=>{te(),W(!0),V.getCurrentPageReport()||(V.reportVideoFirstScreen({endTime:Date.now(),videoSource:o}),V.reportVideoAddition({endTime:Date.now(),videoSource:o}))}),[te,o,V]),se=(0,a.useCallback)((e=>{U.handlePlay(),null==I||I(e)}),[U,I]),de=(0,a.useCallback)((()=>{var e;const{currentTime:t=0,duration:i=0}=(0,h.m7)(null===(e=E.current)||void 0===e?void 0:e.getPlayerAttributes()),o=$.handleTimeUpdate(X());U.handleTimeUpdate(Q()),"video_play"===o&&F(),V.getFirstFrameReport()||V.reportVideoFirstFrame(t),null==Z||Z(t/i)}),[$,X,U,Q,V,Z,F]),ce=(0,p.ru)(),ue=(0,a.useCallback)((e=>{null==O||O(e),ce(e),$.handleError(K),U.handleError(Q())}),[O,ce,$,K,U,Q]),pe=(0,a.useCallback)((e=>{null==P||P(e),ie(),U.handlePause(Q()),$.handlePause(X())}),[P,ie,U,Q,$,X]),he=(0,a.useCallback)((e=>{null==T||T(e),oe(),V.reportVideoInteract({endTime:Date.now(),videoSource:o})}),[T,oe,V,o]),me=(0,a.useCallback)((()=>{ne(),$.handleWaiting(X()),U.handleWaiting(Q())}),[ne,$,X,U,Q]),ge=(0,a.useCallback)((e=>{null==D||D(e),$.handleEnded(K),U.handleEnded()}),[D,$,K,U]),ve=(0,a.useCallback)((e=>{$.handlePlayTime(K),U.reset(r,Object.assign(Object.assign({},Q()),e))}),[r,$,K,U,Q]);(0,a.useEffect)((()=>{N||null==P||P({})}),[N,P]);const xe=i||2===j||3===j||4===j;return(0,n.jsxs)(b,Object.assign({horizontal:i,mode:j},{children:[e?(0,n.jsx)(y,{horizontal:xe,mode:j,src:e,alt:S,loading:t?"lazy":"eager"},void 0):null,N&&(0,n.jsxs)(f,Object.assign({"data-e2e":R},{children:[(0,n.jsx)(C,{ref:E,horizontal:xe,muteSetting:k||m.P[j].forceMute,defaultMute:m.P[j].defaultMute,playProgress:null!=z?z:0,src:o,onUnmount:ve,onLoadStart:ae,onLoadedData:re,onTimeUpdate:de,onError:ue,onCanPlay:le,onPause:pe,onPlay:se,onPlaying:he,onWaiting:me,onEnded:ge},void 0),ee&&(0,n.jsx)(_,{},void 0),4===j&&B?(0,n.jsx)("track",{default:!0,kind:"subtitles",srclang:B.language,src:B.url},void 0):null]}),void 0)]}),void 0)})));var P=i(13581),T=i.n(P),I=i(28223),D=i(68081),O=i(54884),R=i(15121),Z=i.n(R);let B=!0;const M={width:"100%",height:"100%",controls:!1,closeVideoClick:!0,closeVideoDblclick:!0,closeVideoTouch:!0,closePlayerBlur:!0,closeControlsBlur:!0,closeFocusVideoFocus:!0,closePlayVideoFocus:!0,closeVideoStopPropagation:!0,ignores:["play","start"]},L=(e,t)=>{var i,o,n,a,r,l,s;const d=null!==(o=null===(i=null==e?void 0:e.video)||void 0===i?void 0:i.error)&&void 0!==o?o:null,c=null===(n=null==e?void 0:e.video)||void 0===n?void 0:n.buffered,u=null!==(a=null==e?void 0:e._needFilterFallbackCase)&&void 0!==a&&a,p=null==e?void 0:e.currentTime,h=u&&p>0,m=null==e?void 0:e._resetNeedFilterFallbackCase,g=null==e?void 0:e._videoType,v=null==e?void 0:e._playerType;return{buffered:c,currentTime:p,currentSrc:null!=t?t:null==e?void 0:e.currentSrc,duration:null==e?void 0:e.duration,readyState:null===(r=null==e?void 0:e.video)||void 0===r?void 0:r.readyState,networkState:null===(l=null==e?void 0:e.video)||void 0===l?void 0:l.networkState,error:d?{code:null==d?void 0:d.code,message:null!==(s=null==e?void 0:e.error)&&void 0!==s?s:(null==d?void 0:d.message)||"UNKNOWN_ERROR_MESSAGE",MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4}:null,videoType:g,playerType:v,needFilterFallbackCase:h,resetNeedFilterFallbackCase:m}},z=(0,a.memo)((0,a.forwardRef)((function({id:e,url:t,mode:i,muteSetting:r,playProgress:d,onLoadStart:c,onLoadedData:u,onCanPlay:p,onPause:h,onPlay:m,onPlaying:v,onTimeUpdate:x,onWaiting:b,onEnded:y,onError:f,onUnmount:_,onVideoChange:j,subtitleStruct:k},C){const[w,S]=(0,a.useState)(!1),P=(0,a.useRef)(!1),R=(0,a.useRef)(null),[{mute:z,volume:F},{setMute:E,setMuteSetting:A}]=(0,l.b7)(g.x,{selector:e=>({mute:e.muteSetting||e.mute,volume:e.volume}),dependencies:[]}),$=(0,s.fz)(I.Re);(0,a.useEffect)((()=>{const o=$.getPreloadUrls(),n=(e=>{const{id:t,mode:i,preloadUrlsList:o,url:n,onAutoplayFailed:a}=e,r=`xgwrapper-${i}-${t}`,l=Object.assign({url:n,id:r,autoplay:B,plugins:[Z()],Mp4EncryptPlayer:{vid:`TT-vCache-${t}`,minBufferLength:5,maxBufferLength:15,preloadTime:5,preloadCacheType:1,preloadMaxCacheCount:5,needPreloadRangeList:!0,needPreloadCheck:!0,xhrSetup:function(e){e.withCredentials=!0}}},M),s=new D.ZP(l);return s._videoType="mp4",s._playerType="xgplayer",(null==o?void 0:o.length)&&s.plugins.mp4encryptplayer.addPreloaderList((e=>{const t=[];return e.forEach(((e,i)=>{const{id:o,url:n}=e,a={order:i,data:{vid:`TT-vCache-${o}`,payload:[{url:n}],preloadTime:5}};t.push(a)})),t})(o)),s.on("PRELOAD_INFO",(e=>{const i=(0,I.Ld)();null==i||i.setPreloadCacheInfo(t,e)})),s.on("playCatch",(e=>{s._videoType=e,s._playerType="defaultPlayer",s._needFilterFallbackCase=!0})),s.on(O.AUTOPLAY_PREVENTED,(()=>{null==a||a(),setTimeout((()=>{try{s.play()}catch(e){console.error("handle xgplayer autoplay error...")}}),0)})),s._resetNeedFilterFallbackCase=()=>{s._needFilterFallbackCase=!1},B=!1,s})({id:e,url:t,mode:i,preloadUrlsList:o,onAutoplayFailed:()=>{E(!0)}});R.current=n,S(!0)}),[e,t,i,$,E]);const U=(0,l.mp)(g.x,{selector:e=>e.playing,dependencies:[]});(0,a.useImperativeHandle)(C,(()=>{const e=R.current;return{play:()=>(0,o.__awaiter)(this,void 0,void 0,(function*(){try{(null==e?void 0:e.isCanplay)?yield null==e?void 0:e.play():null==e||e.once("canplay",(()=>(0,o.__awaiter)(this,void 0,void 0,(function*(){yield null==e?void 0:e.play()}))))}catch(e){console.error("Video play error: ",e)}})),pause:()=>{try{null==e||e.pause()}catch(e){console.error("Video pause error: ",e)}},seek:t=>{if(e){const i=e.duration;e.currentTime=i*t}},seekTime:t=>{e&&(e.currentTime=t)},onSeeked:t=>{null==e||e.on("seeked",t)},onSeeking:t=>{null==e||e.on("seeking",t)},onTimeUpdate:t=>{null==e||e.on("timeupdate",(()=>{var i,o;const n=null!==(i=e.currentTime)&&void 0!==i?i:0,a=null!==(o=e.duration)&&void 0!==o?o:0;t(n/a,n,a)}))},onCanPlay:t=>{null==e||e.on("canplay",t)},getPlayerAttributes:()=>L(e,t)}}));const V=(0,a.useCallback)(((e=0)=>(0,o.__awaiter)(this,void 0,void 0,(function*(){var t,i,n,a,r;if(!(e>=3))try{(null===(t=R.current)||void 0===t?void 0:t.isCanplay)?yield null===(i=R.current)||void 0===i?void 0:i.play():null===(n=R.current)||void 0===n||n.once("canplay",(()=>(0,o.__awaiter)(this,void 0,void 0,(function*(){var e;yield null===(e=R.current)||void 0===e?void 0:e.play()}))))}catch(t){const i=null!==(a=t.message)&&void 0!==a?a:"",o=i.indexOf("new load request")>-1,n=null!==(r=i.match("failed because the user didn't interact with the document first."))&&void 0!==r?r:i.match("The request is not allowed by the user agent or the platform in the current context");if(o)return;n?(E(!0),setTimeout((()=>{V(e+1)}),0)):V(e+1)}}))),[E]),G=(0,a.useCallback)((()=>{var e;try{(null===(e=R.current)||void 0===e?void 0:e.replay)&&R.current.replay()}catch(e){setTimeout((()=>{E(!0)}),0)}}),[E]);(0,a.useEffect)((()=>{w&&R.current&&(R.current.muted=z,R.current.volume=F)}),[w,z,F]),(0,a.useEffect)((()=>{const e=R.current;A(r),w&&V(),e&&Math.abs(e.currentTime-d)>.2&&(e.currentTime=d)}),[r,d,V,A,w]);const W=(0,a.useCallback)((e=>{w&&(null==b||b(e))}),[w,b]),q=(0,a.useCallback)((e=>{w&&(null==y||y(e),G())}),[w,y,G]),H=(0,a.useMemo)((()=>new Map([["loadstart",c],["loadeddata",u],["timeupdate",x],["error",f],["canplay",p],["pause",h],["play",m],["playing",v],["waiting",W],["ended",q]])),[q,W,p,f,c,u,h,m,v,x]);return(0,a.useEffect)((()=>{var e;if(w){for(const[t,i]of H)null===(e=R.current)||void 0===e||e.on(t,null!=i?i:T());return()=>{var e,t;if(null===(e=R.current)||void 0===e?void 0:e.off)for(const[e,i]of H)null===(t=R.current)||void 0===t||t.off(e,null!=i?i:T())}}}),[w,H]),(0,a.useEffect)((()=>{var e;U?P.current&&(P.current=!1,V()):(P.current=!0,null===(e=R.current)||void 0===e||e.pause())}),[U,V]),(0,a.useEffect)((()=>()=>{_(L(R.current,t))}),[]),(0,a.useEffect)((()=>()=>{var e,t;S(!1),(null===(e=R.current)||void 0===e?void 0:e.cancelPreloadTask)&&R.current.cancelPreloadTask(),(null===(t=R.current)||void 0===t?void 0:t.destroy)&&R.current.destroy(),R.current=null,null==j||j(!1)}),[e,t,i,j]),(0,n.jsx)("div",Object.assign({id:`xgwrapper-${i}-${e}`,className:"xgplayer-container"},{children:4===i&&k?(0,n.jsx)("track",{default:!0,kind:"subtitles",srclang:k.language,src:k.url},void 0):null}),void 0)}))),F=(0,a.memo)((0,a.forwardRef)((function({poster:e,lazyLoading:t=!0,horizontal:i,playUrl:o,id:r,teaParams:v,index:x,mode:j,itemMute:k,desc:C,onVideoPause:S=T(),onVideoPlaying:P=T(),onVideoPlay:D,onVideoEnded:O,onVideoError:R,onTimeUpdate:Z,onVideoInit:B=T(),e2eTag:M,subtitleStruct:L},F){const{currentVideo:E,playProgress:A}=(0,l.mp)(w.f),$=(0,s.fz)(d.e),U=(0,s.fz)(c.k),V=(0,s.fz)(u.KF),G=(0,a.useRef)(null),W=(0,a.useRef)(null),[q,H]=(0,a.useState)(!1),[N,Y]=(0,a.useState)(o);(0,a.useEffect)((()=>{const{id:e,mode:t}=null!=E?E:{};e===r&&j===t||Y(o)}),[E,r,j,o]);const Q=(0,a.useCallback)((()=>{var e,t;try{null===(t=null===(e=G.current)||void 0===e?void 0:e.play)||void 0===t||t.call(e)}catch(e){}}),[]),J=(0,a.useCallback)((()=>{var e,t;null===(t=null===(e=G.current)||void 0===e?void 0:e.pause)||void 0===t||t.call(e)}),[]),K=(0,a.useMemo)((()=>{if(!E)return!1;const{id:e,index:t,mode:i}=E;return e===r&&t===x&&i===j}),[r,x,j,E]);(0,a.useImperativeHandle)(F,(()=>({play:()=>{Q(),W.current=!0},pause:()=>{J(),W.current=!1,$.triggerPause({enter_method:"click_pause",playMode:j})},seek:e=>{var t;null===(t=G.current)||void 0===t||t.seek(e)},seekTime:e=>{var t;null===(t=G.current)||void 0===t||t.seekTime(e)},onSeeked:e=>{var t;null===(t=G.current)||void 0===t||t.onSeeked(e)},onSeeking:e=>{var t;null===(t=G.current)||void 0===t||t.onSeeking(e)},onTimeUpdate:e=>{var t;null===(t=G.current)||void 0===t||t.onTimeUpdate(e)},get currentTime(){var e,t;return null!==(t=null===(e=G.current)||void 0===e?void 0:e.getPlayerAttributes().currentTime)&&void 0!==t?t:0},get duration(){var e,t;return null!==(t=null===(e=G.current)||void 0===e?void 0:e.getPlayerAttributes().duration)&&void 0!==t?t:0},get currentCanPlay(){return K&&q}})),[q,K,j,J,Q,$]),(0,a.useEffect)((()=>{K||H(!1)}),[K]);const X=(0,p.Mz)();(0,a.useEffect)((()=>{const e=null===W.current||W.current;X&&e?Q():(J(),K&&!X&&$.triggerPause({enter_method:"switch_tab",playMode:j}))}),[X,Q,J,$,K,j]);const ee=(0,a.useCallback)((()=>{var e;const t=(0,h.m7)(null===(e=G.current)||void 0===e?void 0:e.getPlayerAttributes()),{bitrate:i,author_id:o,format:n,encodedType:a,videoQuality:l,encodeUserTag:s,codecType:d,definition:c,secret:u,forFriend:p}=v;return Object.assign({id:r,authorId:o,playMode:j,bitrate:i,format:n,encodedType:a,videoQuality:l,encodeUserTag:s,codecType:d,definition:c,secret:u,forFriend:p},null!=t?t:{})}),[r,j,v]),{mute:te}=(0,l.mp)(g.x),ie=(0,a.useMemo)((()=>{const{group_id:e,author_id:t,is_scheduled:i,search_id:o,search_keyword:n,search_result_id:a,question_id:r}=v;return{itemId:e,authorId:t,isScheduled:Boolean(i),autoplayStatus:1,searchId:o,searchKeyword:n,searchResultId:a,questionId:r,playMode:j,isMute:te}}),[j,te,v]),oe=(0,a.useCallback)((()=>{var e;const{currentTime:t=0,duration:i=0}=(0,h.m7)(null===(e=G.current)||void 0===e?void 0:e.getPlayerAttributes());return Object.assign(Object.assign({},ie),{currentTime:t,duration:i})}),[ie]),{loading:ne,handleCanPlayWithLoading:ae,handlePauseWithLoading:re,handlePlayingWithLoading:le,handleWaitingWithLoading:se}=(0,p.Fk)({isCurrentVideo:K}),de=(0,a.useCallback)((()=>{U.handleLoadStart(ee())}),[U,ee]),ce=(0,a.useCallback)((()=>{U.handleLoadedData(ee())}),[U,ee]),ue=(0,a.useCallback)((()=>{ae(),H(!0),null==B||B(!0),V.getCurrentPageReport()||(V.reportVideoFirstScreen({endTime:Date.now(),videoSource:N}),V.reportVideoAddition({endTime:Date.now(),videoSource:N}))}),[ae,B,V,N]),pe=(0,a.useCallback)((e=>{U.handlePlay(),null==D||D(e)}),[U,D]),he=(0,a.useCallback)((()=>{var e;const{currentTime:t=0,duration:i=0,needFilterFallbackCase:o,resetNeedFilterFallbackCase:n,videoType:a,playerType:l}=(0,h.m7)(null===(e=G.current)||void 0===e?void 0:e.getPlayerAttributes()),s=(0,I.Ld)(),{byteLength:d,duration:c}=s.getPreloadCacheInfo(r);$.handleTimeUpdate(oe()),U.handleTimeUpdate(Object.assign(Object.assign({},ee()),{preload_size:d,preload_time:c,video_type:a,player_type:l,should_filter:o})),V.getFirstFrameReport()||V.reportVideoFirstFrame(t),o&&(null==n||n()),null==Z||Z(t/i)}),[$,oe,U,ee,V,Z,r]),me=(0,p.A4)(),ge=(0,a.useCallback)((e=>{var t;null==R||R(e),me(null===(t=G.current)||void 0===t?void 0:t.getPlayerAttributes()),$.handleError(ie),U.handleError(ee())}),[R,me,$,ie,U,ee]),ve=(0,a.useCallback)((e=>{S(e),re(),U.handlePause(ee()),$.handlePause(oe())}),[S,re,U,ee,$,oe]),xe=(0,a.useCallback)((e=>{P(e),le(),V.reportVideoInteract({endTime:Date.now(),videoSource:N})}),[P,le,V,N]),be=(0,a.useCallback)((()=>{var e,t;se();const i=ee(),{buffered:o,currentTime:n=0,duration:a=0}=i,r=(null!==(e=null==o?void 0:o.length)&&void 0!==e?e:0)>0&&null!==(t=null==o?void 0:o.start(0))&&void 0!==t?t:0;Math.abs(r-n)<.5||Math.abs(a-n)<.5||($.handleWaiting(oe()),U.handleWaiting(ee()))}),[oe,ee,se,$,U]),ye=(0,a.useCallback)((e=>{null==O||O(e),$.handleEnded(ie),U.handleEnded()}),[O,$,ie,U]),fe=(0,a.useCallback)((e=>{const t=(0,I.Ld)(),{byteLength:i,duration:o}=t.getPreloadCacheInfo(r);$.handlePlayTime(ie),U.reset(r,Object.assign(Object.assign(Object.assign({},ee()),e),{preload_size:i,preload_time:o}))}),[ee,r,$,ie,U]);(0,a.useEffect)((()=>{K||null==S||S({})}),[K,S]);const _e=(0,a.useCallback)((()=>{null==B||B()}),[B]),je=i||2===j||3===j||4===j;return(0,n.jsxs)(b,Object.assign({horizontal:i,mode:j},{children:[e?(0,n.jsx)(y,{horizontal:je,mode:j,src:e,alt:C,loading:t?"lazy":"eager"},void 0):null,K&&(0,n.jsxs)(f,Object.assign({horizontal:je,"data-e2e":M},{children:[(0,n.jsx)(z,{ref:G,id:r,url:N,mode:j,muteSetting:k||m.P[j].forceMute,defaultMute:m.P[j].defaultMute,playProgress:null!=A?A:0,onUnmount:fe,onLoadStart:de,onLoadedData:ce,onTimeUpdate:he,onError:ge,onCanPlay:ue,onPause:ve,onPlay:pe,onPlaying:xe,onWaiting:be,onEnded:ye,onVideoChange:_e,subtitleStruct:L},void 0),ne&&(0,n.jsx)(_,{},void 0)]}),void 0)]}),void 0)}))),E=(0,a.memo)((0,a.forwardRef)((function(e,t){var{isInExperiment:i,playerTestVid:l}=e,s=(0,o.__rest)(e,["isInExperiment","playerTestVid"]);const d=(0,a.useRef)(null),{isMsePlayer:c}=(0,a.useContext)(r.V);return(0,a.useImperativeHandle)(t,(()=>({play:()=>{var e,t;(null===(e=d.current)||void 0===e?void 0:e.play)&&(null===(t=d.current)||void 0===t||t.play())},pause:()=>{var e,t;(null===(e=d.current)||void 0===e?void 0:e.pause)&&(null===(t=d.current)||void 0===t||t.pause())},seek:e=>{var t,i;(null===(t=d.current)||void 0===t?void 0:t.seek)&&(null===(i=d.current)||void 0===i||i.seek(e))},seekTime:e=>{var t,i;(null===(t=d.current)||void 0===t?void 0:t.seekTime)&&(null===(i=d.current)||void 0===i||i.seekTime(e))},onSeeked:e=>{var t,i;(null===(t=d.current)||void 0===t?void 0:t.onSeeked)&&(null===(i=d.current)||void 0===i||i.onSeeked(e))},onSeeking:e=>{var t,i;(null===(t=d.current)||void 0===t?void 0:t.onSeeking)&&(null===(i=d.current)||void 0===i||i.onSeeking(e))},onTimeUpdate:e=>{var t,i;(null===(t=d.current)||void 0===t?void 0:t.onTimeUpdate)&&(null===(i=d.current)||void 0===i||i.onTimeUpdate(e))},get currentTime(){var e,t;return null!==(t=null===(e=d.current)||void 0===e?void 0:e.currentTime)&&void 0!==t?t:0},get duration(){var e,t;return null!==(t=null===(e=d.current)||void 0===e?void 0:e.duration)&&void 0!==t?t:0},get currentCanPlay(){var e,t;return null!==(t=null===(e=d.current)||void 0===e?void 0:e.currentCanPlay)&&void 0!==t&&t}}))),i&&c?(0,n.jsx)(F,Object.assign({},s,{ref:d}),void 0):(0,n.jsx)(S,Object.assign({},s,{ref:d}),void 0)})))},59126:(e,t,i)=>{e.exports=i.p+"25b0d4f3e6779acb114f.png"},6998:(e,t,i)=>{e.exports=i.p+"1db62e2b736e1cc835a3.png"},25555:(e,t,i)=>{e.exports=i.p+"f1596f39e85631c052c4.png"},22745:(e,t,i)=>{e.exports=i.p+"b5b0c8fab7d18dff2e2a.png"},24400:(e,t,i)=>{e.exports=i.p+"2097820e1be2c7a06bf8.png"},11723:(e,t,i)=>{e.exports=i.p+"a028a67e740da091b89b.png"},9493:(e,t,i)=>{e.exports=i.p+"0433f99adc0a040142f6.png"},60871:(e,t,i)=>{e.exports=i.p+"d60c66b9f5dc9647f3a3.png"},4825:(e,t,i)=>{e.exports=i.p+"c287bca871661e22ee8a.png"},50121:(e,t,i)=>{e.exports=i.p+"47624c235266dedd8e4d.png"}}]);